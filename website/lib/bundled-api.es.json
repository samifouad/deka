[
  {
    "slug": [
      "api-reference",
      "blocks",
      "index"
    ],
    "metadata": {
      "title": "/blocks",
      "description": "Consultar bloques de blockchain"
    },
    "content": "Consulta bloques en la blockchain de Tana. Los bloques se producen cada 6 segundos y contienen transacciones confirmadas.\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/blocks</b></code> <code>(listar bloques)</code></summary>\n\n### Solicitud\n\n```bash\ncurl \"http://localhost:8080/blocks?limit=10&offset=0\"\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>número</td>\n    <td>opcional (por defecto: 10)</td>\n  </tr>\n <tr>\n    <td>**offset**</td>\n    <td>número</td>\n    <td>opcional (por defecto: 0)</td>\n  </tr>\n</table>\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n[\n  {\n    \"id\": \"blk_xyz789\",\n    \"height\": 42,\n    \"hash\": \"0x1a2b3c...\",\n    \"previousHash\": \"0x9z8y7x...\",\n    \"stateRoot\": \"0x4d5e6f...\",\n    \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n    \"transactionCount\": 5,\n    \"producerId\": \"usr_leader1\"\n  },\n  {\n    \"id\": \"blk_abc123\",\n    \"height\": 41,\n    \"hash\": \"0x9z8y7x...\",\n    \"previousHash\": \"0x6g5h4i...\",\n    \"stateRoot\": \"0x7j8k9l...\",\n    \"timestamp\": \"2024-11-08T12:00:00.000Z\",\n    \"transactionCount\": 3,\n    \"producerId\": \"usr_leader1\"\n  }\n]\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [x] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [ ] Admin\n\n### Ejemplo\n\n**Solicitud:**\n\n```bash\ncurl \"http://localhost:8080/blocks?limit=2\"\n```\n\n**Respuesta:**\n\n```json\n[\n  {\n    \"id\": \"blk_xyz789\",\n    \"height\": 42,\n    \"hash\": \"0x1a2b3c4d5e6f...\",\n    \"previousHash\": \"0x9z8y7x6w5v...\",\n    \"stateRoot\": \"0x4d5e6f7g8h...\",\n    \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n    \"transactionCount\": 5,\n    \"producerId\": \"usr_leader1\"\n  },\n  {\n    \"id\": \"blk_abc123\",\n    \"height\": 41,\n    \"hash\": \"0x9z8y7x6w5v...\",\n    \"previousHash\": \"0x6g5h4i3j2k...\",\n    \"stateRoot\": \"0x7j8k9l0m1n...\",\n    \"timestamp\": \"2024-11-08T12:00:00.000Z\",\n    \"transactionCount\": 3,\n    \"producerId\": \"usr_leader1\"\n  }\n]\n```\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/blocks/latest</b></code> <code>(obtener el último bloque)</code></summary>\n\n### Solicitud\n\n```bash\ncurl http://localhost:8080/blocks/latest\n```\n\n### Parámetros\n\nNinguno\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"blk_xyz789\",\n  \"height\": 42,\n  \"hash\": \"0x1a2b3c...\",\n  \"previousHash\": \"0x9z8y7x...\",\n  \"stateRoot\": \"0x4d5e6f...\",\n  \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n  \"transactionCount\": 5,\n  \"producerId\": \"usr_leader1\",\n  \"transactions\": [\n    {\n      \"id\": \"tx_1a2b3c4d5e6f\",\n      \"type\": \"transfer\",\n      \"from\": \"usr_abc123\",\n      \"to\": \"usr_def456\"\n    }\n  ]\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"No blocks found\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [x] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/blocks/:height</b></code> <code>(obtener bloque por altura)</code></summary>\n\n### Solicitud\n\n```bash\ncurl http://localhost:8080/blocks/42\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**height**</td>\n    <td>número</td>\n    <td>requerido (parámetro de URL)</td>\n  </tr>\n</table>\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"blk_xyz789\",\n  \"height\": 42,\n  \"hash\": \"0x1a2b3c...\",\n  \"previousHash\": \"0x9z8y7x...\",\n  \"stateRoot\": \"0x4d5e6f...\",\n  \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n  \"transactionCount\": 5,\n  \"producerId\": \"usr_leader1\",\n  \"transactions\": [\n    {\n      \"id\": \"tx_1a2b3c4d5e6f\",\n      \"type\": \"transfer\",\n      \"from\": \"usr_abc123\",\n      \"to\": \"usr_def456\"\n    }\n  ]\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Invalid block height\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Block not found\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [x] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/blocks/hash/:hash</b></code> <code>(obtener bloque por hash)</code></summary>\n\n### Solicitud\n\n```bash\ncurl http://localhost:8080/blocks/hash/0x1a2b3c4d5e6f...\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**hash**</td>\n    <td>cadena (hex)</td>\n    <td>requerido (parámetro de URL)</td>\n  </tr>\n</table>\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"blk_xyz789\",\n  \"height\": 42,\n  \"hash\": \"0x1a2b3c4d5e6f...\",\n  \"previousHash\": \"0x9z8y7x...\",\n  \"stateRoot\": \"0x4d5e6f...\",\n  \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n  \"transactionCount\": 5,\n  \"producerId\": \"usr_leader1\",\n  \"transactions\": [\n    {\n      \"id\": \"tx_1a2b3c4d5e6f\",\n      \"type\": \"transfer\",\n      \"from\": \"usr_abc123\",\n      \"to\": \"usr_def456\"\n    }\n  ]\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Block not found\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [x] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [ ] Admin\n\n</details>\n\n### Referencia Rápida\n\n**Listar todos los bloques:**\n\n```bash\ncurl \"http://localhost:8080/blocks?limit=10\"\n```\n\n```json\n[\n  {\n    \"id\": \"blk_xyz789\",\n    \"height\": 42,\n    \"hash\": \"0x1a2b3c...\",\n    \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n    \"transactionCount\": 5\n  }\n]\n```\n\n**Obtener el último bloque:**\n\n```bash\ncurl \"http://localhost:8080/blocks/latest\"\n```\n\n```json\n{\n  \"id\": \"blk_xyz789\",\n  \"height\": 42,\n  \"hash\": \"0x1a2b3c...\",\n  \"transactionCount\": 5,\n  \"transactions\": [...]\n}\n```\n\n**Obtener bloque por altura:**\n\n```bash\ncurl \"http://localhost:8080/blocks/42\"\n```\n\n**Obtener bloque por hash:**\n\n```bash\ncurl \"http://localhost:8080/blocks/hash/0x1a2b3c...\"\n```\n\n### Método No Permitido\n\nLos siguientes métodos no son compatibles:\n\n<code className=\"text-green-400\">POST</code> <code className=\"text-orange-400\">PUT</code> <code className=\"text-red-400\">DELETE</code> <code className=\"text-purple-400\">PATCH</code>\n",
    "html": "<p>Consulta bloques en la blockchain de Tana. Los bloques se producen cada 6 segundos y contienen transacciones confirmadas.</p>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/blocks</b></code> <code>(listar bloques)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"0\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>número</td>\n    <td>opcional (por defecto: 10)</td>\n  </tr>\n <tr>\n    <td>**offset**</td>\n    <td>número</td>\n    <td>opcional (por defecto: 0)</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"1\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[x] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[ ] Admin</li>\n</ul>\n<h3>Ejemplo</h3>\n<p><strong>Solicitud:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"2\"></div>\n<p><strong>Respuesta:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"3\"></div>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/blocks/latest</b></code> <code>(obtener el último bloque)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"4\"></div>\n<h3>Parámetros</h3>\n<p>Ninguno</p>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"5\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"6\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[x] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/blocks/:height</b></code> <code>(obtener bloque por altura)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"7\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**height**</td>\n    <td>número</td>\n    <td>requerido (parámetro de URL)</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"8\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"9\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"10\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[x] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/blocks/hash/:hash</b></code> <code>(obtener bloque por hash)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"11\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**hash**</td>\n    <td>cadena (hex)</td>\n    <td>requerido (parámetro de URL)</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"12\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"13\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[x] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<h3>Referencia Rápida</h3>\n<p><strong>Listar todos los bloques:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"14\"></div>\n<div class=\"code-block-placeholder\" data-index=\"15\"></div>\n<p><strong>Obtener el último bloque:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"16\"></div>\n<div class=\"code-block-placeholder\" data-index=\"17\"></div>\n<p><strong>Obtener bloque por altura:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"18\"></div>\n<p><strong>Obtener bloque por hash:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"19\"></div>\n<h3>Método No Permitido</h3>\n<p>Los siguientes métodos no son compatibles:</p>\n<p><code className=\"text-green-400\">POST</code> <code className=\"text-orange-400\">PUT</code> <code className=\"text-red-400\">DELETE</code> <code className=\"text-purple-400\">PATCH</code></p>\n",
    "codeBlocks": [
      {
        "lang": "bash",
        "code": "curl \"http://localhost:8080/blocks?limit=10&offset=0\""
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"id\": \"blk_xyz789\",\n    \"height\": 42,\n    \"hash\": \"0x1a2b3c...\",\n    \"previousHash\": \"0x9z8y7x...\",\n    \"stateRoot\": \"0x4d5e6f...\",\n    \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n    \"transactionCount\": 5,\n    \"producerId\": \"usr_leader1\"\n  },\n  {\n    \"id\": \"blk_abc123\",\n    \"height\": 41,\n    \"hash\": \"0x9z8y7x...\",\n    \"previousHash\": \"0x6g5h4i...\",\n    \"stateRoot\": \"0x7j8k9l...\",\n    \"timestamp\": \"2024-11-08T12:00:00.000Z\",\n    \"transactionCount\": 3,\n    \"producerId\": \"usr_leader1\"\n  }\n]"
      },
      {
        "lang": "bash",
        "code": "curl \"http://localhost:8080/blocks?limit=2\""
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"id\": \"blk_xyz789\",\n    \"height\": 42,\n    \"hash\": \"0x1a2b3c4d5e6f...\",\n    \"previousHash\": \"0x9z8y7x6w5v...\",\n    \"stateRoot\": \"0x4d5e6f7g8h...\",\n    \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n    \"transactionCount\": 5,\n    \"producerId\": \"usr_leader1\"\n  },\n  {\n    \"id\": \"blk_abc123\",\n    \"height\": 41,\n    \"hash\": \"0x9z8y7x6w5v...\",\n    \"previousHash\": \"0x6g5h4i3j2k...\",\n    \"stateRoot\": \"0x7j8k9l0m1n...\",\n    \"timestamp\": \"2024-11-08T12:00:00.000Z\",\n    \"transactionCount\": 3,\n    \"producerId\": \"usr_leader1\"\n  }\n]"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/blocks/latest"
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"blk_xyz789\",\n  \"height\": 42,\n  \"hash\": \"0x1a2b3c...\",\n  \"previousHash\": \"0x9z8y7x...\",\n  \"stateRoot\": \"0x4d5e6f...\",\n  \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n  \"transactionCount\": 5,\n  \"producerId\": \"usr_leader1\",\n  \"transactions\": [\n    {\n      \"id\": \"tx_1a2b3c4d5e6f\",\n      \"type\": \"transfer\",\n      \"from\": \"usr_abc123\",\n      \"to\": \"usr_def456\"\n    }\n  ]\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"No blocks found\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/blocks/42"
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"blk_xyz789\",\n  \"height\": 42,\n  \"hash\": \"0x1a2b3c...\",\n  \"previousHash\": \"0x9z8y7x...\",\n  \"stateRoot\": \"0x4d5e6f...\",\n  \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n  \"transactionCount\": 5,\n  \"producerId\": \"usr_leader1\",\n  \"transactions\": [\n    {\n      \"id\": \"tx_1a2b3c4d5e6f\",\n      \"type\": \"transfer\",\n      \"from\": \"usr_abc123\",\n      \"to\": \"usr_def456\"\n    }\n  ]\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Invalid block height\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Block not found\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/blocks/hash/0x1a2b3c4d5e6f..."
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"blk_xyz789\",\n  \"height\": 42,\n  \"hash\": \"0x1a2b3c4d5e6f...\",\n  \"previousHash\": \"0x9z8y7x...\",\n  \"stateRoot\": \"0x4d5e6f...\",\n  \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n  \"transactionCount\": 5,\n  \"producerId\": \"usr_leader1\",\n  \"transactions\": [\n    {\n      \"id\": \"tx_1a2b3c4d5e6f\",\n      \"type\": \"transfer\",\n      \"from\": \"usr_abc123\",\n      \"to\": \"usr_def456\"\n    }\n  ]\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Block not found\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl \"http://localhost:8080/blocks?limit=10\""
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"id\": \"blk_xyz789\",\n    \"height\": 42,\n    \"hash\": \"0x1a2b3c...\",\n    \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n    \"transactionCount\": 5\n  }\n]"
      },
      {
        "lang": "bash",
        "code": "curl \"http://localhost:8080/blocks/latest\""
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"blk_xyz789\",\n  \"height\": 42,\n  \"hash\": \"0x1a2b3c...\",\n  \"transactionCount\": 5,\n  \"transactions\": [...]\n}"
      },
      {
        "lang": "bash",
        "code": "curl \"http://localhost:8080/blocks/42\""
      },
      {
        "lang": "bash",
        "code": "curl \"http://localhost:8080/blocks/hash/0x1a2b3c...\""
      }
    ]
  },
  {
    "slug": [
      "api-reference",
      "identity",
      "index"
    ],
    "metadata": {
      "title": "/auth (Servicio de Identidad)",
      "description": "API de autenticación y gestión de sesiones orientada a móviles"
    },
    "content": "El Servicio de Identidad proporciona autenticación segura para las aplicaciones de Tana utilizando autenticación con código QR móvil primero (similar a WhatsApp Web). Las claves privadas permanecen exclusivamente en los dispositivos móviles, mientras que las computadoras de escritorio/portátiles solo reciben tokens de sesión.\n\n**URL Base:** `http://localhost:8090` (desarrollo) o `https://auth.tana.network` (producción)\n\n**Conceptos Clave:**\n- **Autenticación basada en sesión** - Sin claves privadas en escritorio/portátil\n- **Inicio de sesión con código QR** - La aplicación móvil escanea el QR del sitio web\n- **Eventos Enviados por el Servidor (SSE)** - Actualizaciones de estado de sesión en tiempo real\n- **Firmas Ed25519** - Prueba criptográfica de propiedad\n- **Seguridad de hardware** - Claves privadas protegidas por el enclave seguro del dispositivo móvil\n\n---\n\n## Flujo de Autenticación\n\n```\n1. Website → POST /auth/session/create\n   Returns: sessionId, challenge, QR data\n\n2. Website → GET /auth/session/:id/events (SSE)\n   Streams: Real-time session status updates\n\n3. Mobile App → GET /auth/session/:id\n   Returns: Session details, marks as \"scanned\"\n\n4. User approves on mobile\n\n5. Mobile App → POST /auth/session/:id/approve\n   Body: Signed challenge with Ed25519\n\n6. SSE → \"approved\" event to website\n   Includes: sessionToken for authenticated requests\n\n7. Website uses sessionToken for subsequent API calls\n```\n\n---\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/auth/session/create</b></code> <code>(crear sesión de inicio de sesión QR)</code></summary>\n\n### Solicitud\n\n```bash\ncurl -X POST http://localhost:8090/auth/session/create \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"returnUrl\": \"http://localhost:3000/dashboard\",\n    \"appName\": \"My Tana App\",\n    \"appIcon\": \"https://example.com/icon.png\"\n  }'\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**returnUrl**</td>\n    <td>cadena (URL)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**appName**</td>\n    <td>cadena</td>\n    <td>opcional</td>\n  </tr>\n <tr>\n    <td>**appIcon**</td>\n    <td>cadena (URL)</td>\n    <td>opcional</td>\n  </tr>\n</table>\n\n### Respuesta\n\n```json\n{\n  \"sessionId\": \"sess_3ogy2lnxi0fl4rlz\",\n  \"challenge\": \"auth_chal_b92f3aed...\",\n  \"expiresAt\": 1762915859863,\n  \"expiresIn\": 300,\n  \"qrData\": \"{\\\"sessionId\\\":\\\"sess_...\\\",\\\"challenge\\\":\\\"auth_chal_...\\\",\\\"service\\\":\\\"tana-identity\\\"}\"\n}\n```\n\n**Estado:** `201 Created`\n\n**Caso de Uso:** El sitio web inicia el flujo de inicio de sesión creando una sesión y mostrando el código QR\n\n</details>\n\n---\n\n<details>\n <summary><code className=\"text-cyan-400\">GET</code> <code><b>/auth/session/:id/events</b></code> <code>(stream SSE para actualizaciones en tiempo real)</code></summary>\n\n### Solicitud\n\n```bash\ncurl -N http://localhost:8090/auth/session/sess_abc123/events\n```\n\n### Eventos Enviados por el Servidor\n\n**Evento de conexión:**\n```json\nevent: connected\ndata: {\"type\":\"connected\",\"sessionId\":\"sess_abc123\"}\n```\n\n**Evento de actualización de estado:**\n```json\nevent: status\ndata: {\"type\":\"status\",\"status\":\"waiting\",\"scannedAt\":null,\"approvedAt\":null}\n```\n\n**Evento escaneado:**\n```json\nevent: status\ndata: {\"type\":\"status\",\"status\":\"scanned\",\"scannedAt\":\"2025-01-11T19:00:00.000Z\",\"approvedAt\":null}\n```\n\n**Evento aprobado (terminal):**\n```json\nevent: approved\ndata: {\n  \"type\":\"approved\",\n  \"sessionToken\":\"tana_session_abc123...\",\n  \"userId\":\"usr_alice\",\n  \"username\":\"@alice\",\n  \"returnUrl\":\"http://localhost:3000/dashboard\"\n}\n```\n\n**Evento rechazado (terminal):**\n```json\nevent: rejected\ndata: {\"type\":\"rejected\"}\n```\n\n**Evento expirado (terminal):**\n```json\nevent: expired\ndata: {\"type\":\"expired\"}\n```\n\n**Estado:** `200 OK` (mantiene la conexión abierta)\n\n**Caso de Uso:** El sitio web abre una conexión SSE para recibir actualizaciones de estado en tiempo real a medida que el usuario escanea/aprueba en el móvil\n\n</details>\n\n---\n\n<details>\n <summary><code className=\"text-cyan-400\">GET</code> <code><b>/auth/session/:id</b></code> <code>(obtener detalles de la sesión)</code></summary>\n\n### Solicitud\n\n```bash\ncurl http://localhost:8090/auth/session/sess_abc123\n```\n\n### Respuesta\n\n```json\n{\n  \"sessionId\": \"sess_abc123\",\n  \"challenge\": \"auth_chal_b92f3aed...\",\n  \"status\": \"waiting\",\n  \"appName\": \"My Tana App\",\n  \"appIcon\": \"https://example.com/icon.png\",\n  \"expiresAt\": 1762915859863\n}\n```\n\n**Estado:** `200 OK`\n\n**Efecto Secundario:** Si el estado de la sesión es \"esperando\", se marca automáticamente como \"escaneado\"\n\n**Caso de Uso:** La aplicación móvil escanea el código QR y recupera los detalles de la sesión\n\n</details>\n\n---\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/auth/session/:id/approve</b></code> <code>(aprobar inicio de sesión con firma)</code></summary>\n\n### Solicitud\n\n```bash\ncurl -X POST http://localhost:8090/auth/session/sess_abc123/approve \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"userId\": \"usr_alice\",\n    \"username\": \"@alice\",\n    \"publicKey\": \"ed25519_abc123...\",\n    \"signature\": \"0x1a2b3c...\",\n    \"message\": \"I approve this login session: auth_chal_b92f3aed...\"\n  }'\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**userId**</td>\n    <td>cadena (UUID)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**username**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**publicKey**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**signature**</td>\n    <td>cadena (hex)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**message**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n</table>\n\n### Respuesta\n\n```json\n{\n  \"success\": true,\n  \"sessionToken\": \"tana_session_abc123...\",\n  \"returnUrl\": \"http://localhost:3000/dashboard\"\n}\n```\n\n**Estado:** `200 OK`\n\n**Validación:**\n- La firma Ed25519 debe ser válida para el mensaje y la clave pública proporcionados\n- El mensaje debe contener el desafío de la sesión\n- La sesión debe estar en estado \"esperando\" o \"escaneado\"\n- La sesión no debe haber expirado\n\n**Caso de Uso:** El usuario aprueba el inicio de sesión en la aplicación móvil, que firma el desafío con la clave privada\n\n</details>\n\n---\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/auth/session/:id/reject</b></code> <code>(rechazar inicio de sesión)</code></summary>\n\n### Solicitud\n\n```bash\ncurl -X POST http://localhost:8090/auth/session/sess_abc123/reject\n```\n\n### Respuesta\n\n```json\n{\n  \"success\": true\n}\n```\n\n**Estado:** `200 OK`\n\n**Caso de Uso:** El usuario rechaza el intento de inicio de sesión en la aplicación móvil\n\n</details>\n\n---\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/auth/session/validate</b></code> <code>(validar token de sesión)</code></summary>\n\n### Solicitud\n\n```bash\ncurl -X POST http://localhost:8090/auth/session/validate \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"sessionToken\": \"tana_session_abc123...\"\n  }'\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**sessionToken**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n</table>\n\n### Respuesta (Válida)\n\n```json\n{\n  \"valid\": true,\n  \"userId\": \"usr_alice\",\n  \"username\": \"@alice\"\n}\n```\n\n**Estado:** `200 OK`\n\n### Respuesta (Inválida)\n\n```json\n{\n  \"error\": \"Invalid or expired session token\"\n}\n```\n\n**Estado:** `401 Unauthorized`\n\n**Caso de Uso:** Los servicios de backend validan los tokens de sesión de las solicitudes autenticadas\n\n</details>\n\n---\n\n## Modelo de Seguridad\n\n### Aislamiento de Claves Privadas\n\n**✅ SEGURO (Dispositivo Móvil):**\n- Claves privadas almacenadas en enclave seguro respaldado por hardware (iOS) / StrongBox (Android)\n- Protección biométrica (Face ID, Touch ID, huella digital)\n- El sandboxing a nivel de sistema operativo previene la extracción de claves\n- Firmas generadas dentro del hardware seguro\n\n**❌ INSEGURO (Escritorio/Portátil):**\n- Sin claves privadas - solo tokens de sesión\n- Los tokens de sesión son revocables y limitados en el tiempo (30 días)\n- Los tokens proporcionan acceso de solo lectura a la blockchain\n- Las computadoras de escritorio son más vulnerables al malware\n\n### ¿Por Qué No Extensiones de Navegador?\n\nTana rechaza explícitamente el modelo de MetaMask/extensión de navegador:\n\n1. **Riesgo de Malware** - Las computadoras de escritorio son objetivos principales de malware\n2. **Vulnerabilidades del Navegador** - Las extensiones tienen permisos amplios\n3. **Extracción de Claves** - El almacenamiento de claves basado en software puede ser comprometido\n4. **Comportamiento del Usuario** - Los usuarios instalan muchas extensiones de fuentes no confiables\n\n### Ventajas Móvil Primero\n\n1. **Seguridad de Hardware** - El enclave seguro protege las claves a nivel de hardware\n2. **Autenticación Biométrica** - Face ID/Touch ID para cada transacción\n3. **Superficie de Ataque Más Pequeña** - Sandboxing de aplicaciones iOS/Android\n4. **Conciencia del Usuario** - La aprobación móvil hace que cada acción sea explícita\n5. **Prevención de Pérdida** - Los dispositivos pueden ser borrados de forma remota\n\n### Seguridad del Flujo de Autenticación\n\n1. **Desafío-Respuesta** - Desafío aleatorio previene ataques de repetición\n2. **Firmas Ed25519** - Prueba criptográfica de propiedad\n3. **Límites de Tiempo** - Las sesiones expiran después de 5 minutos (inicio de sesión) o 30 días (token)\n4. **Seguimiento de Estado** - Máquina de estados \"esperando\" → \"escaneado\" → \"aprobado\"\n5. **Actualizaciones SSE** - Retroalimentación en tiempo real sin sondeo\n\n## Ciclo de Vida de la Sesión\n\n**Estados de Sesión:**\n- `waiting` - Código QR mostrado, esperando escaneo móvil\n- `scanned` - La aplicación móvil ha recuperado los detalles de la sesión\n- `approved` - Usuario aprobado y firma verificada → token generado\n- `rejected` - Usuario rechazó el intento de inicio de sesión\n- `expired` - La sesión ha expirado (5 minutos)\n\n**Ciclo de Vida del Token de Sesión:**\n- Generado después de la aprobación con verificación de firma Ed25519\n- Expira 30 días después de la aprobación\n- Puede ser revocado en cualquier momento\n- Utilizado para solicitudes API autenticadas subsiguientes\n\n## Respuestas de Error\n\n**404 No Encontrado:**\n```json\n{\n  \"error\": \"Session not found\"\n}\n```\n\n**400 Solicitud Incorrecta:**\n```json\n{\n  \"error\": \"Invalid signature\"\n}\n```\n\n```json\n{\n  \"error\": \"Challenge mismatch\"\n}\n```\n\n```json\n{\n  \"error\": \"Session expired\"\n}\n```\n\n**401 No Autorizado:**\n```json\n{\n  \"error\": \"Invalid or expired session token\"\n}\n```\n\n**500 Error Interno del Servidor:**\n```json\n{\n  \"error\": \"Failed to create session\"\n}\n```\n\n## Documentación Relacionada\n\n- [Protocolo de Autenticación Móvil](/docs/MOBILE_AUTH_PROTOCOL.md) - Especificación detallada del protocolo\n- [Guía de Firma de Transacciones](/guides/transaction-signing/) - Cómo funcionan las firmas Ed25519\n- [Variables de Entorno](/contributing/env-vars/) - Configurar `IDENTITY_DB_URL` y `IDENTITY_PORT`\n- [Arquitectura](/contributing/architecture/) - Servicio de identidad en el diseño del sistema\n",
    "html": "<p>El Servicio de Identidad proporciona autenticación segura para las aplicaciones de Tana utilizando autenticación con código QR móvil primero (similar a WhatsApp Web). Las claves privadas permanecen exclusivamente en los dispositivos móviles, mientras que las computadoras de escritorio/portátiles solo reciben tokens de sesión.</p>\n<p><strong>URL Base:</strong> <code>http://localhost:8090</code> (desarrollo) o <code>https://auth.tana.network</code> (producción)</p>\n<p><strong>Conceptos Clave:</strong></p>\n<ul>\n<li><strong>Autenticación basada en sesión</strong> - Sin claves privadas en escritorio/portátil</li>\n<li><strong>Inicio de sesión con código QR</strong> - La aplicación móvil escanea el QR del sitio web</li>\n<li><strong>Eventos Enviados por el Servidor (SSE)</strong> - Actualizaciones de estado de sesión en tiempo real</li>\n<li><strong>Firmas Ed25519</strong> - Prueba criptográfica de propiedad</li>\n<li><strong>Seguridad de hardware</strong> - Claves privadas protegidas por el enclave seguro del dispositivo móvil</li>\n</ul>\n<hr>\n<h2>Flujo de Autenticación</h2>\n<div class=\"code-block-placeholder\" data-index=\"0\"></div>\n<hr>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/auth/session/create</b></code> <code>(crear sesión de inicio de sesión QR)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"1\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**returnUrl**</td>\n    <td>cadena (URL)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**appName**</td>\n    <td>cadena</td>\n    <td>opcional</td>\n  </tr>\n <tr>\n    <td>**appIcon**</td>\n    <td>cadena (URL)</td>\n    <td>opcional</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<div class=\"code-block-placeholder\" data-index=\"2\"></div>\n<p><strong>Estado:</strong> <code>201 Created</code></p>\n<p><strong>Caso de Uso:</strong> El sitio web inicia el flujo de inicio de sesión creando una sesión y mostrando el código QR</p>\n</details>\n<hr>\n<details>\n <summary><code className=\"text-cyan-400\">GET</code> <code><b>/auth/session/:id/events</b></code> <code>(stream SSE para actualizaciones en tiempo real)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"3\"></div>\n<h3>Eventos Enviados por el Servidor</h3>\n<p><strong>Evento de conexión:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"4\"></div>\n<p><strong>Evento de actualización de estado:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"5\"></div>\n<p><strong>Evento escaneado:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"6\"></div>\n<p><strong>Evento aprobado (terminal):</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"7\"></div>\n<p><strong>Evento rechazado (terminal):</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"8\"></div>\n<p><strong>Evento expirado (terminal):</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"9\"></div>\n<p><strong>Estado:</strong> <code>200 OK</code> (mantiene la conexión abierta)</p>\n<p><strong>Caso de Uso:</strong> El sitio web abre una conexión SSE para recibir actualizaciones de estado en tiempo real a medida que el usuario escanea/aprueba en el móvil</p>\n</details>\n<hr>\n<details>\n <summary><code className=\"text-cyan-400\">GET</code> <code><b>/auth/session/:id</b></code> <code>(obtener detalles de la sesión)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"10\"></div>\n<h3>Respuesta</h3>\n<div class=\"code-block-placeholder\" data-index=\"11\"></div>\n<p><strong>Estado:</strong> <code>200 OK</code></p>\n<p><strong>Efecto Secundario:</strong> Si el estado de la sesión es \"esperando\", se marca automáticamente como \"escaneado\"</p>\n<p><strong>Caso de Uso:</strong> La aplicación móvil escanea el código QR y recupera los detalles de la sesión</p>\n</details>\n<hr>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/auth/session/:id/approve</b></code> <code>(aprobar inicio de sesión con firma)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"12\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**userId**</td>\n    <td>cadena (UUID)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**username**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**publicKey**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**signature**</td>\n    <td>cadena (hex)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**message**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<div class=\"code-block-placeholder\" data-index=\"13\"></div>\n<p><strong>Estado:</strong> <code>200 OK</code></p>\n<p><strong>Validación:</strong></p>\n<ul>\n<li>La firma Ed25519 debe ser válida para el mensaje y la clave pública proporcionados</li>\n<li>El mensaje debe contener el desafío de la sesión</li>\n<li>La sesión debe estar en estado \"esperando\" o \"escaneado\"</li>\n<li>La sesión no debe haber expirado</li>\n</ul>\n<p><strong>Caso de Uso:</strong> El usuario aprueba el inicio de sesión en la aplicación móvil, que firma el desafío con la clave privada</p>\n</details>\n<hr>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/auth/session/:id/reject</b></code> <code>(rechazar inicio de sesión)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"14\"></div>\n<h3>Respuesta</h3>\n<div class=\"code-block-placeholder\" data-index=\"15\"></div>\n<p><strong>Estado:</strong> <code>200 OK</code></p>\n<p><strong>Caso de Uso:</strong> El usuario rechaza el intento de inicio de sesión en la aplicación móvil</p>\n</details>\n<hr>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/auth/session/validate</b></code> <code>(validar token de sesión)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"16\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**sessionToken**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n</table>\n<h3>Respuesta (Válida)</h3>\n<div class=\"code-block-placeholder\" data-index=\"17\"></div>\n<p><strong>Estado:</strong> <code>200 OK</code></p>\n<h3>Respuesta (Inválida)</h3>\n<div class=\"code-block-placeholder\" data-index=\"18\"></div>\n<p><strong>Estado:</strong> <code>401 Unauthorized</code></p>\n<p><strong>Caso de Uso:</strong> Los servicios de backend validan los tokens de sesión de las solicitudes autenticadas</p>\n</details>\n<hr>\n<h2>Modelo de Seguridad</h2>\n<h3>Aislamiento de Claves Privadas</h3>\n<p><strong>✅ SEGURO (Dispositivo Móvil):</strong></p>\n<ul>\n<li>Claves privadas almacenadas en enclave seguro respaldado por hardware (iOS) / StrongBox (Android)</li>\n<li>Protección biométrica (Face ID, Touch ID, huella digital)</li>\n<li>El sandboxing a nivel de sistema operativo previene la extracción de claves</li>\n<li>Firmas generadas dentro del hardware seguro</li>\n</ul>\n<p><strong>❌ INSEGURO (Escritorio/Portátil):</strong></p>\n<ul>\n<li>Sin claves privadas - solo tokens de sesión</li>\n<li>Los tokens de sesión son revocables y limitados en el tiempo (30 días)</li>\n<li>Los tokens proporcionan acceso de solo lectura a la blockchain</li>\n<li>Las computadoras de escritorio son más vulnerables al malware</li>\n</ul>\n<h3>¿Por Qué No Extensiones de Navegador?</h3>\n<p>Tana rechaza explícitamente el modelo de MetaMask/extensión de navegador:</p>\n<ol>\n<li><strong>Riesgo de Malware</strong> - Las computadoras de escritorio son objetivos principales de malware</li>\n<li><strong>Vulnerabilidades del Navegador</strong> - Las extensiones tienen permisos amplios</li>\n<li><strong>Extracción de Claves</strong> - El almacenamiento de claves basado en software puede ser comprometido</li>\n<li><strong>Comportamiento del Usuario</strong> - Los usuarios instalan muchas extensiones de fuentes no confiables</li>\n</ol>\n<h3>Ventajas Móvil Primero</h3>\n<ol>\n<li><strong>Seguridad de Hardware</strong> - El enclave seguro protege las claves a nivel de hardware</li>\n<li><strong>Autenticación Biométrica</strong> - Face ID/Touch ID para cada transacción</li>\n<li><strong>Superficie de Ataque Más Pequeña</strong> - Sandboxing de aplicaciones iOS/Android</li>\n<li><strong>Conciencia del Usuario</strong> - La aprobación móvil hace que cada acción sea explícita</li>\n<li><strong>Prevención de Pérdida</strong> - Los dispositivos pueden ser borrados de forma remota</li>\n</ol>\n<h3>Seguridad del Flujo de Autenticación</h3>\n<ol>\n<li><strong>Desafío-Respuesta</strong> - Desafío aleatorio previene ataques de repetición</li>\n<li><strong>Firmas Ed25519</strong> - Prueba criptográfica de propiedad</li>\n<li><strong>Límites de Tiempo</strong> - Las sesiones expiran después de 5 minutos (inicio de sesión) o 30 días (token)</li>\n<li><strong>Seguimiento de Estado</strong> - Máquina de estados \"esperando\" → \"escaneado\" → \"aprobado\"</li>\n<li><strong>Actualizaciones SSE</strong> - Retroalimentación en tiempo real sin sondeo</li>\n</ol>\n<h2>Ciclo de Vida de la Sesión</h2>\n<p><strong>Estados de Sesión:</strong></p>\n<ul>\n<li><code>waiting</code> - Código QR mostrado, esperando escaneo móvil</li>\n<li><code>scanned</code> - La aplicación móvil ha recuperado los detalles de la sesión</li>\n<li><code>approved</code> - Usuario aprobado y firma verificada → token generado</li>\n<li><code>rejected</code> - Usuario rechazó el intento de inicio de sesión</li>\n<li><code>expired</code> - La sesión ha expirado (5 minutos)</li>\n</ul>\n<p><strong>Ciclo de Vida del Token de Sesión:</strong></p>\n<ul>\n<li>Generado después de la aprobación con verificación de firma Ed25519</li>\n<li>Expira 30 días después de la aprobación</li>\n<li>Puede ser revocado en cualquier momento</li>\n<li>Utilizado para solicitudes API autenticadas subsiguientes</li>\n</ul>\n<h2>Respuestas de Error</h2>\n<p><strong>404 No Encontrado:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"19\"></div>\n<p><strong>400 Solicitud Incorrecta:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"20\"></div>\n<div class=\"code-block-placeholder\" data-index=\"21\"></div>\n<div class=\"code-block-placeholder\" data-index=\"22\"></div>\n<p><strong>401 No Autorizado:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"23\"></div>\n<p><strong>500 Error Interno del Servidor:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"24\"></div>\n<h2>Documentación Relacionada</h2>\n<ul>\n<li><a href=\"/docs/MOBILE_AUTH_PROTOCOL.md\">Protocolo de Autenticación Móvil</a> - Especificación detallada del protocolo</li>\n<li><a href=\"/guides/transaction-signing/\">Guía de Firma de Transacciones</a> - Cómo funcionan las firmas Ed25519</li>\n<li><a href=\"/contributing/env-vars/\">Variables de Entorno</a> - Configurar <code>IDENTITY_DB_URL</code> y <code>IDENTITY_PORT</code></li>\n<li><a href=\"/contributing/architecture/\">Arquitectura</a> - Servicio de identidad en el diseño del sistema</li>\n</ul>\n",
    "codeBlocks": [
      {
        "lang": "text",
        "code": "1. Website → POST /auth/session/create\n   Returns: sessionId, challenge, QR data\n\n2. Website → GET /auth/session/:id/events (SSE)\n   Streams: Real-time session status updates\n\n3. Mobile App → GET /auth/session/:id\n   Returns: Session details, marks as \"scanned\"\n\n4. User approves on mobile\n\n5. Mobile App → POST /auth/session/:id/approve\n   Body: Signed challenge with Ed25519\n\n6. SSE → \"approved\" event to website\n   Includes: sessionToken for authenticated requests\n\n7. Website uses sessionToken for subsequent API calls"
      },
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8090/auth/session/create \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"returnUrl\": \"http://localhost:3000/dashboard\",\n    \"appName\": \"My Tana App\",\n    \"appIcon\": \"https://example.com/icon.png\"\n  }'"
      },
      {
        "lang": "json",
        "code": "{\n  \"sessionId\": \"sess_3ogy2lnxi0fl4rlz\",\n  \"challenge\": \"auth_chal_b92f3aed...\",\n  \"expiresAt\": 1762915859863,\n  \"expiresIn\": 300,\n  \"qrData\": \"{\\\"sessionId\\\":\\\"sess_...\\\",\\\"challenge\\\":\\\"auth_chal_...\\\",\\\"service\\\":\\\"tana-identity\\\"}\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl -N http://localhost:8090/auth/session/sess_abc123/events"
      },
      {
        "lang": "json",
        "code": "event: connected\ndata: {\"type\":\"connected\",\"sessionId\":\"sess_abc123\"}"
      },
      {
        "lang": "json",
        "code": "event: status\ndata: {\"type\":\"status\",\"status\":\"waiting\",\"scannedAt\":null,\"approvedAt\":null}"
      },
      {
        "lang": "json",
        "code": "event: status\ndata: {\"type\":\"status\",\"status\":\"scanned\",\"scannedAt\":\"2025-01-11T19:00:00.000Z\",\"approvedAt\":null}"
      },
      {
        "lang": "json",
        "code": "event: approved\ndata: {\n  \"type\":\"approved\",\n  \"sessionToken\":\"tana_session_abc123...\",\n  \"userId\":\"usr_alice\",\n  \"username\":\"@alice\",\n  \"returnUrl\":\"http://localhost:3000/dashboard\"\n}"
      },
      {
        "lang": "json",
        "code": "event: rejected\ndata: {\"type\":\"rejected\"}"
      },
      {
        "lang": "json",
        "code": "event: expired\ndata: {\"type\":\"expired\"}"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8090/auth/session/sess_abc123"
      },
      {
        "lang": "json",
        "code": "{\n  \"sessionId\": \"sess_abc123\",\n  \"challenge\": \"auth_chal_b92f3aed...\",\n  \"status\": \"waiting\",\n  \"appName\": \"My Tana App\",\n  \"appIcon\": \"https://example.com/icon.png\",\n  \"expiresAt\": 1762915859863\n}"
      },
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8090/auth/session/sess_abc123/approve \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"userId\": \"usr_alice\",\n    \"username\": \"@alice\",\n    \"publicKey\": \"ed25519_abc123...\",\n    \"signature\": \"0x1a2b3c...\",\n    \"message\": \"I approve this login session: auth_chal_b92f3aed...\"\n  }'"
      },
      {
        "lang": "json",
        "code": "{\n  \"success\": true,\n  \"sessionToken\": \"tana_session_abc123...\",\n  \"returnUrl\": \"http://localhost:3000/dashboard\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8090/auth/session/sess_abc123/reject"
      },
      {
        "lang": "json",
        "code": "{\n  \"success\": true\n}"
      },
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8090/auth/session/validate \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"sessionToken\": \"tana_session_abc123...\"\n  }'"
      },
      {
        "lang": "json",
        "code": "{\n  \"valid\": true,\n  \"userId\": \"usr_alice\",\n  \"username\": \"@alice\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Invalid or expired session token\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Session not found\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Invalid signature\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Challenge mismatch\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Session expired\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Invalid or expired session token\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Failed to create session\"\n}"
      }
    ]
  },
  {
    "slug": [
      "api-reference",
      "contracts",
      "index"
    ],
    "metadata": {
      "title": "/contratos",
      "description": "Desplegar y gestionar contratos inteligentes"
    },
    "content": "Despliega y gestiona contratos inteligentes de TypeScript en la blockchain de Tana. Los contratos se ejecutan en un entorno V8 aislado.\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/contracts/deploy</b></code> <code>(desplegar contrato)</code></summary>\n\n### Solicitud\n\n```bash\ncurl -X POST http://localhost:8080/contracts/deploy \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"ownerId\": \"usr_abc123\",\n    \"name\": \"token-transfer\",\n    \"sourceCode\": \"import { console } from \\\"tana:core\\\"; ...\",\n    \"description\": \"Simple token transfer contract\",\n    \"metadata\": {\n      \"version\": \"1.0.0\",\n      \"author\": \"@alice\"\n    }\n  }'\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**ownerId**</td>\n    <td>cadena (UUID)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**name**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**sourceCode**</td>\n    <td>cadena (TypeScript)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**description**</td>\n    <td>cadena</td>\n    <td>opcional</td>\n  </tr>\n <tr>\n    <td>**metadata**</td>\n    <td>objeto</td>\n    <td>opcional</td>\n  </tr>\n</table>\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>201</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"cnt_xyz789\",\n  \"ownerId\": \"usr_abc123\",\n  \"name\": \"token-transfer\",\n  \"sourceCode\": \"import { console } from \\\"tana:core\\\"; ...\",\n  \"description\": \"Simple token transfer contract\",\n  \"metadata\": {\n    \"version\": \"1.0.0\",\n    \"author\": \"@alice\"\n  },\n  \"status\": \"active\",\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Missing required fields: ownerId, name, sourceCode\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [x] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/contracts</b></code> <code>(listar contratos)</code></summary>\n\n### Solicitud\n\n```bash\n# List all contracts\ncurl \"http://localhost:8080/contracts?limit=50&offset=0\"\n\n# List only active contracts\ncurl \"http://localhost:8080/contracts?active=true&limit=50&offset=0\"\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>número</td>\n    <td>opcional (por defecto: 50)</td>\n  </tr>\n <tr>\n    <td>**offset**</td>\n    <td>número</td>\n    <td>opcional (por defecto: 0)</td>\n  </tr>\n <tr>\n    <td>**active**</td>\n    <td>booleano</td>\n    <td>opcional</td>\n  </tr>\n</table>\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n[\n  {\n    \"id\": \"cnt_xyz789\",\n    \"ownerId\": \"usr_abc123\",\n    \"name\": \"token-transfer\",\n    \"description\": \"Simple token transfer contract\",\n    \"status\": \"active\",\n    \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n    \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n  },\n  {\n    \"id\": \"cnt_abc123\",\n    \"ownerId\": \"usr_def456\",\n    \"name\": \"voting-system\",\n    \"description\": \"Decentralized voting contract\",\n    \"status\": \"active\",\n    \"createdAt\": \"2024-11-07T10:00:00.000Z\",\n    \"updatedAt\": \"2024-11-07T10:00:00.000Z\"\n  }\n]\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [x] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/contracts/:id</b></code> <code>(obtener contrato por ID)</code></summary>\n\n### Solicitud\n\n```bash\ncurl http://localhost:8080/contracts/cnt_xyz789\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>cadena</td>\n    <td>requerido (parámetro de URL)</td>\n  </tr>\n</table>\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"cnt_xyz789\",\n  \"ownerId\": \"usr_abc123\",\n  \"name\": \"token-transfer\",\n  \"sourceCode\": \"import { console } from \\\"tana:core\\\"; ...\",\n  \"description\": \"Simple token transfer contract\",\n  \"metadata\": {\n    \"version\": \"1.0.0\",\n    \"author\": \"@alice\"\n  },\n  \"status\": \"active\",\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n  \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Contract not found\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [x] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/contracts/owner/:ownerId</b></code> <code>(obtener contratos por propietario)</code></summary>\n\n### Solicitud\n\n```bash\ncurl \"http://localhost:8080/contracts/owner/usr_abc123?limit=50&offset=0\"\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**ownerId**</td>\n    <td>cadena</td>\n    <td>requerido (parámetro de URL)</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>número</td>\n    <td>opcional (por defecto: 50)</td>\n  </tr>\n <tr>\n    <td>**offset**</td>\n    <td>número</td>\n    <td>opcional (por defecto: 0)</td>\n  </tr>\n</table>\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n[\n  {\n    \"id\": \"cnt_xyz789\",\n    \"ownerId\": \"usr_abc123\",\n    \"name\": \"token-transfer\",\n    \"description\": \"Simple token transfer contract\",\n    \"status\": \"active\",\n    \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n    \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n  }\n]\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [x] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/contracts/:id/deactivate</b></code> <code>(desactivar contrato)</code></summary>\n\n### Solicitud\n\n```bash\ncurl -X POST http://localhost:8080/contracts/cnt_xyz789/deactivate \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"ownerId\": \"usr_abc123\"\n  }'\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>cadena</td>\n    <td>requerido (parámetro de URL)</td>\n  </tr>\n <tr>\n    <td>**ownerId**</td>\n    <td>cadena (UUID)</td>\n    <td>requerido</td>\n  </tr>\n</table>\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"cnt_xyz789\",\n  \"ownerId\": \"usr_abc123\",\n  \"name\": \"token-transfer\",\n  \"status\": \"inactive\",\n  \"deactivatedAt\": \"2024-11-08T13:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Missing ownerId\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>403</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Only contract owner can deactivate\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [ ] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [x] Propio\n- [ ] Admin\n\n</details>\n\n### Método No Permitido\n\nLos siguientes métodos no son soportados:\n\n<code className=\"text-orange-400\">PUT</code> <code className=\"text-red-400\">DELETE</code> <code className=\"text-purple-400\">PATCH</code>\n",
    "html": "<p>Despliega y gestiona contratos inteligentes de TypeScript en la blockchain de Tana. Los contratos se ejecutan en un entorno V8 aislado.</p>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/contracts/deploy</b></code> <code>(desplegar contrato)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"0\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**ownerId**</td>\n    <td>cadena (UUID)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**name**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**sourceCode**</td>\n    <td>cadena (TypeScript)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**description**</td>\n    <td>cadena</td>\n    <td>opcional</td>\n  </tr>\n <tr>\n    <td>**metadata**</td>\n    <td>objeto</td>\n    <td>opcional</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>201</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"1\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"2\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[x] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/contracts</b></code> <code>(listar contratos)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"3\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>número</td>\n    <td>opcional (por defecto: 50)</td>\n  </tr>\n <tr>\n    <td>**offset**</td>\n    <td>número</td>\n    <td>opcional (por defecto: 0)</td>\n  </tr>\n <tr>\n    <td>**active**</td>\n    <td>booleano</td>\n    <td>opcional</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"4\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[x] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/contracts/:id</b></code> <code>(obtener contrato por ID)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"5\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>cadena</td>\n    <td>requerido (parámetro de URL)</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"6\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"7\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[x] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/contracts/owner/:ownerId</b></code> <code>(obtener contratos por propietario)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"8\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**ownerId**</td>\n    <td>cadena</td>\n    <td>requerido (parámetro de URL)</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>número</td>\n    <td>opcional (por defecto: 50)</td>\n  </tr>\n <tr>\n    <td>**offset**</td>\n    <td>número</td>\n    <td>opcional (por defecto: 0)</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"9\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[x] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/contracts/:id/deactivate</b></code> <code>(desactivar contrato)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"10\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>cadena</td>\n    <td>requerido (parámetro de URL)</td>\n  </tr>\n <tr>\n    <td>**ownerId**</td>\n    <td>cadena (UUID)</td>\n    <td>requerido</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"11\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"12\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>403</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"13\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[ ] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[x] Propio</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<h3>Método No Permitido</h3>\n<p>Los siguientes métodos no son soportados:</p>\n<p><code className=\"text-orange-400\">PUT</code> <code className=\"text-red-400\">DELETE</code> <code className=\"text-purple-400\">PATCH</code></p>\n",
    "codeBlocks": [
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8080/contracts/deploy \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"ownerId\": \"usr_abc123\",\n    \"name\": \"token-transfer\",\n    \"sourceCode\": \"import { console } from \\\"tana:core\\\"; ...\",\n    \"description\": \"Simple token transfer contract\",\n    \"metadata\": {\n      \"version\": \"1.0.0\",\n      \"author\": \"@alice\"\n    }\n  }'"
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"cnt_xyz789\",\n  \"ownerId\": \"usr_abc123\",\n  \"name\": \"token-transfer\",\n  \"sourceCode\": \"import { console } from \\\"tana:core\\\"; ...\",\n  \"description\": \"Simple token transfer contract\",\n  \"metadata\": {\n    \"version\": \"1.0.0\",\n    \"author\": \"@alice\"\n  },\n  \"status\": \"active\",\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Missing required fields: ownerId, name, sourceCode\"\n}"
      },
      {
        "lang": "bash",
        "code": "# List all contracts\ncurl \"http://localhost:8080/contracts?limit=50&offset=0\"\n\n# List only active contracts\ncurl \"http://localhost:8080/contracts?active=true&limit=50&offset=0\""
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"id\": \"cnt_xyz789\",\n    \"ownerId\": \"usr_abc123\",\n    \"name\": \"token-transfer\",\n    \"description\": \"Simple token transfer contract\",\n    \"status\": \"active\",\n    \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n    \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n  },\n  {\n    \"id\": \"cnt_abc123\",\n    \"ownerId\": \"usr_def456\",\n    \"name\": \"voting-system\",\n    \"description\": \"Decentralized voting contract\",\n    \"status\": \"active\",\n    \"createdAt\": \"2024-11-07T10:00:00.000Z\",\n    \"updatedAt\": \"2024-11-07T10:00:00.000Z\"\n  }\n]"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/contracts/cnt_xyz789"
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"cnt_xyz789\",\n  \"ownerId\": \"usr_abc123\",\n  \"name\": \"token-transfer\",\n  \"sourceCode\": \"import { console } from \\\"tana:core\\\"; ...\",\n  \"description\": \"Simple token transfer contract\",\n  \"metadata\": {\n    \"version\": \"1.0.0\",\n    \"author\": \"@alice\"\n  },\n  \"status\": \"active\",\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n  \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Contract not found\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl \"http://localhost:8080/contracts/owner/usr_abc123?limit=50&offset=0\""
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"id\": \"cnt_xyz789\",\n    \"ownerId\": \"usr_abc123\",\n    \"name\": \"token-transfer\",\n    \"description\": \"Simple token transfer contract\",\n    \"status\": \"active\",\n    \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n    \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n  }\n]"
      },
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8080/contracts/cnt_xyz789/deactivate \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"ownerId\": \"usr_abc123\"\n  }'"
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"cnt_xyz789\",\n  \"ownerId\": \"usr_abc123\",\n  \"name\": \"token-transfer\",\n  \"status\": \"inactive\",\n  \"deactivatedAt\": \"2024-11-08T13:00:00.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Missing ownerId\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Only contract owner can deactivate\"\n}"
      }
    ]
  },
  {
    "slug": [
      "api-reference",
      "intro"
    ],
    "metadata": {
      "title": "Descripción general de la API",
      "description": "Referencia de API REST para Tana Services"
    },
    "content": "Este documento de referencia documenta las API REST expuestas por los servicios de Tana. Como **soberano** que ejecuta su propia red, utilizará estas API para integrarse con su infraestructura, construir paneles de control y crear herramientas personalizadas.\n\nTana proporciona dos API REST principales. Todos los puntos finales devuelven respuestas en JSON.\n\n## URLs Base\n\n### Servicio de Ledger (API de Blockchain)\n\n```\nhttp://localhost:8080\n```\n\nManeja todas las operaciones de blockchain: usuarios, saldos, transacciones, bloques y contratos inteligentes.\n\n### Servicio de Identidad (API de Autenticación)\n\n```\nhttp://localhost:8090\n```\n\nManeja la autenticación mediante código QR móvil y la gestión de sesiones. Las claves privadas permanecen exclusivamente en dispositivos móviles por razones de seguridad.\n\nPara implementaciones en producción, reemplace con las URLs de su servidor (por ejemplo, `https://api.tana.network` y `https://auth.tana.network`).\n\n## Autenticación y Firmas\n\nTodas las operaciones que cambian el estado (POST, PATCH, DELETE) requieren firmas criptográficas para probar la propiedad.\n\n### Firmas de Transacción\n\n**Campos Requeridos:**\n\n```json\n{\n  \"type\": \"transfer\",\n  \"from\": \"usr_abc123\",\n  \"to\": \"usr_xyz789\",\n  \"timestamp\": 1699459200,\n  \"nonce\": 42,\n  \"amount\": \"100\",\n  \"currencyCode\": \"USD\",\n  \"signature\": \"ed25519_sig_...\"\n}\n```\n\n**Cómo Funciona la Firma:**\n\n```typescript\nimport {\n  signMessage,\n  createTransactionMessage\n} from '@tananetwork/crypto'\n\n// 1. Create canonical transaction message\nconst tx = {\n  type: 'transfer',\n  from: 'usr_abc123',\n  to: 'usr_xyz789',\n  timestamp: Date.now(),\n  nonce: 42,\n  amount: '100',\n  currencyCode: 'USD'\n}\n\n// 2. Sign with private key (SHA-256 + Ed25519)\nconst message = createTransactionMessage(tx)\nconst signature = await signMessage(message, privateKey)\n\n// 3. Send to API with signature\nPOST /transactions {\n  ...tx,\n  signature\n}\n```\n\n**Verificación del Servidor:**\n\nLa API verifica:\n1. La firma es válida para el mensaje canónico\n2. La firma coincide con la clave pública registrada para el usuario `from`\n3. La marca de tiempo está dentro del rango aceptable (previene transacciones antiguas)\n4. El nonce no se ha utilizado antes (previene ataques de repetición)\n\n**Estado de Implementación:**\n- ✅ Generación de par de claves Ed25519 - `@tananetwork/crypto`\n- ✅ Firma de transacciones - CLI y móvil\n- ✅ Verificación de firmas - Todos los servicios\n- ✅ Protección contra repetición basada en nonce\n\n## Formato de Respuesta\n\nTodas las respuestas de la API siguen este formato:\n\n### Respuesta de Éxito\n\n```json\n{\n  \"data\": { ... },\n  \"status\": \"success\"\n}\n```\n\n### Respuesta de Error\n\n```json\n{\n  \"error\": \"Error message describing what went wrong\",\n  \"timestamp\": \"2024-11-07T00:00:00.000Z\"\n}\n```\n\n## Códigos de Estado HTTP\n\n| Código | Significado |\n|--------|-------------|\n| `200` | Éxito - Solicitud completada con éxito |\n| `201` | Creado - Recurso creado con éxito |\n| `400` | Solicitud Incorrecta - Parámetros de solicitud inválidos |\n| `404` | No Encontrado - El recurso no existe |\n| `500` | Error Interno del Servidor - Algo salió mal en el servidor |\n\n## Inicio Rápido\n\n### Verificación de Salud\n\n```bash\ncurl http://localhost:8080/health\n```\n\n```json\n{\n  \"status\": \"ok\"\n}\n```\n\n### Obtener Información del Servicio\n\n```bash\ncurl http://localhost:8080/\n```\n\n```json\n{\n  \"service\": \"tana-ledger\",\n  \"version\": \"0.1.0\",\n  \"status\": \"healthy\",\n  \"timestamp\": \"2024-11-07T00:00:00.000Z\"\n}\n```\n\n## Categorías de API\n\n### Identidad y Autenticación (Puerto 8090)\nAutenticación mediante código QR móvil con seguridad respaldada por hardware.\n\n- **POST /auth/session/create** - Crear sesión de inicio de sesión con código QR\n- **GET /auth/session/:id/events** - Flujo SSE para actualizaciones en tiempo real\n- **GET /auth/session/:id** - Obtener detalles de la sesión (móvil escanea QR)\n- **POST /auth/session/:id/approve** - Aprobar inicio de sesión con firma Ed25519\n- **POST /auth/session/:id/reject** - Rechazar intento de inicio de sesión\n- **POST /auth/session/validate** - Validar token de sesión\n\n**Modelo de Seguridad:** Claves privadas SOLO en dispositivos móviles. El escritorio/portátil recibe tokens de sesión únicamente.\n\n[Ver API de Identidad →](/tana-api/identity/)\n\n---\n\n### Usuarios (Puerto 8080)\nGestionar cuentas de usuario en la blockchain.\n\n- **POST /users** - Crear un nuevo usuario\n- **GET /users** - Listar todos los usuarios\n- **GET /users/:id** - Obtener usuario por ID\n- **GET /users/by-username/:username** - Obtener usuario por nombre de usuario\n\n[Ver API de Usuarios →](/tana-api/users/)\n\n### Saldos (Puerto 8080)\nConsultar y gestionar saldos en múltiples monedas.\n\n- **GET /balances** - Consultar saldos\n- **POST /balances** - Establecer saldo\n- **GET /balances/currencies** - Listar monedas soportadas\n- **POST /balances/currencies/seed** - Sembrar monedas predeterminadas\n\n[Ver API de Saldos →](/tana-api/balances/)\n\n### Transacciones (Puerto 8080)\nCrear y consultar transacciones en la blockchain.\n\n- **POST /transactions** - Crear transacción\n- **GET /transactions** - Listar transacciones\n- **GET /transactions/:id** - Obtener transacción por ID\n\n[Ver API de Transacciones →](/tana-api/transactions/)\n\n### Bloques (Puerto 8080)\nConsultar bloques y el historial de la blockchain.\n\n- **GET /blocks** - Listar bloques\n- **GET /blocks/latest** - Obtener el bloque más reciente\n- **GET /blocks/:height** - Obtener bloque por altura\n\n[Ver API de Bloques →](/tana-api/blocks/)\n\n### Contratos (Puerto 8080)\nDesplegar y gestionar contratos inteligentes.\n\n- **POST /contracts** - Desplegar contrato\n- **GET /contracts** - Listar contratos\n- **GET /contracts/:id** - Obtener contrato por ID\n\n[Ver API de Contratos →](/tana-api/contracts/)\n\n## Limitación de Tasa\n\nActualmente, no hay límites de tasa en la API de desarrollo. Las implementaciones en producción deben implementar limitación de tasa a nivel de proxy inverso (por ejemplo, Nginx).\n\n## CORS\n\nLa API admite CORS para todos los orígenes en modo de desarrollo:\n\n```\nAccess-Control-Allow-Origin: *\nAccess-Control-Allow-Credentials: true\n```\n\n## Paginación\n\nLos puntos finales de lista admiten paginación a través de parámetros de consulta:\n\n```bash\nGET /users?page=1&limit=20\n```\n\nEl límite predeterminado es de 100 elementos por página.\n\n## Ejemplos\n\n### Crear Usuario y Verificar Saldo\n\n```bash\n# 1. Create user\ncurl -X POST http://localhost:8080/users \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"publicKey\": \"ed25519_abc123...\",\n    \"username\": \"@alice\",\n    \"displayName\": \"Alice Johnson\"\n  }'\n\n# Response:\n# {\n#   \"userId\": \"user_xyz789\",\n#   \"transactionId\": \"tx_abc123\",\n#   \"status\": \"pending\"\n# }\n\n# 2. Get balance (after block inclusion)\ncurl \"http://localhost:8080/balances?ownerId=user_xyz789&currencyCode=USD\"\n\n# Response:\n# {\n#   \"ownerId\": \"user_xyz789\",\n#   \"ownerType\": \"user\",\n#   \"currencyCode\": \"USD\",\n#   \"amount\": \"1000.00\",\n#   \"updatedAt\": \"2024-11-07T00:00:00.000Z\"\n# }\n```\n\n## Próximos Pasos\n\n- [API de Identidad](/tana-api/identity/) - Autenticación móvil mediante código QR\n- [API de Usuarios](/tana-api/users/) - Gestión de cuentas de usuario\n- [API de Saldos](/tana-api/balances/) - Consultas y actualizaciones de saldo\n- [API de Transacciones](/tana-api/transactions/) - Creación y consultas de transacciones\n- [API de Bloques](/tana-api/blocks/) - Consultas de blockchain\n- [API de Contratos](/tana-api/contracts/) - Despliegue de contratos inteligentes\n- [Referencia de CLI](/tana-cli/intro/) - Interfaz de línea de comandos\n",
    "html": "<p>Este documento de referencia documenta las API REST expuestas por los servicios de Tana. Como <strong>soberano</strong> que ejecuta su propia red, utilizará estas API para integrarse con su infraestructura, construir paneles de control y crear herramientas personalizadas.</p>\n<p>Tana proporciona dos API REST principales. Todos los puntos finales devuelven respuestas en JSON.</p>\n<h2>URLs Base</h2>\n<h3>Servicio de Ledger (API de Blockchain)</h3>\n<div class=\"code-block-placeholder\" data-index=\"0\"></div>\n<p>Maneja todas las operaciones de blockchain: usuarios, saldos, transacciones, bloques y contratos inteligentes.</p>\n<h3>Servicio de Identidad (API de Autenticación)</h3>\n<div class=\"code-block-placeholder\" data-index=\"1\"></div>\n<p>Maneja la autenticación mediante código QR móvil y la gestión de sesiones. Las claves privadas permanecen exclusivamente en dispositivos móviles por razones de seguridad.</p>\n<p>Para implementaciones en producción, reemplace con las URLs de su servidor (por ejemplo, <code>https://api.tana.network</code> y <code>https://auth.tana.network</code>).</p>\n<h2>Autenticación y Firmas</h2>\n<p>Todas las operaciones que cambian el estado (POST, PATCH, DELETE) requieren firmas criptográficas para probar la propiedad.</p>\n<h3>Firmas de Transacción</h3>\n<p><strong>Campos Requeridos:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"2\"></div>\n<p><strong>Cómo Funciona la Firma:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"3\"></div>\n<p><strong>Verificación del Servidor:</strong></p>\n<p>La API verifica:</p>\n<ol>\n<li>La firma es válida para el mensaje canónico</li>\n<li>La firma coincide con la clave pública registrada para el usuario <code>from</code></li>\n<li>La marca de tiempo está dentro del rango aceptable (previene transacciones antiguas)</li>\n<li>El nonce no se ha utilizado antes (previene ataques de repetición)</li>\n</ol>\n<p><strong>Estado de Implementación:</strong></p>\n<ul>\n<li>✅ Generación de par de claves Ed25519 - <code>@tananetwork/crypto</code></li>\n<li>✅ Firma de transacciones - CLI y móvil</li>\n<li>✅ Verificación de firmas - Todos los servicios</li>\n<li>✅ Protección contra repetición basada en nonce</li>\n</ul>\n<h2>Formato de Respuesta</h2>\n<p>Todas las respuestas de la API siguen este formato:</p>\n<h3>Respuesta de Éxito</h3>\n<div class=\"code-block-placeholder\" data-index=\"4\"></div>\n<h3>Respuesta de Error</h3>\n<div class=\"code-block-placeholder\" data-index=\"5\"></div>\n<h2>Códigos de Estado HTTP</h2>\n<p>| Código | Significado |\n|--------|-------------|\n| <code>200</code> | Éxito - Solicitud completada con éxito |\n| <code>201</code> | Creado - Recurso creado con éxito |\n| <code>400</code> | Solicitud Incorrecta - Parámetros de solicitud inválidos |\n| <code>404</code> | No Encontrado - El recurso no existe |\n| <code>500</code> | Error Interno del Servidor - Algo salió mal en el servidor |</p>\n<h2>Inicio Rápido</h2>\n<h3>Verificación de Salud</h3>\n<div class=\"code-block-placeholder\" data-index=\"6\"></div>\n<div class=\"code-block-placeholder\" data-index=\"7\"></div>\n<h3>Obtener Información del Servicio</h3>\n<div class=\"code-block-placeholder\" data-index=\"8\"></div>\n<div class=\"code-block-placeholder\" data-index=\"9\"></div>\n<h2>Categorías de API</h2>\n<h3>Identidad y Autenticación (Puerto 8090)</h3>\n<p>Autenticación mediante código QR móvil con seguridad respaldada por hardware.</p>\n<ul>\n<li><strong>POST /auth/session/create</strong> - Crear sesión de inicio de sesión con código QR</li>\n<li><strong>GET /auth/session/:id/events</strong> - Flujo SSE para actualizaciones en tiempo real</li>\n<li><strong>GET /auth/session/:id</strong> - Obtener detalles de la sesión (móvil escanea QR)</li>\n<li><strong>POST /auth/session/:id/approve</strong> - Aprobar inicio de sesión con firma Ed25519</li>\n<li><strong>POST /auth/session/:id/reject</strong> - Rechazar intento de inicio de sesión</li>\n<li><strong>POST /auth/session/validate</strong> - Validar token de sesión</li>\n</ul>\n<p><strong>Modelo de Seguridad:</strong> Claves privadas SOLO en dispositivos móviles. El escritorio/portátil recibe tokens de sesión únicamente.</p>\n<p><a href=\"/tana-api/identity/\">Ver API de Identidad →</a></p>\n<hr>\n<h3>Usuarios (Puerto 8080)</h3>\n<p>Gestionar cuentas de usuario en la blockchain.</p>\n<ul>\n<li><strong>POST /users</strong> - Crear un nuevo usuario</li>\n<li><strong>GET /users</strong> - Listar todos los usuarios</li>\n<li><strong>GET /users/:id</strong> - Obtener usuario por ID</li>\n<li><strong>GET /users/by-username/:username</strong> - Obtener usuario por nombre de usuario</li>\n</ul>\n<p><a href=\"/tana-api/users/\">Ver API de Usuarios →</a></p>\n<h3>Saldos (Puerto 8080)</h3>\n<p>Consultar y gestionar saldos en múltiples monedas.</p>\n<ul>\n<li><strong>GET /balances</strong> - Consultar saldos</li>\n<li><strong>POST /balances</strong> - Establecer saldo</li>\n<li><strong>GET /balances/currencies</strong> - Listar monedas soportadas</li>\n<li><strong>POST /balances/currencies/seed</strong> - Sembrar monedas predeterminadas</li>\n</ul>\n<p><a href=\"/tana-api/balances/\">Ver API de Saldos →</a></p>\n<h3>Transacciones (Puerto 8080)</h3>\n<p>Crear y consultar transacciones en la blockchain.</p>\n<ul>\n<li><strong>POST /transactions</strong> - Crear transacción</li>\n<li><strong>GET /transactions</strong> - Listar transacciones</li>\n<li><strong>GET /transactions/:id</strong> - Obtener transacción por ID</li>\n</ul>\n<p><a href=\"/tana-api/transactions/\">Ver API de Transacciones →</a></p>\n<h3>Bloques (Puerto 8080)</h3>\n<p>Consultar bloques y el historial de la blockchain.</p>\n<ul>\n<li><strong>GET /blocks</strong> - Listar bloques</li>\n<li><strong>GET /blocks/latest</strong> - Obtener el bloque más reciente</li>\n<li><strong>GET /blocks/:height</strong> - Obtener bloque por altura</li>\n</ul>\n<p><a href=\"/tana-api/blocks/\">Ver API de Bloques →</a></p>\n<h3>Contratos (Puerto 8080)</h3>\n<p>Desplegar y gestionar contratos inteligentes.</p>\n<ul>\n<li><strong>POST /contracts</strong> - Desplegar contrato</li>\n<li><strong>GET /contracts</strong> - Listar contratos</li>\n<li><strong>GET /contracts/:id</strong> - Obtener contrato por ID</li>\n</ul>\n<p><a href=\"/tana-api/contracts/\">Ver API de Contratos →</a></p>\n<h2>Limitación de Tasa</h2>\n<p>Actualmente, no hay límites de tasa en la API de desarrollo. Las implementaciones en producción deben implementar limitación de tasa a nivel de proxy inverso (por ejemplo, Nginx).</p>\n<h2>CORS</h2>\n<p>La API admite CORS para todos los orígenes en modo de desarrollo:</p>\n<div class=\"code-block-placeholder\" data-index=\"10\"></div>\n<h2>Paginación</h2>\n<p>Los puntos finales de lista admiten paginación a través de parámetros de consulta:</p>\n<div class=\"code-block-placeholder\" data-index=\"11\"></div>\n<p>El límite predeterminado es de 100 elementos por página.</p>\n<h2>Ejemplos</h2>\n<h3>Crear Usuario y Verificar Saldo</h3>\n<div class=\"code-block-placeholder\" data-index=\"12\"></div>\n<h2>Próximos Pasos</h2>\n<ul>\n<li><a href=\"/tana-api/identity/\">API de Identidad</a> - Autenticación móvil mediante código QR</li>\n<li><a href=\"/tana-api/users/\">API de Usuarios</a> - Gestión de cuentas de usuario</li>\n<li><a href=\"/tana-api/balances/\">API de Saldos</a> - Consultas y actualizaciones de saldo</li>\n<li><a href=\"/tana-api/transactions/\">API de Transacciones</a> - Creación y consultas de transacciones</li>\n<li><a href=\"/tana-api/blocks/\">API de Bloques</a> - Consultas de blockchain</li>\n<li><a href=\"/tana-api/contracts/\">API de Contratos</a> - Despliegue de contratos inteligentes</li>\n<li><a href=\"/tana-cli/intro/\">Referencia de CLI</a> - Interfaz de línea de comandos</li>\n</ul>\n",
    "codeBlocks": [
      {
        "lang": "text",
        "code": "http://localhost:8080"
      },
      {
        "lang": "text",
        "code": "http://localhost:8090"
      },
      {
        "lang": "json",
        "code": "{\n  \"type\": \"transfer\",\n  \"from\": \"usr_abc123\",\n  \"to\": \"usr_xyz789\",\n  \"timestamp\": 1699459200,\n  \"nonce\": 42,\n  \"amount\": \"100\",\n  \"currencyCode\": \"USD\",\n  \"signature\": \"ed25519_sig_...\"\n}"
      },
      {
        "lang": "typescript",
        "code": "import {\n  signMessage,\n  createTransactionMessage\n} from '@tananetwork/crypto'\n\n// 1. Create canonical transaction message\nconst tx = {\n  type: 'transfer',\n  from: 'usr_abc123',\n  to: 'usr_xyz789',\n  timestamp: Date.now(),\n  nonce: 42,\n  amount: '100',\n  currencyCode: 'USD'\n}\n\n// 2. Sign with private key (SHA-256 + Ed25519)\nconst message = createTransactionMessage(tx)\nconst signature = await signMessage(message, privateKey)\n\n// 3. Send to API with signature\nPOST /transactions {\n  ...tx,\n  signature\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"data\": { ... },\n  \"status\": \"success\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Error message describing what went wrong\",\n  \"timestamp\": \"2024-11-07T00:00:00.000Z\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/health"
      },
      {
        "lang": "json",
        "code": "{\n  \"status\": \"ok\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/"
      },
      {
        "lang": "json",
        "code": "{\n  \"service\": \"tana-ledger\",\n  \"version\": \"0.1.0\",\n  \"status\": \"healthy\",\n  \"timestamp\": \"2024-11-07T00:00:00.000Z\"\n}"
      },
      {
        "lang": "text",
        "code": "Access-Control-Allow-Origin: *\nAccess-Control-Allow-Credentials: true"
      },
      {
        "lang": "bash",
        "code": "GET /users?page=1&limit=20"
      },
      {
        "lang": "bash",
        "code": "# 1. Create user\ncurl -X POST http://localhost:8080/users \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"publicKey\": \"ed25519_abc123...\",\n    \"username\": \"@alice\",\n    \"displayName\": \"Alice Johnson\"\n  }'\n\n# Response:\n# {\n#   \"userId\": \"user_xyz789\",\n#   \"transactionId\": \"tx_abc123\",\n#   \"status\": \"pending\"\n# }\n\n# 2. Get balance (after block inclusion)\ncurl \"http://localhost:8080/balances?ownerId=user_xyz789&currencyCode=USD\"\n\n# Response:\n# {\n#   \"ownerId\": \"user_xyz789\",\n#   \"ownerType\": \"user\",\n#   \"currencyCode\": \"USD\",\n#   \"amount\": \"1000.00\",\n#   \"updatedAt\": \"2024-11-07T00:00:00.000Z\"\n# }"
      }
    ]
  },
  {
    "slug": [
      "api-reference",
      "rate-limit"
    ],
    "metadata": {
      "title": "límites de tasa",
      "description": "Una página de referencia en mi nuevo sitio de documentación de Starlight."
    },
    "content": "Las páginas de referencia son ideales para describir cómo funcionan las cosas de manera concisa y clara. Menos preocupadas por contar una historia o abordar un caso de uso específico, deberían ofrecer un esquema completo de lo que estás documentando.\n",
    "html": "<p>Las páginas de referencia son ideales para describir cómo funcionan las cosas de manera concisa y clara. Menos preocupadas por contar una historia o abordar un caso de uso específico, deberían ofrecer un esquema completo de lo que estás documentando.</p>\n",
    "codeBlocks": []
  },
  {
    "slug": [
      "api-reference",
      "transactions",
      "index"
    ],
    "metadata": {
      "title": "/transactions",
      "description": "Gestionar transacciones de blockchain"
    },
    "content": "Crea y consulta transacciones en la blockchain. Las transacciones permanecen en un estado pendiente hasta que se incluyen en un bloque.\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/transactions</b></code> <code>(obtener todas las transacciones)</code></summary>\n\n### Solicitud\n\n```bash\ncurl \"http://localhost:8080/transactions?limit=50&offset=0\"\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>número</td>\n    <td>opcional (por defecto: 100)</td>\n  </tr>\n <tr>\n    <td>**offset**</td>\n    <td>número</td>\n    <td>opcional (por defecto: 0)</td>\n  </tr>\n</table>\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n[\n  {\n    \"id\": \"tx_1a2b3c4d5e6f\",\n    \"from\": \"usr_abc123\",\n    \"to\": \"usr_def456\",\n    \"amount\": \"100.00\",\n    \"currencyCode\": \"USD\",\n    \"type\": \"transfer\",\n    \"status\": \"confirmed\",\n    \"blockId\": \"blk_xyz789\",\n    \"signature\": \"sig_...\",\n    \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n    \"confirmedAt\": \"2024-11-08T12:00:06.000Z\"\n  }\n]\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [x] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/transactions</b></code> <code>(crear transacción)</code></summary>\n\n### Solicitud\n\n```bash\ncurl -X POST http://localhost:8080/transactions \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"from\": \"usr_abc123\",\n    \"to\": \"usr_def456\",\n    \"amount\": \"100.00\",\n    \"currencyCode\": \"USD\",\n    \"type\": \"transfer\",\n    \"signature\": \"sig_...\"\n  }'\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**from**</td>\n    <td>cadena (UUID)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**to**</td>\n    <td>cadena (UUID)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**amount**</td>\n    <td>cadena (decimal)</td>\n    <td>opcional*</td>\n  </tr>\n <tr>\n    <td>**currencyCode**</td>\n    <td>cadena</td>\n    <td>opcional*</td>\n  </tr>\n <tr>\n    <td>**type**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**signature**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**contractId**</td>\n    <td>cadena (UUID)</td>\n    <td>opcional</td>\n  </tr>\n <tr>\n    <td>**contractInput**</td>\n    <td>objeto</td>\n    <td>opcional</td>\n  </tr>\n</table>\n\n**Tipos de transacción:** `transfer`, `deposit`, `withdraw`, `contract_call`, `user_creation`, `contract_deployment`\n\n*Requerido para tipos de transferencia/deposito/retiro\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>201</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"tx_1a2b3c4d5e6f\",\n  \"from\": \"usr_abc123\",\n  \"to\": \"usr_def456\",\n  \"amount\": \"100.00\",\n  \"currencyCode\": \"USD\",\n  \"type\": \"transfer\",\n  \"status\": \"pending\",\n  \"signature\": \"sig_...\",\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Insufficient balance\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [x] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/transactions/:id</b></code> <code>(obtener transacción)</code></summary>\n\n### Solicitud\n\n```bash\ncurl http://localhost:8080/transactions/tx_1a2b3c4d5e6f\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>cadena</td>\n    <td>requerido (parámetro URL)</td>\n  </tr>\n</table>\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"tx_1a2b3c4d5e6f\",\n  \"from\": \"usr_abc123\",\n  \"to\": \"usr_def456\",\n  \"amount\": \"100.00\",\n  \"currencyCode\": \"USD\",\n  \"type\": \"transfer\",\n  \"status\": \"confirmed\",\n  \"blockId\": \"blk_xyz789\",\n  \"signature\": \"sig_...\",\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n  \"confirmedAt\": \"2024-11-08T12:00:06.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Transaction not found\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [x] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/transactions/:id/confirm</b></code> <code>(confirmar transacción)</code></summary>\n\n### Solicitud\n\n```bash\ncurl -X POST http://localhost:8080/transactions/tx_1a2b3c4d5e6f/confirm \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"id\": \"tx_1a2b3c4d5e6f\",\n    \"blockId\": \"blk_xyz789\"\n  }'\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>cadena (UUID)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**blockId**</td>\n    <td>cadena (UUID)</td>\n    <td>opcional</td>\n  </tr>\n</table>\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"tx_1a2b3c4d5e6f\",\n  \"from\": \"usr_abc123\",\n  \"to\": \"usr_def456\",\n  \"amount\": \"100.00\",\n  \"currencyCode\": \"USD\",\n  \"type\": \"transfer\",\n  \"status\": \"confirmed\",\n  \"blockId\": \"blk_xyz789\",\n  \"signature\": \"sig_...\",\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n  \"confirmedAt\": \"2024-11-08T12:00:06.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Transaction already confirmed\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [ ] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [x] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/transactions/pending</b></code> <code>(obtener transacciones pendientes)</code></summary>\n\n### Solicitud\n\n```bash\ncurl \"http://localhost:8080/transactions/pending?limit=100\"\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>número</td>\n    <td>opcional (por defecto: 100)</td>\n  </tr>\n</table>\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n[\n  {\n    \"id\": \"tx_1a2b3c4d5e6f\",\n    \"from\": \"usr_abc123\",\n    \"to\": \"usr_def456\",\n    \"amount\": \"100.00\",\n    \"currencyCode\": \"USD\",\n    \"type\": \"transfer\",\n    \"status\": \"pending\",\n    \"signature\": \"sig_...\",\n    \"createdAt\": \"2024-11-08T12:00:00.000Z\"\n  }\n]\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [x] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/transactions/account/:accountId</b></code> <code>(obtener transacciones de la cuenta)</code></summary>\n\n### Solicitud\n\n```bash\ncurl \"http://localhost:8080/transactions/account/usr_abc123?limit=50&offset=0\"\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**accountId**</td>\n    <td>cadena</td>\n    <td>requerido (parámetro URL)</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>número</td>\n    <td>opcional (por defecto: 50)</td>\n  </tr>\n <tr>\n    <td>**offset**</td>\n    <td>número</td>\n    <td>opcional (por defecto: 0)</td>\n  </tr>\n</table>\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n[\n  {\n    \"id\": \"tx_1a2b3c4d5e6f\",\n    \"from\": \"usr_abc123\",\n    \"to\": \"usr_def456\",\n    \"amount\": \"100.00\",\n    \"currencyCode\": \"USD\",\n    \"type\": \"transfer\",\n    \"status\": \"confirmed\",\n    \"blockId\": \"blk_xyz789\",\n    \"signature\": \"sig_...\",\n    \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n    \"confirmedAt\": \"2024-11-08T12:00:06.000Z\"\n  }\n]\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [x] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [ ] Admin\n\n</details>\n\n### Método No Permitido\n\nLos siguientes métodos no son soportados:\n\n<code className=\"text-orange-400\">PUT</code> <code className=\"text-red-400\">DELETE</code> <code className=\"text-purple-400\">PATCH</code>\n",
    "html": "<p>Crea y consulta transacciones en la blockchain. Las transacciones permanecen en un estado pendiente hasta que se incluyen en un bloque.</p>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/transactions</b></code> <code>(obtener todas las transacciones)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"0\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>número</td>\n    <td>opcional (por defecto: 100)</td>\n  </tr>\n <tr>\n    <td>**offset**</td>\n    <td>número</td>\n    <td>opcional (por defecto: 0)</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"1\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[x] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/transactions</b></code> <code>(crear transacción)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"2\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**from**</td>\n    <td>cadena (UUID)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**to**</td>\n    <td>cadena (UUID)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**amount**</td>\n    <td>cadena (decimal)</td>\n    <td>opcional*</td>\n  </tr>\n <tr>\n    <td>**currencyCode**</td>\n    <td>cadena</td>\n    <td>opcional*</td>\n  </tr>\n <tr>\n    <td>**type**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**signature**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**contractId**</td>\n    <td>cadena (UUID)</td>\n    <td>opcional</td>\n  </tr>\n <tr>\n    <td>**contractInput**</td>\n    <td>objeto</td>\n    <td>opcional</td>\n  </tr>\n</table>\n<p><strong>Tipos de transacción:</strong> <code>transfer</code>, <code>deposit</code>, <code>withdraw</code>, <code>contract_call</code>, <code>user_creation</code>, <code>contract_deployment</code></p>\n<p>*Requerido para tipos de transferencia/deposito/retiro</p>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>201</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"3\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"4\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[x] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/transactions/:id</b></code> <code>(obtener transacción)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"5\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>cadena</td>\n    <td>requerido (parámetro URL)</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"6\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"7\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[x] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/transactions/:id/confirm</b></code> <code>(confirmar transacción)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"8\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>cadena (UUID)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**blockId**</td>\n    <td>cadena (UUID)</td>\n    <td>opcional</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"9\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"10\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[ ] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[x] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/transactions/pending</b></code> <code>(obtener transacciones pendientes)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"11\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>número</td>\n    <td>opcional (por defecto: 100)</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"12\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[x] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/transactions/account/:accountId</b></code> <code>(obtener transacciones de la cuenta)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"13\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**accountId**</td>\n    <td>cadena</td>\n    <td>requerido (parámetro URL)</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>número</td>\n    <td>opcional (por defecto: 50)</td>\n  </tr>\n <tr>\n    <td>**offset**</td>\n    <td>número</td>\n    <td>opcional (por defecto: 0)</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"14\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[x] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<h3>Método No Permitido</h3>\n<p>Los siguientes métodos no son soportados:</p>\n<p><code className=\"text-orange-400\">PUT</code> <code className=\"text-red-400\">DELETE</code> <code className=\"text-purple-400\">PATCH</code></p>\n",
    "codeBlocks": [
      {
        "lang": "bash",
        "code": "curl \"http://localhost:8080/transactions?limit=50&offset=0\""
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"id\": \"tx_1a2b3c4d5e6f\",\n    \"from\": \"usr_abc123\",\n    \"to\": \"usr_def456\",\n    \"amount\": \"100.00\",\n    \"currencyCode\": \"USD\",\n    \"type\": \"transfer\",\n    \"status\": \"confirmed\",\n    \"blockId\": \"blk_xyz789\",\n    \"signature\": \"sig_...\",\n    \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n    \"confirmedAt\": \"2024-11-08T12:00:06.000Z\"\n  }\n]"
      },
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8080/transactions \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"from\": \"usr_abc123\",\n    \"to\": \"usr_def456\",\n    \"amount\": \"100.00\",\n    \"currencyCode\": \"USD\",\n    \"type\": \"transfer\",\n    \"signature\": \"sig_...\"\n  }'"
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"tx_1a2b3c4d5e6f\",\n  \"from\": \"usr_abc123\",\n  \"to\": \"usr_def456\",\n  \"amount\": \"100.00\",\n  \"currencyCode\": \"USD\",\n  \"type\": \"transfer\",\n  \"status\": \"pending\",\n  \"signature\": \"sig_...\",\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Insufficient balance\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/transactions/tx_1a2b3c4d5e6f"
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"tx_1a2b3c4d5e6f\",\n  \"from\": \"usr_abc123\",\n  \"to\": \"usr_def456\",\n  \"amount\": \"100.00\",\n  \"currencyCode\": \"USD\",\n  \"type\": \"transfer\",\n  \"status\": \"confirmed\",\n  \"blockId\": \"blk_xyz789\",\n  \"signature\": \"sig_...\",\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n  \"confirmedAt\": \"2024-11-08T12:00:06.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Transaction not found\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8080/transactions/tx_1a2b3c4d5e6f/confirm \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"id\": \"tx_1a2b3c4d5e6f\",\n    \"blockId\": \"blk_xyz789\"\n  }'"
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"tx_1a2b3c4d5e6f\",\n  \"from\": \"usr_abc123\",\n  \"to\": \"usr_def456\",\n  \"amount\": \"100.00\",\n  \"currencyCode\": \"USD\",\n  \"type\": \"transfer\",\n  \"status\": \"confirmed\",\n  \"blockId\": \"blk_xyz789\",\n  \"signature\": \"sig_...\",\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n  \"confirmedAt\": \"2024-11-08T12:00:06.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Transaction already confirmed\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl \"http://localhost:8080/transactions/pending?limit=100\""
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"id\": \"tx_1a2b3c4d5e6f\",\n    \"from\": \"usr_abc123\",\n    \"to\": \"usr_def456\",\n    \"amount\": \"100.00\",\n    \"currencyCode\": \"USD\",\n    \"type\": \"transfer\",\n    \"status\": \"pending\",\n    \"signature\": \"sig_...\",\n    \"createdAt\": \"2024-11-08T12:00:00.000Z\"\n  }\n]"
      },
      {
        "lang": "bash",
        "code": "curl \"http://localhost:8080/transactions/account/usr_abc123?limit=50&offset=0\""
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"id\": \"tx_1a2b3c4d5e6f\",\n    \"from\": \"usr_abc123\",\n    \"to\": \"usr_def456\",\n    \"amount\": \"100.00\",\n    \"currencyCode\": \"USD\",\n    \"type\": \"transfer\",\n    \"status\": \"confirmed\",\n    \"blockId\": \"blk_xyz789\",\n    \"signature\": \"sig_...\",\n    \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n    \"confirmedAt\": \"2024-11-08T12:00:06.000Z\"\n  }\n]"
      }
    ]
  },
  {
    "slug": [
      "api-reference",
      "users",
      "create"
    ],
    "metadata": {
      "title": "/usuarios",
      "description": "Crea un nuevo usuario en la blockchain."
    },
    "content": "Crea una nueva cuenta de usuario enviando una transacción de creación de usuario. La transacción estará pendiente hasta que se incluya en un bloque.\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/users</b></code> <code>(crear usuario)</code></summary>\n\n### Solicitud\n\n```bash\ncurl -X POST http://localhost:8080/users \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"publicKey\": \"ed25519_abc123...\",\n    \"username\": \"@alice\",\n    \"displayName\": \"Alice Johnson\",\n    \"bio\": \"Software developer\"\n  }'\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**publicKey**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**username**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**displayName**</td>\n    <td>cadena</td>\n    <td>opcional</td>\n  </tr>\n <tr>\n    <td>**bio**</td>\n    <td>cadena</td>\n    <td>opcional</td>\n  </tr>\n</table>\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>201</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"userId\": \"usr_1a2b3c4d5e6f\",\n  \"transactionId\": \"tx_7g8h9i0j1k2l\",\n  \"status\": \"pending\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [x] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/users</b></code> <code>(listar usuarios)</code></summary>\n\n### Solicitud\n\n```bash\ncurl http://localhost:8080/users\n```\n\n### Parámetros\n\nNinguno\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n[\n  {\n    \"id\": \"usr_1a2b3c4d5e6f\",\n    \"username\": \"@alice\",\n    \"displayName\": \"Alice Johnson\",\n    \"publicKey\": \"ed25519_abc123...\",\n    \"bio\": \"Software developer\",\n    \"createdAt\": \"2024-11-07T12:00:00.000Z\"\n  }\n]\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [x] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/users/:id</b></code> <code>(obtener usuario por ID)</code></summary>\n\n### Solicitud\n\n```bash\ncurl http://localhost:8080/users/usr_1a2b3c4d5e6f\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>cadena</td>\n    <td>requerido (parámetro de URL)</td>\n  </tr>\n</table>\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"usr_1a2b3c4d5e6f\",\n  \"username\": \"@alice\",\n  \"displayName\": \"Alice Johnson\",\n  \"publicKey\": \"ed25519_abc123...\",\n  \"bio\": \"Software developer\",\n  \"createdAt\": \"2024-11-07T12:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"User not found\",\n  \"timestamp\": \"2024-11-07T12:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [x] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/users/username/:username</b></code> <code>(obtener usuario por nombre de usuario)</code></summary>\n\n### Solicitud\n\n```bash\ncurl http://localhost:8080/users/username/@alice\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**username**</td>\n    <td>cadena</td>\n    <td>requerido (parámetro de URL)</td>\n  </tr>\n</table>\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"usr_1a2b3c4d5e6f\",\n  \"username\": \"@alice\",\n  \"displayName\": \"Alice Johnson\",\n  \"publicKey\": \"ed25519_abc123...\",\n  \"bio\": \"Software developer\",\n  \"createdAt\": \"2024-11-07T12:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"User not found\",\n  \"timestamp\": \"2024-11-07T12:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [x] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-purple-400\">PATCH</code> <code><b>/users/:id</b></code> <code>(actualizar usuario)</code></summary>\n\n### Solicitud\n\n```bash\ncurl -X PATCH http://localhost:8080/users/usr_1a2b3c4d5e6f \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"displayName\": \"Alice Smith\",\n    \"bio\": \"Senior Software Developer\"\n  }'\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>cadena</td>\n    <td>requerido (parámetro de URL)</td>\n  </tr>\n <tr>\n    <td>**displayName**</td>\n    <td>cadena</td>\n    <td>opcional</td>\n  </tr>\n <tr>\n    <td>**bio**</td>\n    <td>cadena</td>\n    <td>opcional</td>\n  </tr>\n <tr>\n    <td>**avatarData**</td>\n    <td>cadena</td>\n    <td>opcional</td>\n  </tr>\n <tr>\n    <td>**landingPageId**</td>\n    <td>cadena (UUID)</td>\n    <td>opcional</td>\n  </tr>\n</table>\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"usr_1a2b3c4d5e6f\",\n  \"username\": \"@alice\",\n  \"displayName\": \"Alice Smith\",\n  \"publicKey\": \"ed25519_abc123...\",\n  \"bio\": \"Senior Software Developer\",\n  \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"User not found\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [ ] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [x] Propio\n- [x] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-red-400\">DELETE</code> <code><b>/users/:id</b></code> <code>(eliminar usuario)</code></summary>\n\n### Solicitud\n\n```bash\ncurl -X DELETE http://localhost:8080/users/usr_1a2b3c4d5e6f\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>cadena</td>\n    <td>requerido (parámetro de URL)</td>\n  </tr>\n</table>\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"message\": \"User deleted\",\n  \"user\": {\n    \"id\": \"usr_1a2b3c4d5e6f\",\n    \"username\": \"@alice\"\n  }\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"User not found\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [ ] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [x] Propio\n- [x] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/users/:id/balances</b></code> <code>(obtener saldos de usuario)</code></summary>\n\n### Solicitud\n\n```bash\ncurl http://localhost:8080/users/usr_1a2b3c4d5e6f/balances\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>cadena</td>\n    <td>requerido (parámetro de URL)</td>\n  </tr>\n</table>\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n[\n  {\n    \"ownerId\": \"usr_1a2b3c4d5e6f\",\n    \"ownerType\": \"user\",\n    \"currencyCode\": \"USD\",\n    \"balance\": \"1000.50\"\n  },\n  {\n    \"ownerId\": \"usr_1a2b3c4d5e6f\",\n    \"ownerType\": \"user\",\n    \"currencyCode\": \"ETH\",\n    \"balance\": \"2.5\"\n  }\n]\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"User not found\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [x] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [ ] Admin\n\n</details>\n\n### Método No Permitido\n\nLos siguientes métodos no son compatibles:\n\n<code className=\"text-orange-400\">PUT</code>\n",
    "html": "<p>Crea una nueva cuenta de usuario enviando una transacción de creación de usuario. La transacción estará pendiente hasta que se incluya en un bloque.</p>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/users</b></code> <code>(crear usuario)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"0\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**publicKey**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**username**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**displayName**</td>\n    <td>cadena</td>\n    <td>opcional</td>\n  </tr>\n <tr>\n    <td>**bio**</td>\n    <td>cadena</td>\n    <td>opcional</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>201</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"1\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[x] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/users</b></code> <code>(listar usuarios)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"2\"></div>\n<h3>Parámetros</h3>\n<p>Ninguno</p>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"3\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[x] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/users/:id</b></code> <code>(obtener usuario por ID)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"4\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>cadena</td>\n    <td>requerido (parámetro de URL)</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"5\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"6\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[x] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/users/username/:username</b></code> <code>(obtener usuario por nombre de usuario)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"7\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**username**</td>\n    <td>cadena</td>\n    <td>requerido (parámetro de URL)</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"8\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"9\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[x] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-purple-400\">PATCH</code> <code><b>/users/:id</b></code> <code>(actualizar usuario)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"10\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>cadena</td>\n    <td>requerido (parámetro de URL)</td>\n  </tr>\n <tr>\n    <td>**displayName**</td>\n    <td>cadena</td>\n    <td>opcional</td>\n  </tr>\n <tr>\n    <td>**bio**</td>\n    <td>cadena</td>\n    <td>opcional</td>\n  </tr>\n <tr>\n    <td>**avatarData**</td>\n    <td>cadena</td>\n    <td>opcional</td>\n  </tr>\n <tr>\n    <td>**landingPageId**</td>\n    <td>cadena (UUID)</td>\n    <td>opcional</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"11\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"12\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[ ] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[x] Propio</li>\n<li>[x] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-red-400\">DELETE</code> <code><b>/users/:id</b></code> <code>(eliminar usuario)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"13\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>cadena</td>\n    <td>requerido (parámetro de URL)</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"14\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"15\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[ ] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[x] Propio</li>\n<li>[x] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/users/:id/balances</b></code> <code>(obtener saldos de usuario)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"16\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>cadena</td>\n    <td>requerido (parámetro de URL)</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"17\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"18\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[x] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<h3>Método No Permitido</h3>\n<p>Los siguientes métodos no son compatibles:</p>\n<p><code className=\"text-orange-400\">PUT</code></p>\n",
    "codeBlocks": [
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8080/users \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"publicKey\": \"ed25519_abc123...\",\n    \"username\": \"@alice\",\n    \"displayName\": \"Alice Johnson\",\n    \"bio\": \"Software developer\"\n  }'"
      },
      {
        "lang": "json",
        "code": "{\n  \"userId\": \"usr_1a2b3c4d5e6f\",\n  \"transactionId\": \"tx_7g8h9i0j1k2l\",\n  \"status\": \"pending\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/users"
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"id\": \"usr_1a2b3c4d5e6f\",\n    \"username\": \"@alice\",\n    \"displayName\": \"Alice Johnson\",\n    \"publicKey\": \"ed25519_abc123...\",\n    \"bio\": \"Software developer\",\n    \"createdAt\": \"2024-11-07T12:00:00.000Z\"\n  }\n]"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/users/usr_1a2b3c4d5e6f"
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"usr_1a2b3c4d5e6f\",\n  \"username\": \"@alice\",\n  \"displayName\": \"Alice Johnson\",\n  \"publicKey\": \"ed25519_abc123...\",\n  \"bio\": \"Software developer\",\n  \"createdAt\": \"2024-11-07T12:00:00.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"User not found\",\n  \"timestamp\": \"2024-11-07T12:00:00.000Z\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/users/username/@alice"
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"usr_1a2b3c4d5e6f\",\n  \"username\": \"@alice\",\n  \"displayName\": \"Alice Johnson\",\n  \"publicKey\": \"ed25519_abc123...\",\n  \"bio\": \"Software developer\",\n  \"createdAt\": \"2024-11-07T12:00:00.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"User not found\",\n  \"timestamp\": \"2024-11-07T12:00:00.000Z\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl -X PATCH http://localhost:8080/users/usr_1a2b3c4d5e6f \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"displayName\": \"Alice Smith\",\n    \"bio\": \"Senior Software Developer\"\n  }'"
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"usr_1a2b3c4d5e6f\",\n  \"username\": \"@alice\",\n  \"displayName\": \"Alice Smith\",\n  \"publicKey\": \"ed25519_abc123...\",\n  \"bio\": \"Senior Software Developer\",\n  \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"User not found\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl -X DELETE http://localhost:8080/users/usr_1a2b3c4d5e6f"
      },
      {
        "lang": "json",
        "code": "{\n  \"message\": \"User deleted\",\n  \"user\": {\n    \"id\": \"usr_1a2b3c4d5e6f\",\n    \"username\": \"@alice\"\n  }\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"User not found\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/users/usr_1a2b3c4d5e6f/balances"
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"ownerId\": \"usr_1a2b3c4d5e6f\",\n    \"ownerType\": \"user\",\n    \"currencyCode\": \"USD\",\n    \"balance\": \"1000.50\"\n  },\n  {\n    \"ownerId\": \"usr_1a2b3c4d5e6f\",\n    \"ownerType\": \"user\",\n    \"currencyCode\": \"ETH\",\n    \"balance\": \"2.5\"\n  }\n]"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"User not found\"\n}"
      }
    ]
  },
  {
    "slug": [
      "api-reference",
      "users",
      "signin"
    ],
    "metadata": {
      "title": "/usuarios/iniciar-sesion",
      "description": "documentación para el endpoint"
    },
    "content": "cuando se proporciona un identificador de usuario (nombre de usuario, correo electrónico o número de teléfono) y una contraseña como entrada, este endpoint devolverá un token si la información es válida\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/users/signin</b></code> <code>(autenticar usuario)</code></summary>\n\n### Solicitud\n\n```javascript\ncurl https://api.conoda.co/users/signin\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**usuario**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**contraseña**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n</table>\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"conoda/addis\": \"v1.0.0\",\n  \"api\": \"v1\",\n  \"location\": \"seattle\",\n  \"server-id\": \"9x93jv35\",\n  \"rate-limit-remaining\": 1000,\n  \"rate-limit-reset\": 1684830400,\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [ ] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [x] Propio\n- [x] Administrador\n\n</details>\n\n### Método No Permitido\n\nenviar una solicitud con los siguientes métodos a este endpoint devolverá un error 405\n\n<code className=\"text-blue-400\">GET</code> <code className=\"text-orange-400\">PUT</code> <code className=\"text-red-400\">DELETE</code>\n",
    "html": "<p>cuando se proporciona un identificador de usuario (nombre de usuario, correo electrónico o número de teléfono) y una contraseña como entrada, este endpoint devolverá un token si la información es válida</p>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/users/signin</b></code> <code>(autenticar usuario)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"0\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**usuario**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**contraseña**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"1\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[ ] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[x] Propio</li>\n<li>[x] Administrador</li>\n</ul>\n</details>\n<h3>Método No Permitido</h3>\n<p>enviar una solicitud con los siguientes métodos a este endpoint devolverá un error 405</p>\n<p><code className=\"text-blue-400\">GET</code> <code className=\"text-orange-400\">PUT</code> <code className=\"text-red-400\">DELETE</code></p>\n",
    "codeBlocks": [
      {
        "lang": "javascript",
        "code": "curl https://api.conoda.co/users/signin"
      },
      {
        "lang": "json",
        "code": "{\n  \"conoda/addis\": \"v1.0.0\",\n  \"api\": \"v1\",\n  \"location\": \"seattle\",\n  \"server-id\": \"9x93jv35\",\n  \"rate-limit-remaining\": 1000,\n  \"rate-limit-reset\": 1684830400,\n}"
      }
    ]
  },
  {
    "slug": [
      "api-reference",
      "balances",
      "index"
    ],
    "metadata": {
      "title": "/balances",
      "description": "Gestionar saldos de cuentas y divisas"
    },
    "content": "Gestiona saldos para usuarios y equipos en múltiples monedas. Todos los montos de saldo se almacenan como cadenas para preservar la precisión decimal.\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/balances</b></code> <code>(obtener todos los saldos o saldo específico)</code></summary>\n\n### Solicitud\n\n**Obtener todos los saldos:**\n```bash\ncurl http://localhost:8080/balances\n```\n\n**Obtener saldo específico:**\n```bash\ncurl \"http://localhost:8080/balances?ownerId=usr_1a2b3c4d5e6f&ownerType=user&currencyCode=USD\"\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**ownerId**</td>\n    <td>cadena (UUID)</td>\n    <td>opcional (parámetro de consulta)</td>\n  </tr>\n <tr>\n    <td>**ownerType**</td>\n    <td>cadena (usuario | equipo)</td>\n    <td>opcional (parámetro de consulta)</td>\n  </tr>\n <tr>\n    <td>**currencyCode**</td>\n    <td>cadena</td>\n    <td>opcional (parámetro de consulta)</td>\n  </tr>\n</table>\n\n**Nota:** Si se proporciona algún parámetro de consulta, los tres (ownerId, ownerType, currencyCode) son requeridos.\n\n### Respuesta\n\n**Todos los saldos (sin parámetros de consulta):**\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n[\n  {\n    \"ownerId\": \"usr_1a2b3c4d5e6f\",\n    \"ownerType\": \"user\",\n    \"currencyCode\": \"USD\",\n    \"balance\": \"1000.50\",\n    \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n  },\n  {\n    \"ownerId\": \"usr_1a2b3c4d5e6f\",\n    \"ownerType\": \"user\",\n    \"currencyCode\": \"ETH\",\n    \"balance\": \"2.5\",\n    \"updatedAt\": \"2024-11-08T11:30:00.000Z\"\n  }\n]\n```\n\n</td>\n  </tr>\n</table>\n\n**Saldo específico (con parámetros de consulta):**\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"ownerId\": \"usr_1a2b3c4d5e6f\",\n  \"ownerType\": \"user\",\n  \"currencyCode\": \"USD\",\n  \"balance\": \"1000.50\",\n  \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Missing required query parameters: ownerId, ownerType, currencyCode\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n**Si el saldo no existe:**\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"balance\": \"0\",\n  \"currencyCode\": \"USD\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [x] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/balances</b></code> <code>(establecer saldo)</code></summary>\n\n### Solicitud\n\n```bash\ncurl -X POST http://localhost:8080/balances \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"ownerId\": \"usr_1a2b3c4d5e6f\",\n    \"ownerType\": \"user\",\n    \"currencyCode\": \"USD\",\n    \"amount\": \"1500.75\"\n  }'\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**ownerId**</td>\n    <td>cadena (UUID)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**ownerType**</td>\n    <td>cadena (usuario | equipo)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**currencyCode**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**amount**</td>\n    <td>cadena (decimal)</td>\n    <td>requerido</td>\n  </tr>\n</table>\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>201</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"ownerId\": \"usr_1a2b3c4d5e6f\",\n  \"ownerType\": \"user\",\n  \"currencyCode\": \"USD\",\n  \"balance\": \"1500.75\",\n  \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Amount must be a valid decimal number\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [ ] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [x] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/balances/currencies</b></code> <code>(listar todas las monedas)</code></summary>\n\n### Solicitud\n\n```bash\ncurl http://localhost:8080/balances/currencies\n```\n\n### Parámetros\n\nNinguno\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n[\n  {\n    \"code\": \"USD\",\n    \"type\": \"fiat\",\n    \"decimals\": 2,\n    \"name\": \"US Dollar\",\n    \"symbol\": \"$\",\n    \"verified\": true\n  },\n  {\n    \"code\": \"ETH\",\n    \"type\": \"crypto\",\n    \"decimals\": 18,\n    \"name\": \"Ethereum\",\n    \"symbol\": \"Ξ\",\n    \"verified\": true\n  }\n]\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [x] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/balances/currencies</b></code> <code>(crear moneda)</code></summary>\n\n### Solicitud\n\n```bash\ncurl -X POST http://localhost:8080/balances/currencies \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"code\": \"BTC\",\n    \"type\": \"crypto\",\n    \"decimals\": 8,\n    \"name\": \"Bitcoin\",\n    \"symbol\": \"₿\",\n    \"verified\": false\n  }'\n```\n\n### Parámetros\n\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**code**</td>\n    <td>cadena (mayúsculas)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**type**</td>\n    <td>cadena (fiat | cripto)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**decimals**</td>\n    <td>número (0-18)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**name**</td>\n    <td>cadena</td>\n    <td>opcional</td>\n  </tr>\n <tr>\n    <td>**symbol**</td>\n    <td>cadena</td>\n    <td>opcional</td>\n  </tr>\n <tr>\n    <td>**verified**</td>\n    <td>booleano</td>\n    <td>opcional</td>\n  </tr>\n</table>\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>201</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"code\": \"BTC\",\n  \"type\": \"crypto\",\n  \"decimals\": 8,\n  \"name\": \"Bitcoin\",\n  \"symbol\": \"₿\",\n  \"verified\": false,\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Currency code already exists\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [ ] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [x] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/balances/currencies/seed</b></code> <code>(sembrar monedas predeterminadas)</code></summary>\n\n### Solicitud\n\n```bash\ncurl -X POST http://localhost:8080/balances/currencies/seed\n```\n\n### Parámetros\n\nNinguno\n\n### Respuesta\n\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"message\": \"Default currencies seeded\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Error seeding currencies\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Nivel de Acceso\n\n- [ ] Público\n- [ ] Comunidad\n- [ ] Equipo\n- [ ] Propio\n- [x] Admin\n\n</details>\n\n### Método No Permitido\n\nLos siguientes métodos no son soportados:\n\n<code className=\"text-orange-400\">PUT</code> <code className=\"text-red-400\">DELETE</code> <code className=\"text-purple-400\">PATCH</code>\n",
    "html": "<p>Gestiona saldos para usuarios y equipos en múltiples monedas. Todos los montos de saldo se almacenan como cadenas para preservar la precisión decimal.</p>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/balances</b></code> <code>(obtener todos los saldos o saldo específico)</code></summary>\n<h3>Solicitud</h3>\n<p><strong>Obtener todos los saldos:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"0\"></div>\n<p><strong>Obtener saldo específico:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"1\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**ownerId**</td>\n    <td>cadena (UUID)</td>\n    <td>opcional (parámetro de consulta)</td>\n  </tr>\n <tr>\n    <td>**ownerType**</td>\n    <td>cadena (usuario | equipo)</td>\n    <td>opcional (parámetro de consulta)</td>\n  </tr>\n <tr>\n    <td>**currencyCode**</td>\n    <td>cadena</td>\n    <td>opcional (parámetro de consulta)</td>\n  </tr>\n</table>\n<p><strong>Nota:</strong> Si se proporciona algún parámetro de consulta, los tres (ownerId, ownerType, currencyCode) son requeridos.</p>\n<h3>Respuesta</h3>\n<p><strong>Todos los saldos (sin parámetros de consulta):</strong></p>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"2\"></div>\n</td>\n  </tr>\n</table>\n<p><strong>Saldo específico (con parámetros de consulta):</strong></p>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"3\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"4\"></div>\n</td>\n  </tr>\n</table>\n<p><strong>Si el saldo no existe:</strong></p>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"5\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[x] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/balances</b></code> <code>(establecer saldo)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"6\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**ownerId**</td>\n    <td>cadena (UUID)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**ownerType**</td>\n    <td>cadena (usuario | equipo)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**currencyCode**</td>\n    <td>cadena</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**amount**</td>\n    <td>cadena (decimal)</td>\n    <td>requerido</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>201</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"7\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"8\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[ ] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[x] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/balances/currencies</b></code> <code>(listar todas las monedas)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"9\"></div>\n<h3>Parámetros</h3>\n<p>Ninguno</p>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"10\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[x] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/balances/currencies</b></code> <code>(crear moneda)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"11\"></div>\n<h3>Parámetros</h3>\n<table>\n <tr>\n    <td>_parámetro_</td>\n    <td>_tipo_</td>\n    <td>_necesidad_</td>\n  </tr>\n <tr>\n    <td>**code**</td>\n    <td>cadena (mayúsculas)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**type**</td>\n    <td>cadena (fiat | cripto)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**decimals**</td>\n    <td>número (0-18)</td>\n    <td>requerido</td>\n  </tr>\n <tr>\n    <td>**name**</td>\n    <td>cadena</td>\n    <td>opcional</td>\n  </tr>\n <tr>\n    <td>**symbol**</td>\n    <td>cadena</td>\n    <td>opcional</td>\n  </tr>\n <tr>\n    <td>**verified**</td>\n    <td>booleano</td>\n    <td>opcional</td>\n  </tr>\n</table>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>201</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"12\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"13\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[ ] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[x] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/balances/currencies/seed</b></code> <code>(sembrar monedas predeterminadas)</code></summary>\n<h3>Solicitud</h3>\n<div class=\"code-block-placeholder\" data-index=\"14\"></div>\n<h3>Parámetros</h3>\n<p>Ninguno</p>\n<h3>Respuesta</h3>\n<table>\n <tr>\n    <td>código http</td>\n    <td>tipo de contenido</td>\n    <td>cuerpo</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"15\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"16\"></div>\n</td>\n  </tr>\n</table>\n<h3>Nivel de Acceso</h3>\n<ul>\n<li>[ ] Público</li>\n<li>[ ] Comunidad</li>\n<li>[ ] Equipo</li>\n<li>[ ] Propio</li>\n<li>[x] Admin</li>\n</ul>\n</details>\n<h3>Método No Permitido</h3>\n<p>Los siguientes métodos no son soportados:</p>\n<p><code className=\"text-orange-400\">PUT</code> <code className=\"text-red-400\">DELETE</code> <code className=\"text-purple-400\">PATCH</code></p>\n",
    "codeBlocks": [
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/balances"
      },
      {
        "lang": "bash",
        "code": "curl \"http://localhost:8080/balances?ownerId=usr_1a2b3c4d5e6f&ownerType=user&currencyCode=USD\""
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"ownerId\": \"usr_1a2b3c4d5e6f\",\n    \"ownerType\": \"user\",\n    \"currencyCode\": \"USD\",\n    \"balance\": \"1000.50\",\n    \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n  },\n  {\n    \"ownerId\": \"usr_1a2b3c4d5e6f\",\n    \"ownerType\": \"user\",\n    \"currencyCode\": \"ETH\",\n    \"balance\": \"2.5\",\n    \"updatedAt\": \"2024-11-08T11:30:00.000Z\"\n  }\n]"
      },
      {
        "lang": "json",
        "code": "{\n  \"ownerId\": \"usr_1a2b3c4d5e6f\",\n  \"ownerType\": \"user\",\n  \"currencyCode\": \"USD\",\n  \"balance\": \"1000.50\",\n  \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Missing required query parameters: ownerId, ownerType, currencyCode\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"balance\": \"0\",\n  \"currencyCode\": \"USD\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8080/balances \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"ownerId\": \"usr_1a2b3c4d5e6f\",\n    \"ownerType\": \"user\",\n    \"currencyCode\": \"USD\",\n    \"amount\": \"1500.75\"\n  }'"
      },
      {
        "lang": "json",
        "code": "{\n  \"ownerId\": \"usr_1a2b3c4d5e6f\",\n  \"ownerType\": \"user\",\n  \"currencyCode\": \"USD\",\n  \"balance\": \"1500.75\",\n  \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Amount must be a valid decimal number\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/balances/currencies"
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"code\": \"USD\",\n    \"type\": \"fiat\",\n    \"decimals\": 2,\n    \"name\": \"US Dollar\",\n    \"symbol\": \"$\",\n    \"verified\": true\n  },\n  {\n    \"code\": \"ETH\",\n    \"type\": \"crypto\",\n    \"decimals\": 18,\n    \"name\": \"Ethereum\",\n    \"symbol\": \"Ξ\",\n    \"verified\": true\n  }\n]"
      },
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8080/balances/currencies \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"code\": \"BTC\",\n    \"type\": \"crypto\",\n    \"decimals\": 8,\n    \"name\": \"Bitcoin\",\n    \"symbol\": \"₿\",\n    \"verified\": false\n  }'"
      },
      {
        "lang": "json",
        "code": "{\n  \"code\": \"BTC\",\n  \"type\": \"crypto\",\n  \"decimals\": 8,\n  \"name\": \"Bitcoin\",\n  \"symbol\": \"₿\",\n  \"verified\": false,\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Currency code already exists\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8080/balances/currencies/seed"
      },
      {
        "lang": "json",
        "code": "{\n  \"message\": \"Default currencies seeded\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Error seeding currencies\"\n}"
      }
    ]
  },
  {
    "slug": [
      "api-reference",
      "keys",
      "id"
    ],
    "metadata": {
      "title": "/keys/{:id}",
      "description": "Una página de referencia en mi nuevo sitio de documentación de Starlight."
    },
    "content": "Las páginas de referencia son ideales para describir cómo funcionan las cosas de manera concisa y clara. Menos preocupadas por contar una historia o abordar un caso de uso específico, deberían ofrecer un esquema completo de lo que estás documentando.\n\n## Lectura adicional\n\n- Lee [sobre referencia](https://diataxis.fr/reference/) en el marco de Diátaxis.\n",
    "html": "<p>Las páginas de referencia son ideales para describir cómo funcionan las cosas de manera concisa y clara. Menos preocupadas por contar una historia o abordar un caso de uso específico, deberían ofrecer un esquema completo de lo que estás documentando.</p>\n<h2>Lectura adicional</h2>\n<ul>\n<li>Lee <a href=\"https://diataxis.fr/reference/\">sobre referencia</a> en el marco de Diátaxis.</li>\n</ul>\n",
    "codeBlocks": []
  },
  {
    "slug": [
      "api-reference",
      "keys",
      "index"
    ],
    "metadata": {
      "title": "/keys",
      "description": "Una página de referencia en mi nuevo sitio de documentación de Starlight."
    },
    "content": "Las páginas de referencia son ideales para describir cómo funcionan las cosas de manera concisa y clara. Menos preocupadas por contar una historia o abordar un caso de uso específico, deberían ofrecer un esquema completo de lo que estás documentando.\n",
    "html": "<p>Las páginas de referencia son ideales para describir cómo funcionan las cosas de manera concisa y clara. Menos preocupadas por contar una historia o abordar un caso de uso específico, deberían ofrecer un esquema completo de lo que estás documentando.</p>\n",
    "codeBlocks": []
  },
  {
    "slug": [
      "api-reference",
      "modules",
      "kv"
    ],
    "metadata": {
      "title": "módulo tana/kv",
      "description": "Referencia de la API de Almacenamiento KV"
    },
    "content": "Almacenamiento de clave-valor compatible con Cloudflare Workers para contratos inteligentes.\n\n## Importar\n\n```typescript\nimport { kv } from 'tana/kv'\n```\n\n## Métodos\n\n### kv.get()\n\nRecuperar un valor del almacenamiento.\n\n```typescript\nkv.get(key: string, options?: KVGetOptions): Promise<string | object | null>\n```\n\n**Parámetros:**\n\n| Nombre | Tipo | Requerido | Descripción |\n|--------|------|-----------|-------------|\n| `key` | string | Sí | Clave de almacenamiento (máx. 512 bytes) |\n| `options.type` | 'text' \\| 'json' | No | Tipo de retorno (predeterminado: 'text') |\n\n**Devuelve:** `Promise<string | object | null>`\n\n- Devuelve `null` si la clave no existe\n- Devuelve una cadena cuando `type: 'text'` (predeterminado)\n- Devuelve un objeto analizado cuando `type: 'json'`\n\n**Ejemplos:**\n\n```typescript\n// Get as text (default)\nconst username = await kv.get('username')\nconsole.log(username) // \"alice\"\n\n// Get as JSON\nconst user = await kv.get('user', { type: 'json' })\nconsole.log(user) // { name: \"alice\", balance: 1000 }\n\n// Handle missing key\nconst missing = await kv.get('nonexistent')\nif (missing === null) {\n  console.log('Key not found')\n}\n```\n\n---\n\n### kv.put()\n\nAlmacenar un valor.\n\n```typescript\nkv.put(key: string, value: string | object, options?: KVPutOptions): Promise<void>\n```\n\n**Parámetros:**\n\n| Nombre | Tipo | Requerido | Descripción |\n|--------|------|-----------|-------------|\n| `key` | string | Sí | Clave de almacenamiento (máx. 512 bytes) |\n| `value` | string \\| object | Sí | Valor a almacenar (máx. 25 MB) |\n| `options` | KVPutOptions | No | Reservado para futuras características |\n\n**Devuelve:** `Promise<void>`\n\n**Serialización:**\n- Cadenas: Almacenadas tal cual\n- Objetos: Serializados automáticamente en JSON\n\n**Lanza:**\n- \"Clave KV demasiado larga\" - La clave excede 512 bytes\n- \"Valor KV demasiado grande\" - El valor excede 25 MB\n\n**Ejemplos:**\n\n```typescript\n// Store string\nawait kv.put('username', 'alice')\n\n// Store object (auto-serialized)\nawait kv.put('user', {\n  name: 'alice',\n  balance: 1000,\n  roles: ['admin', 'user']\n})\n\n// Overwrite existing key\nawait kv.put('username', 'bob') // Previous value replaced\n```\n\n---\n\n### kv.delete()\n\nEliminar una clave del almacenamiento.\n\n```typescript\nkv.delete(key: string): Promise<void>\n```\n\n**Parámetros:**\n\n| Nombre | Tipo | Requerido | Descripción |\n|--------|------|-----------|-------------|\n| `key` | string | Sí | Clave a eliminar |\n\n**Devuelve:** `Promise<void>`\n\n**Notas:**\n- No hay error si la clave no existe\n- Operación idempotente\n\n**Ejemplos:**\n\n```typescript\n// Delete existing key\nawait kv.delete('username')\n\n// Delete non-existent key (no error)\nawait kv.delete('nonexistent') // Succeeds silently\n```\n\n---\n\n### kv.list()\n\nListar claves en el almacenamiento con filtrado opcional.\n\n```typescript\nkv.list(options?: KVListOptions): Promise<KVListResult>\n```\n\n**Parámetros:**\n\n| Nombre | Tipo | Requerido | Descripción |\n|--------|------|-----------|-------------|\n| `options.prefix` | string | No | Filtrar claves por prefijo |\n| `options.limit` | number | No | Máx. claves a devolver (predeterminado: 1000) |\n\n**Devuelve:** `Promise<KVListResult>`\n\n```typescript\ninterface KVListResult {\n  keys: Array<{ name: string }>\n  list_complete: boolean\n  cursor: string | null\n}\n```\n\n**Campos de Resultado:**\n\n| Campo | Tipo | Descripción |\n|-------|------|-------------|\n| `keys` | Array<{ name: string }> | Array de claves coincidentes |\n| `list_complete` | boolean | Si todos los resultados fueron devueltos (siempre `true` actualmente) |\n| `cursor` | string \\| null | Cursor de paginación (siempre `null` actualmente, reservado para futuro) |\n\n**Ejemplos:**\n\n```typescript\n// List all keys\nconst all = await kv.list()\nconsole.log(all.keys) // [{ name: \"user\" }, { name: \"config\" }]\n\n// List with prefix\nawait kv.put('user:1', { name: 'alice' })\nawait kv.put('user:2', { name: 'bob' })\nawait kv.put('config', { theme: 'dark' })\n\nconst users = await kv.list({ prefix: 'user:' })\nconsole.log(users.keys) // [{ name: \"user:1\" }, { name: \"user:2\" }]\n\n// Limit results\nconst first10 = await kv.list({ limit: 10 })\nconsole.log(first10.keys.length) // 10 or fewer\n\n// Check if more results available\nif (!first10.list_complete) {\n  // Use cursor for next page (future feature)\n  const next = await kv.list({ cursor: first10.cursor })\n}\n```\n\n---\n\n## Definiciones de Tipo\n\n### KVGetOptions\n\n```typescript\ninterface KVGetOptions {\n  type?: 'text' | 'json' | 'arrayBuffer' | 'stream'\n}\n```\n\n**Tipos soportados:**\n- ✅ `'text'` - Devolver como cadena (predeterminado)\n- ✅ `'json'` - Analizar y devolver como objeto\n- ❌ `'arrayBuffer'` - Característica futura\n- ❌ `'stream'` - Característica futura\n\n---\n\n### KVPutOptions\n\n```typescript\ninterface KVPutOptions {\n  metadata?: Record<string, any>\n  expirationTtl?: number\n  expiration?: number\n}\n```\n\n**Reservado para futuras características:**\n- `metadata` - Metadatos personalizados para la clave\n- `expirationTtl` - TTL en segundos\n- `expiration` - Marca de tiempo de expiración absoluta\n\nActualmente, estas opciones son aceptadas pero no tienen efecto.\n\n---\n\n### KVListOptions\n\n```typescript\ninterface KVListOptions {\n  prefix?: string\n  limit?: number\n  cursor?: string\n}\n```\n\n**Campos:**\n- `prefix` - Filtrar claves que comienzan con el prefijo (predeterminado: ninguno)\n- `limit` - Máx. claves a devolver (predeterminado: 1000, máx: 1000)\n- `cursor` - Cursor de paginación (característica futura)\n\n---\n\n### KVListResult\n\n```typescript\ninterface KVListResult {\n  keys: KVListResultKey[]\n  list_complete: boolean\n  cursor: string | null\n}\n```\n\n---\n\n### KVListResultKey\n\n```typescript\ninterface KVListResultKey {\n  name: string\n  expiration?: number\n  metadata?: Record<string, any>\n}\n```\n\n**Campos:**\n- `name` - El nombre de la clave\n- `expiration` - Característica futura (siempre indefinido)\n- `metadata` - Característica futura (siempre indefinido)\n\n---\n\n## Restricciones y Límites\n\n| Restricción | Límite | Mensaje de Error |\n|-------------|--------|------------------|\n| Longitud de clave | 512 bytes | \"Clave KV demasiado larga: X bytes (máx 512)\" |\n| Tamaño de valor | 25 MB | \"Valor KV demasiado grande: X bytes (máx 25 MB)\" |\n| Claves por list() | 1000 | Limitado silenciosamente a 1000 |\n| Claves por contrato | Ilimitado | Sujeto a límites del backend de almacenamiento |\n\n---\n\n## Aislamiento de Espacio de Nombres\n\nEl almacenamiento KV está automáticamente aislado por contrato:\n\n```typescript\n// Contract A\nawait kv.put('username', 'alice')\n\n// Contract B\nawait kv.get('username') // Returns null, not \"alice\"\n```\n\nCada contrato tiene su propio espacio de nombres aislado. Las claves se prefijan internamente con el nombre del contrato para evitar conflictos.\n\n---\n\n## Compatibilidad con Cloudflare Workers\n\nLa API está diseñada para coincidir con Cloudflare Workers KV:\n\n**Características Coincidentes:**\n- ✅ Métodos `get()` / `put()` / `delete()` / `list()`\n- ✅ Opciones de tipo ('text', 'json')\n- ✅ Filtrado por prefijo\n- ✅ Parámetro de límite\n- ✅ Mismos tipos de retorno\n\n**Diferencias:**\n- ❌ No hay `getWithMetadata()` aún\n- ❌ No hay TTL/expiración aún\n- ❌ No hay cursores de paginación aún\n- ❌ No hay tipos `'arrayBuffer'` / `'stream'` aún\n\nEsto permite que los contratos escritos para Tana se adapten fácilmente para Cloudflare Workers y viceversa.\n\n---\n\n## Ejemplos\n\n### Contador\n\n```typescript\nimport { kv } from 'tana/kv'\n\nexport async function contract() {\n  const current = await kv.get('counter', { type: 'json' })\n  const count = (current?.count || 0) + 1\n\n  await kv.put('counter', { count, lastUpdated: Date.now() })\n\n  return { count }\n}\n```\n\n### Gestión de Sesiones\n\n```typescript\nimport { kv } from 'tana/kv'\nimport { context } from 'tana/context'\n\nexport async function contract() {\n  const input = context.input()\n\n  if (input.action === 'create') {\n    const session = {\n      userId: input.userId,\n      createdAt: Date.now()\n    }\n    await kv.put(`session:${input.sessionId}`, session)\n    return { success: true }\n  }\n\n  if (input.action === 'get') {\n    const session = await kv.get(`session:${input.sessionId}`, { type: 'json' })\n    return session || { error: 'Session not found' }\n  }\n\n  if (input.action === 'delete') {\n    await kv.delete(`session:${input.sessionId}`)\n    return { success: true }\n  }\n}\n```\n\n### Preferencias de Usuario\n\n```typescript\nimport { kv } from 'tana/kv'\nimport { context } from 'tana/context'\n\nexport async function get(req: Request) {\n  const caller = req.tana.caller\n  if (!caller) return { error: 'Login required' }\n\n  const prefs = await kv.get(`prefs:${caller.id}`, { type: 'json' })\n\n  return prefs || {\n    theme: 'dark',\n    notifications: true,\n    language: 'en'\n  }\n}\n\nexport async function post(req: Request) {\n  const caller = req.tana.caller\n  if (!caller) return { error: 'Login required' }\n\n  const prefs = req.body\n\n  await kv.put(`prefs:${caller.id}`, prefs)\n\n  return { success: true }\n}\n```\n\n### Caché con Prefijo\n\n```typescript\nimport { kv } from 'tana/kv'\n\nexport async function contract() {\n  // Cache multiple items\n  await kv.put('cache:api:users', [{ id: 1 }, { id: 2 }])\n  await kv.put('cache:api:posts', [{ id: 1 }])\n  await kv.put('cache:db:config', { host: 'localhost' })\n\n  // List only cache:api: items\n  const apiCache = await kv.list({ prefix: 'cache:api:' })\n  console.log(apiCache.keys)\n  // [{ name: \"cache:api:posts\" }, { name: \"cache:api:users\" }]\n\n  // Clear all api cache\n  for (const key of apiCache.keys) {\n    await kv.delete(key.name)\n  }\n\n  return { cleared: apiCache.keys.length }\n}\n```\n\n---\n\n## Ver También\n\n- [Guía de Almacenamiento KV](/guides/kv-storage) - Guía de uso con patrones\n- [Implementación de KV](/contributing/runtime/modules/kv) - Detalles técnicos\n- [Contratos Inteligentes](/guides/smart-contracts) - Guía de desarrollo de contratos\n",
    "html": "<p>Almacenamiento de clave-valor compatible con Cloudflare Workers para contratos inteligentes.</p>\n<h2>Importar</h2>\n<div class=\"code-block-placeholder\" data-index=\"0\"></div>\n<h2>Métodos</h2>\n<h3>kv.get()</h3>\n<p>Recuperar un valor del almacenamiento.</p>\n<div class=\"code-block-placeholder\" data-index=\"1\"></div>\n<p><strong>Parámetros:</strong></p>\n<p>| Nombre | Tipo | Requerido | Descripción |\n|--------|------|-----------|-------------|\n| <code>key</code> | string | Sí | Clave de almacenamiento (máx. 512 bytes) |\n| <code>options.type</code> | 'text' | 'json' | No | Tipo de retorno (predeterminado: 'text') |</p>\n<p><strong>Devuelve:</strong> <code>Promise&#x3C;string | object | null></code></p>\n<ul>\n<li>Devuelve <code>null</code> si la clave no existe</li>\n<li>Devuelve una cadena cuando <code>type: 'text'</code> (predeterminado)</li>\n<li>Devuelve un objeto analizado cuando <code>type: 'json'</code></li>\n</ul>\n<p><strong>Ejemplos:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"2\"></div>\n<hr>\n<h3>kv.put()</h3>\n<p>Almacenar un valor.</p>\n<div class=\"code-block-placeholder\" data-index=\"3\"></div>\n<p><strong>Parámetros:</strong></p>\n<p>| Nombre | Tipo | Requerido | Descripción |\n|--------|------|-----------|-------------|\n| <code>key</code> | string | Sí | Clave de almacenamiento (máx. 512 bytes) |\n| <code>value</code> | string | object | Sí | Valor a almacenar (máx. 25 MB) |\n| <code>options</code> | KVPutOptions | No | Reservado para futuras características |</p>\n<p><strong>Devuelve:</strong> <code>Promise&#x3C;void></code></p>\n<p><strong>Serialización:</strong></p>\n<ul>\n<li>Cadenas: Almacenadas tal cual</li>\n<li>Objetos: Serializados automáticamente en JSON</li>\n</ul>\n<p><strong>Lanza:</strong></p>\n<ul>\n<li>\"Clave KV demasiado larga\" - La clave excede 512 bytes</li>\n<li>\"Valor KV demasiado grande\" - El valor excede 25 MB</li>\n</ul>\n<p><strong>Ejemplos:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"4\"></div>\n<hr>\n<h3>kv.delete()</h3>\n<p>Eliminar una clave del almacenamiento.</p>\n<div class=\"code-block-placeholder\" data-index=\"5\"></div>\n<p><strong>Parámetros:</strong></p>\n<p>| Nombre | Tipo | Requerido | Descripción |\n|--------|------|-----------|-------------|\n| <code>key</code> | string | Sí | Clave a eliminar |</p>\n<p><strong>Devuelve:</strong> <code>Promise&#x3C;void></code></p>\n<p><strong>Notas:</strong></p>\n<ul>\n<li>No hay error si la clave no existe</li>\n<li>Operación idempotente</li>\n</ul>\n<p><strong>Ejemplos:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"6\"></div>\n<hr>\n<h3>kv.list()</h3>\n<p>Listar claves en el almacenamiento con filtrado opcional.</p>\n<div class=\"code-block-placeholder\" data-index=\"7\"></div>\n<p><strong>Parámetros:</strong></p>\n<p>| Nombre | Tipo | Requerido | Descripción |\n|--------|------|-----------|-------------|\n| <code>options.prefix</code> | string | No | Filtrar claves por prefijo |\n| <code>options.limit</code> | number | No | Máx. claves a devolver (predeterminado: 1000) |</p>\n<p><strong>Devuelve:</strong> <code>Promise&#x3C;KVListResult></code></p>\n<div class=\"code-block-placeholder\" data-index=\"8\"></div>\n<p><strong>Campos de Resultado:</strong></p>\n<p>| Campo | Tipo | Descripción |\n|-------|------|-------------|\n| <code>keys</code> | Array&#x3C;{ name: string }> | Array de claves coincidentes |\n| <code>list_complete</code> | boolean | Si todos los resultados fueron devueltos (siempre <code>true</code> actualmente) |\n| <code>cursor</code> | string | null | Cursor de paginación (siempre <code>null</code> actualmente, reservado para futuro) |</p>\n<p><strong>Ejemplos:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"9\"></div>\n<hr>\n<h2>Definiciones de Tipo</h2>\n<h3>KVGetOptions</h3>\n<div class=\"code-block-placeholder\" data-index=\"10\"></div>\n<p><strong>Tipos soportados:</strong></p>\n<ul>\n<li>✅ <code>'text'</code> - Devolver como cadena (predeterminado)</li>\n<li>✅ <code>'json'</code> - Analizar y devolver como objeto</li>\n<li>❌ <code>'arrayBuffer'</code> - Característica futura</li>\n<li>❌ <code>'stream'</code> - Característica futura</li>\n</ul>\n<hr>\n<h3>KVPutOptions</h3>\n<div class=\"code-block-placeholder\" data-index=\"11\"></div>\n<p><strong>Reservado para futuras características:</strong></p>\n<ul>\n<li><code>metadata</code> - Metadatos personalizados para la clave</li>\n<li><code>expirationTtl</code> - TTL en segundos</li>\n<li><code>expiration</code> - Marca de tiempo de expiración absoluta</li>\n</ul>\n<p>Actualmente, estas opciones son aceptadas pero no tienen efecto.</p>\n<hr>\n<h3>KVListOptions</h3>\n<div class=\"code-block-placeholder\" data-index=\"12\"></div>\n<p><strong>Campos:</strong></p>\n<ul>\n<li><code>prefix</code> - Filtrar claves que comienzan con el prefijo (predeterminado: ninguno)</li>\n<li><code>limit</code> - Máx. claves a devolver (predeterminado: 1000, máx: 1000)</li>\n<li><code>cursor</code> - Cursor de paginación (característica futura)</li>\n</ul>\n<hr>\n<h3>KVListResult</h3>\n<div class=\"code-block-placeholder\" data-index=\"13\"></div>\n<hr>\n<h3>KVListResultKey</h3>\n<div class=\"code-block-placeholder\" data-index=\"14\"></div>\n<p><strong>Campos:</strong></p>\n<ul>\n<li><code>name</code> - El nombre de la clave</li>\n<li><code>expiration</code> - Característica futura (siempre indefinido)</li>\n<li><code>metadata</code> - Característica futura (siempre indefinido)</li>\n</ul>\n<hr>\n<h2>Restricciones y Límites</h2>\n<p>| Restricción | Límite | Mensaje de Error |\n|-------------|--------|------------------|\n| Longitud de clave | 512 bytes | \"Clave KV demasiado larga: X bytes (máx 512)\" |\n| Tamaño de valor | 25 MB | \"Valor KV demasiado grande: X bytes (máx 25 MB)\" |\n| Claves por list() | 1000 | Limitado silenciosamente a 1000 |\n| Claves por contrato | Ilimitado | Sujeto a límites del backend de almacenamiento |</p>\n<hr>\n<h2>Aislamiento de Espacio de Nombres</h2>\n<p>El almacenamiento KV está automáticamente aislado por contrato:</p>\n<div class=\"code-block-placeholder\" data-index=\"15\"></div>\n<p>Cada contrato tiene su propio espacio de nombres aislado. Las claves se prefijan internamente con el nombre del contrato para evitar conflictos.</p>\n<hr>\n<h2>Compatibilidad con Cloudflare Workers</h2>\n<p>La API está diseñada para coincidir con Cloudflare Workers KV:</p>\n<p><strong>Características Coincidentes:</strong></p>\n<ul>\n<li>✅ Métodos <code>get()</code> / <code>put()</code> / <code>delete()</code> / <code>list()</code></li>\n<li>✅ Opciones de tipo ('text', 'json')</li>\n<li>✅ Filtrado por prefijo</li>\n<li>✅ Parámetro de límite</li>\n<li>✅ Mismos tipos de retorno</li>\n</ul>\n<p><strong>Diferencias:</strong></p>\n<ul>\n<li>❌ No hay <code>getWithMetadata()</code> aún</li>\n<li>❌ No hay TTL/expiración aún</li>\n<li>❌ No hay cursores de paginación aún</li>\n<li>❌ No hay tipos <code>'arrayBuffer'</code> / <code>'stream'</code> aún</li>\n</ul>\n<p>Esto permite que los contratos escritos para Tana se adapten fácilmente para Cloudflare Workers y viceversa.</p>\n<hr>\n<h2>Ejemplos</h2>\n<h3>Contador</h3>\n<div class=\"code-block-placeholder\" data-index=\"16\"></div>\n<h3>Gestión de Sesiones</h3>\n<div class=\"code-block-placeholder\" data-index=\"17\"></div>\n<h3>Preferencias de Usuario</h3>\n<div class=\"code-block-placeholder\" data-index=\"18\"></div>\n<h3>Caché con Prefijo</h3>\n<div class=\"code-block-placeholder\" data-index=\"19\"></div>\n<hr>\n<h2>Ver También</h2>\n<ul>\n<li><a href=\"/guides/kv-storage\">Guía de Almacenamiento KV</a> - Guía de uso con patrones</li>\n<li><a href=\"/contributing/runtime/modules/kv\">Implementación de KV</a> - Detalles técnicos</li>\n<li><a href=\"/guides/smart-contracts\">Contratos Inteligentes</a> - Guía de desarrollo de contratos</li>\n</ul>\n",
    "codeBlocks": [
      {
        "lang": "typescript",
        "code": "import { kv } from 'tana/kv'"
      },
      {
        "lang": "typescript",
        "code": "kv.get(key: string, options?: KVGetOptions): Promise<string | object | null>"
      },
      {
        "lang": "typescript",
        "code": "// Get as text (default)\nconst username = await kv.get('username')\nconsole.log(username) // \"alice\"\n\n// Get as JSON\nconst user = await kv.get('user', { type: 'json' })\nconsole.log(user) // { name: \"alice\", balance: 1000 }\n\n// Handle missing key\nconst missing = await kv.get('nonexistent')\nif (missing === null) {\n  console.log('Key not found')\n}"
      },
      {
        "lang": "typescript",
        "code": "kv.put(key: string, value: string | object, options?: KVPutOptions): Promise<void>"
      },
      {
        "lang": "typescript",
        "code": "// Store string\nawait kv.put('username', 'alice')\n\n// Store object (auto-serialized)\nawait kv.put('user', {\n  name: 'alice',\n  balance: 1000,\n  roles: ['admin', 'user']\n})\n\n// Overwrite existing key\nawait kv.put('username', 'bob') // Previous value replaced"
      },
      {
        "lang": "typescript",
        "code": "kv.delete(key: string): Promise<void>"
      },
      {
        "lang": "typescript",
        "code": "// Delete existing key\nawait kv.delete('username')\n\n// Delete non-existent key (no error)\nawait kv.delete('nonexistent') // Succeeds silently"
      },
      {
        "lang": "typescript",
        "code": "kv.list(options?: KVListOptions): Promise<KVListResult>"
      },
      {
        "lang": "typescript",
        "code": "interface KVListResult {\n  keys: Array<{ name: string }>\n  list_complete: boolean\n  cursor: string | null\n}"
      },
      {
        "lang": "typescript",
        "code": "// List all keys\nconst all = await kv.list()\nconsole.log(all.keys) // [{ name: \"user\" }, { name: \"config\" }]\n\n// List with prefix\nawait kv.put('user:1', { name: 'alice' })\nawait kv.put('user:2', { name: 'bob' })\nawait kv.put('config', { theme: 'dark' })\n\nconst users = await kv.list({ prefix: 'user:' })\nconsole.log(users.keys) // [{ name: \"user:1\" }, { name: \"user:2\" }]\n\n// Limit results\nconst first10 = await kv.list({ limit: 10 })\nconsole.log(first10.keys.length) // 10 or fewer\n\n// Check if more results available\nif (!first10.list_complete) {\n  // Use cursor for next page (future feature)\n  const next = await kv.list({ cursor: first10.cursor })\n}"
      },
      {
        "lang": "typescript",
        "code": "interface KVGetOptions {\n  type?: 'text' | 'json' | 'arrayBuffer' | 'stream'\n}"
      },
      {
        "lang": "typescript",
        "code": "interface KVPutOptions {\n  metadata?: Record<string, any>\n  expirationTtl?: number\n  expiration?: number\n}"
      },
      {
        "lang": "typescript",
        "code": "interface KVListOptions {\n  prefix?: string\n  limit?: number\n  cursor?: string\n}"
      },
      {
        "lang": "typescript",
        "code": "interface KVListResult {\n  keys: KVListResultKey[]\n  list_complete: boolean\n  cursor: string | null\n}"
      },
      {
        "lang": "typescript",
        "code": "interface KVListResultKey {\n  name: string\n  expiration?: number\n  metadata?: Record<string, any>\n}"
      },
      {
        "lang": "typescript",
        "code": "// Contract A\nawait kv.put('username', 'alice')\n\n// Contract B\nawait kv.get('username') // Returns null, not \"alice\""
      },
      {
        "lang": "typescript",
        "code": "import { kv } from 'tana/kv'\n\nexport async function contract() {\n  const current = await kv.get('counter', { type: 'json' })\n  const count = (current?.count || 0) + 1\n\n  await kv.put('counter', { count, lastUpdated: Date.now() })\n\n  return { count }\n}"
      },
      {
        "lang": "typescript",
        "code": "import { kv } from 'tana/kv'\nimport { context } from 'tana/context'\n\nexport async function contract() {\n  const input = context.input()\n\n  if (input.action === 'create') {\n    const session = {\n      userId: input.userId,\n      createdAt: Date.now()\n    }\n    await kv.put(`session:${input.sessionId}`, session)\n    return { success: true }\n  }\n\n  if (input.action === 'get') {\n    const session = await kv.get(`session:${input.sessionId}`, { type: 'json' })\n    return session || { error: 'Session not found' }\n  }\n\n  if (input.action === 'delete') {\n    await kv.delete(`session:${input.sessionId}`)\n    return { success: true }\n  }\n}"
      },
      {
        "lang": "typescript",
        "code": "import { kv } from 'tana/kv'\nimport { context } from 'tana/context'\n\nexport async function get(req: Request) {\n  const caller = req.tana.caller\n  if (!caller) return { error: 'Login required' }\n\n  const prefs = await kv.get(`prefs:${caller.id}`, { type: 'json' })\n\n  return prefs || {\n    theme: 'dark',\n    notifications: true,\n    language: 'en'\n  }\n}\n\nexport async function post(req: Request) {\n  const caller = req.tana.caller\n  if (!caller) return { error: 'Login required' }\n\n  const prefs = req.body\n\n  await kv.put(`prefs:${caller.id}`, prefs)\n\n  return { success: true }\n}"
      },
      {
        "lang": "typescript",
        "code": "import { kv } from 'tana/kv'\n\nexport async function contract() {\n  // Cache multiple items\n  await kv.put('cache:api:users', [{ id: 1 }, { id: 2 }])\n  await kv.put('cache:api:posts', [{ id: 1 }])\n  await kv.put('cache:db:config', { host: 'localhost' })\n\n  // List only cache:api: items\n  const apiCache = await kv.list({ prefix: 'cache:api:' })\n  console.log(apiCache.keys)\n  // [{ name: \"cache:api:posts\" }, { name: \"cache:api:users\" }]\n\n  // Clear all api cache\n  for (const key of apiCache.keys) {\n    await kv.delete(key.name)\n  }\n\n  return { cleared: apiCache.keys.length }\n}"
      }
    ]
  }
]