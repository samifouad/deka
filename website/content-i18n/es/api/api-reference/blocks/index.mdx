---
title: /blocks
description: Consultar bloques de blockchain
---
Consulta bloques en la blockchain de Tana. Los bloques se producen cada 6 segundos y contienen transacciones confirmadas.

<details>
 <summary><code className="text-blue-400">GET</code> <code><b>/blocks</b></code> <code>(listar bloques)</code></summary>

### Solicitud

```bash
curl "http://localhost:8080/blocks?limit=10&offset=0"
```

### Parámetros

<table>
 <tr>
    <td>_parámetro_</td>
    <td>_tipo_</td>
    <td>_necesidad_</td>
  </tr>
 <tr>
    <td>**limit**</td>
    <td>número</td>
    <td>opcional (por defecto: 10)</td>
  </tr>
 <tr>
    <td>**offset**</td>
    <td>número</td>
    <td>opcional (por defecto: 0)</td>
  </tr>
</table>

### Respuesta

<table>
 <tr>
    <td>código http</td>
    <td>tipo de contenido</td>
    <td>cuerpo</td>
  </tr>
  <tr>
    <td>200</td>
    <td>application/json</td>
<td>

```json
[
  {
    "id": "blk_xyz789",
    "height": 42,
    "hash": "0x1a2b3c...",
    "previousHash": "0x9z8y7x...",
    "stateRoot": "0x4d5e6f...",
    "timestamp": "2024-11-08T12:00:06.000Z",
    "transactionCount": 5,
    "producerId": "usr_leader1"
  },
  {
    "id": "blk_abc123",
    "height": 41,
    "hash": "0x9z8y7x...",
    "previousHash": "0x6g5h4i...",
    "stateRoot": "0x7j8k9l...",
    "timestamp": "2024-11-08T12:00:00.000Z",
    "transactionCount": 3,
    "producerId": "usr_leader1"
  }
]
```

</td>
  </tr>
</table>

### Nivel de Acceso

- [x] Público
- [ ] Comunidad
- [ ] Equipo
- [ ] Propio
- [ ] Admin

### Ejemplo

**Solicitud:**

```bash
curl "http://localhost:8080/blocks?limit=2"
```

**Respuesta:**

```json
[
  {
    "id": "blk_xyz789",
    "height": 42,
    "hash": "0x1a2b3c4d5e6f...",
    "previousHash": "0x9z8y7x6w5v...",
    "stateRoot": "0x4d5e6f7g8h...",
    "timestamp": "2024-11-08T12:00:06.000Z",
    "transactionCount": 5,
    "producerId": "usr_leader1"
  },
  {
    "id": "blk_abc123",
    "height": 41,
    "hash": "0x9z8y7x6w5v...",
    "previousHash": "0x6g5h4i3j2k...",
    "stateRoot": "0x7j8k9l0m1n...",
    "timestamp": "2024-11-08T12:00:00.000Z",
    "transactionCount": 3,
    "producerId": "usr_leader1"
  }
]
```

</details>

<details>
 <summary><code className="text-blue-400">GET</code> <code><b>/blocks/latest</b></code> <code>(obtener el último bloque)</code></summary>

### Solicitud

```bash
curl http://localhost:8080/blocks/latest
```

### Parámetros

Ninguno

### Respuesta

<table>
 <tr>
    <td>código http</td>
    <td>tipo de contenido</td>
    <td>cuerpo</td>
  </tr>
  <tr>
    <td>200</td>
    <td>application/json</td>
<td>

```json
{
  "id": "blk_xyz789",
  "height": 42,
  "hash": "0x1a2b3c...",
  "previousHash": "0x9z8y7x...",
  "stateRoot": "0x4d5e6f...",
  "timestamp": "2024-11-08T12:00:06.000Z",
  "transactionCount": 5,
  "producerId": "usr_leader1",
  "transactions": [
    {
      "id": "tx_1a2b3c4d5e6f",
      "type": "transfer",
      "from": "usr_abc123",
      "to": "usr_def456"
    }
  ]
}
```

</td>
  </tr>
  <tr>
    <td>404</td>
    <td>application/json</td>
<td>

```json
{
  "error": "No blocks found"
}
```

</td>
  </tr>
</table>

### Nivel de Acceso

- [x] Público
- [ ] Comunidad
- [ ] Equipo
- [ ] Propio
- [ ] Admin

</details>

<details>
 <summary><code className="text-blue-400">GET</code> <code><b>/blocks/:height</b></code> <code>(obtener bloque por altura)</code></summary>

### Solicitud

```bash
curl http://localhost:8080/blocks/42
```

### Parámetros

<table>
 <tr>
    <td>_parámetro_</td>
    <td>_tipo_</td>
    <td>_necesidad_</td>
  </tr>
 <tr>
    <td>**height**</td>
    <td>número</td>
    <td>requerido (parámetro de URL)</td>
  </tr>
</table>

### Respuesta

<table>
 <tr>
    <td>código http</td>
    <td>tipo de contenido</td>
    <td>cuerpo</td>
  </tr>
  <tr>
    <td>200</td>
    <td>application/json</td>
<td>

```json
{
  "id": "blk_xyz789",
  "height": 42,
  "hash": "0x1a2b3c...",
  "previousHash": "0x9z8y7x...",
  "stateRoot": "0x4d5e6f...",
  "timestamp": "2024-11-08T12:00:06.000Z",
  "transactionCount": 5,
  "producerId": "usr_leader1",
  "transactions": [
    {
      "id": "tx_1a2b3c4d5e6f",
      "type": "transfer",
      "from": "usr_abc123",
      "to": "usr_def456"
    }
  ]
}
```

</td>
  </tr>
  <tr>
    <td>400</td>
    <td>application/json</td>
<td>

```json
{
  "error": "Invalid block height"
}
```

</td>
  </tr>
  <tr>
    <td>404</td>
    <td>application/json</td>
<td>

```json
{
  "error": "Block not found"
}
```

</td>
  </tr>
</table>

### Nivel de Acceso

- [x] Público
- [ ] Comunidad
- [ ] Equipo
- [ ] Propio
- [ ] Admin

</details>

<details>
 <summary><code className="text-blue-400">GET</code> <code><b>/blocks/hash/:hash</b></code> <code>(obtener bloque por hash)</code></summary>

### Solicitud

```bash
curl http://localhost:8080/blocks/hash/0x1a2b3c4d5e6f...
```

### Parámetros

<table>
 <tr>
    <td>_parámetro_</td>
    <td>_tipo_</td>
    <td>_necesidad_</td>
  </tr>
 <tr>
    <td>**hash**</td>
    <td>cadena (hex)</td>
    <td>requerido (parámetro de URL)</td>
  </tr>
</table>

### Respuesta

<table>
 <tr>
    <td>código http</td>
    <td>tipo de contenido</td>
    <td>cuerpo</td>
  </tr>
  <tr>
    <td>200</td>
    <td>application/json</td>
<td>

```json
{
  "id": "blk_xyz789",
  "height": 42,
  "hash": "0x1a2b3c4d5e6f...",
  "previousHash": "0x9z8y7x...",
  "stateRoot": "0x4d5e6f...",
  "timestamp": "2024-11-08T12:00:06.000Z",
  "transactionCount": 5,
  "producerId": "usr_leader1",
  "transactions": [
    {
      "id": "tx_1a2b3c4d5e6f",
      "type": "transfer",
      "from": "usr_abc123",
      "to": "usr_def456"
    }
  ]
}
```

</td>
  </tr>
  <tr>
    <td>404</td>
    <td>application/json</td>
<td>

```json
{
  "error": "Block not found"
}
```

</td>
  </tr>
</table>

### Nivel de Acceso

- [x] Público
- [ ] Comunidad
- [ ] Equipo
- [ ] Propio
- [ ] Admin

</details>

### Referencia Rápida

**Listar todos los bloques:**

```bash
curl "http://localhost:8080/blocks?limit=10"
```

```json
[
  {
    "id": "blk_xyz789",
    "height": 42,
    "hash": "0x1a2b3c...",
    "timestamp": "2024-11-08T12:00:06.000Z",
    "transactionCount": 5
  }
]
```

**Obtener el último bloque:**

```bash
curl "http://localhost:8080/blocks/latest"
```

```json
{
  "id": "blk_xyz789",
  "height": 42,
  "hash": "0x1a2b3c...",
  "transactionCount": 5,
  "transactions": [...]
}
```

**Obtener bloque por altura:**

```bash
curl "http://localhost:8080/blocks/42"
```

**Obtener bloque por hash:**

```bash
curl "http://localhost:8080/blocks/hash/0x1a2b3c..."
```

### Método No Permitido

Los siguientes métodos no son compatibles:

<code className="text-green-400">POST</code> <code className="text-orange-400">PUT</code> <code className="text-red-400">DELETE</code> <code className="text-purple-400">PATCH</code>
