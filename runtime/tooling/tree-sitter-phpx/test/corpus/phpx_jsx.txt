=========================
PHPX JSX
:language(phpx_only)
=========================

function App($user) {
  return <div class="card">
    <h1>{$user->name}</h1>
    {$user->admin ? <span>Admin</span> : null}
  </div>;
}

---

(program
  (function_definition
    (name)
    (formal_parameters
      (simple_parameter
        (variable_name
          (name))))
    (compound_statement
      (return_statement
        (jsx_element
          (jsx_opening_element
            (jsx_element_name
              (jsx_identifier))
            (jsx_attribute
              (jsx_attribute_name
                (jsx_identifier))
              (jsx_attribute_value
                (encapsed_string
                  (string_content)))))
          (jsx_child
            (jsx_text))
          (jsx_child
            (jsx_element
              (jsx_opening_element
                (jsx_element_name
                  (jsx_identifier)))
              (jsx_child
                (jsx_expression
                  (member_access_expression
                    (variable_name
                      (name))
                    (name))))
              (jsx_closing_element
                (jsx_element_name
                  (jsx_identifier)))))
          (jsx_child
            (jsx_text))
          (jsx_child
            (jsx_expression
              (conditional_expression
                (member_access_expression
                  (variable_name
                    (name))
                  (name))
                (jsx_element
                  (jsx_opening_element
                    (jsx_element_name
                      (jsx_identifier)))
                  (jsx_child
                    (jsx_text))
                  (jsx_closing_element
                    (jsx_element_name
                      (jsx_identifier))))
                (null))))
          (jsx_child
            (jsx_text))
          (jsx_closing_element
            (jsx_element_name
              (jsx_identifier))))))))

=========================
PHPX JSX Object Literals
:language(phpx_only)
=========================

function Card() {
  return <div style={{ nested: { value: 1 }, theme: "dark" }} />;
}

---

(program
  (function_definition
    (name)
    (formal_parameters)
    (compound_statement
      (return_statement
        (jsx_self_closing_element
          (jsx_element_name
            (jsx_identifier))
          (jsx_attribute
            (jsx_attribute_name
              (jsx_identifier))
            (jsx_attribute_value
              (jsx_expression
                (object_literal
                  (object_literal_item
                    (name)
                    (object_literal
                      (object_literal_item
                        (name)
                        (integer))))
                  (object_literal_item
                    (name)
                    (encapsed_string
                      (string_content))))))))))))

=========================
PHPX JSX Multiline Expressions
:language(phpx_only)
=========================

function Message($user) {
  return <div>
    {$user->admin
      ? <span>Admin</span>
      : <span>User</span>
    }
  </div>;
}

---

(program
  (function_definition
    (name)
    (formal_parameters
      (simple_parameter
        (variable_name
          (name))))
    (compound_statement
      (return_statement
        (jsx_element
          (jsx_opening_element
            (jsx_element_name
              (jsx_identifier)))
          (jsx_child
            (jsx_text))
          (jsx_child
            (jsx_expression
              (conditional_expression
                (member_access_expression
                  (variable_name
                    (name))
                  (name))
                (jsx_element
                  (jsx_opening_element
                    (jsx_element_name
                      (jsx_identifier)))
                  (jsx_child
                    (jsx_text))
                  (jsx_closing_element
                    (jsx_element_name
                      (jsx_identifier))))
                (jsx_element
                  (jsx_opening_element
                    (jsx_element_name
                      (jsx_identifier)))
                  (jsx_child
                    (jsx_text))
                  (jsx_closing_element
                    (jsx_element_name
                      (jsx_identifier)))))))
          (jsx_child
            (jsx_text))
          (jsx_closing_element
            (jsx_element_name
              (jsx_identifier))))))))

=========================
PHPX JSX If/Foreach Blocks
:language(phpx_only)
=========================

function ListItems($items, $isAdmin) {
  return <ul>
    {if ($isAdmin) { <li>Admin</li>; }}
    {foreach ($items as $item) { <li>{$item}</li>; }}
  </ul>;
}

---

(program
  (function_definition
    (name)
    (formal_parameters
      (simple_parameter
        (variable_name
          (name)))
      (simple_parameter
        (variable_name
          (name))))
    (compound_statement
      (return_statement
        (jsx_element
          (jsx_opening_element
            (jsx_element_name
              (jsx_identifier)))
          (jsx_child
            (jsx_text))
          (jsx_child
            (jsx_expression
              (if_statement
                (parenthesized_expression
                  (variable_name
                    (name)))
                (compound_statement
                  (expression_statement
                    (jsx_element
                      (jsx_opening_element
                        (jsx_element_name
                          (jsx_identifier)))
                      (jsx_child
                        (jsx_text))
                      (jsx_closing_element
                        (jsx_element_name
                          (jsx_identifier)))))))))
          (jsx_child
            (jsx_text))
          (jsx_child
            (jsx_expression
              (foreach_statement
                (variable_name
                  (name))
                (variable_name
                  (name))
                (compound_statement
                  (expression_statement
                    (jsx_element
                      (jsx_opening_element
                        (jsx_element_name
                          (jsx_identifier)))
                      (jsx_child
                        (jsx_expression
                          (variable_name
                            (name))))
                      (jsx_closing_element
                        (jsx_element_name
                          (jsx_identifier)))))))))
          (jsx_child
            (jsx_text))
          (jsx_closing_element
            (jsx_element_name
              (jsx_identifier))))))))
