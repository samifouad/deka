/*
TEST: Island directive metadata rendering
Covers: component islands emit data-client/data-media markers for load/idle/visible/media/only directives.
*/

import { renderToString } from 'component/dom'

function Island($props) {
    return <section>{$props.label}</section>
}

$load = renderToString(<Island label="L" clientLoad={true} />)
$idle = renderToString(<Island label="I" clientIdle={true} />)
$visible = renderToString(<Island label="V" clientVisible={true} />)
$media = renderToString(<Island label="M" clientMedia="(min-width: 640px)" />)
$only = renderToString(<Island label="O" clientOnly={true} />)

echo (strpos($load, 'data-client="load"') !== false ? 'true' : 'false') . "\n"
echo (strpos($idle, 'data-client="idle"') !== false ? 'true' : 'false') . "\n"
echo (strpos($visible, 'data-client="visible"') !== false ? 'true' : 'false') . "\n"
echo (strpos($media, 'data-client="media"') !== false ? 'true' : 'false') . "\n"
echo (strpos($media, 'data-media="(min-width: 640px)"') !== false ? 'true' : 'false') . "\n"
echo (strpos($only, 'data-client="load"') !== false ? 'true' : 'false') . "\n"
echo (strpos($only, '<section>') !== false ? 'true' : 'false') . "\n"
