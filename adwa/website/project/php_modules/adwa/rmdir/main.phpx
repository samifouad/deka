import { cmd_args, cmd_resolve_path, fs_call, fs_error } from '../lib.phpx'
import { option_is_some, option_unwrap } from 'core/option'
import { stdout } from 'io'

$args = cmd_args()
if (count($args) < 1) {
    stdout("rmdir: path required\n")
    return
}
$path = cmd_resolve_path($args[0])
$raw = fs_call('rm', { path: $path, options: { recursive: false } })
$err = fs_error($raw)
if (option_is_some($err)) {
    stdout('rmdir: ' . option_unwrap($err) . "\n")
}
