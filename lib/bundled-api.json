[
  {
    "slug": [
      "blocks",
      "index"
    ],
    "metadata": {
      "title": "/blocks",
      "description": "Query blockchain blocks"
    },
    "content": "\nQuery blocks on the Tana blockchain. Blocks are produced every 6 seconds and contain confirmed transactions.\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/blocks</b></code> <code>(list blocks)</code></summary>\n\n### Request\n\n```bash\ncurl \"http://localhost:8080/blocks?limit=10&offset=0\"\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>number</td>\n    <td>optional (default: 10)</td>\n  </tr>\n <tr>\n    <td>**offset**</td>\n    <td>number</td>\n    <td>optional (default: 0)</td>\n  </tr>\n</table>\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n[\n  {\n    \"id\": \"blk_xyz789\",\n    \"height\": 42,\n    \"hash\": \"0x1a2b3c...\",\n    \"previousHash\": \"0x9z8y7x...\",\n    \"stateRoot\": \"0x4d5e6f...\",\n    \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n    \"transactionCount\": 5,\n    \"producerId\": \"usr_leader1\"\n  },\n  {\n    \"id\": \"blk_abc123\",\n    \"height\": 41,\n    \"hash\": \"0x9z8y7x...\",\n    \"previousHash\": \"0x6g5h4i...\",\n    \"stateRoot\": \"0x7j8k9l...\",\n    \"timestamp\": \"2024-11-08T12:00:00.000Z\",\n    \"transactionCount\": 3,\n    \"producerId\": \"usr_leader1\"\n  }\n]\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [x] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [ ] Admin\n\n### Example\n\n**Request:**\n\n```bash\ncurl \"http://localhost:8080/blocks?limit=2\"\n```\n\n**Response:**\n\n```json\n[\n  {\n    \"id\": \"blk_xyz789\",\n    \"height\": 42,\n    \"hash\": \"0x1a2b3c4d5e6f...\",\n    \"previousHash\": \"0x9z8y7x6w5v...\",\n    \"stateRoot\": \"0x4d5e6f7g8h...\",\n    \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n    \"transactionCount\": 5,\n    \"producerId\": \"usr_leader1\"\n  },\n  {\n    \"id\": \"blk_abc123\",\n    \"height\": 41,\n    \"hash\": \"0x9z8y7x6w5v...\",\n    \"previousHash\": \"0x6g5h4i3j2k...\",\n    \"stateRoot\": \"0x7j8k9l0m1n...\",\n    \"timestamp\": \"2024-11-08T12:00:00.000Z\",\n    \"transactionCount\": 3,\n    \"producerId\": \"usr_leader1\"\n  }\n]\n```\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/blocks/latest</b></code> <code>(get latest block)</code></summary>\n\n### Request\n\n```bash\ncurl http://localhost:8080/blocks/latest\n```\n\n### Parameters\n\nNone\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"blk_xyz789\",\n  \"height\": 42,\n  \"hash\": \"0x1a2b3c...\",\n  \"previousHash\": \"0x9z8y7x...\",\n  \"stateRoot\": \"0x4d5e6f...\",\n  \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n  \"transactionCount\": 5,\n  \"producerId\": \"usr_leader1\",\n  \"transactions\": [\n    {\n      \"id\": \"tx_1a2b3c4d5e6f\",\n      \"type\": \"transfer\",\n      \"from\": \"usr_abc123\",\n      \"to\": \"usr_def456\"\n    }\n  ]\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"No blocks found\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [x] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/blocks/:height</b></code> <code>(get block by height)</code></summary>\n\n### Request\n\n```bash\ncurl http://localhost:8080/blocks/42\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**height**</td>\n    <td>number</td>\n    <td>required (URL param)</td>\n  </tr>\n</table>\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"blk_xyz789\",\n  \"height\": 42,\n  \"hash\": \"0x1a2b3c...\",\n  \"previousHash\": \"0x9z8y7x...\",\n  \"stateRoot\": \"0x4d5e6f...\",\n  \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n  \"transactionCount\": 5,\n  \"producerId\": \"usr_leader1\",\n  \"transactions\": [\n    {\n      \"id\": \"tx_1a2b3c4d5e6f\",\n      \"type\": \"transfer\",\n      \"from\": \"usr_abc123\",\n      \"to\": \"usr_def456\"\n    }\n  ]\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Invalid block height\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Block not found\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [x] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/blocks/hash/:hash</b></code> <code>(get block by hash)</code></summary>\n\n### Request\n\n```bash\ncurl http://localhost:8080/blocks/hash/0x1a2b3c4d5e6f...\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**hash**</td>\n    <td>string (hex)</td>\n    <td>required (URL param)</td>\n  </tr>\n</table>\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"blk_xyz789\",\n  \"height\": 42,\n  \"hash\": \"0x1a2b3c4d5e6f...\",\n  \"previousHash\": \"0x9z8y7x...\",\n  \"stateRoot\": \"0x4d5e6f...\",\n  \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n  \"transactionCount\": 5,\n  \"producerId\": \"usr_leader1\",\n  \"transactions\": [\n    {\n      \"id\": \"tx_1a2b3c4d5e6f\",\n      \"type\": \"transfer\",\n      \"from\": \"usr_abc123\",\n      \"to\": \"usr_def456\"\n    }\n  ]\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Block not found\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [x] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [ ] Admin\n\n</details>\n\n### Quick Reference\n\n**List all blocks:**\n\n```bash\ncurl \"http://localhost:8080/blocks?limit=10\"\n```\n\n```json\n[\n  {\n    \"id\": \"blk_xyz789\",\n    \"height\": 42,\n    \"hash\": \"0x1a2b3c...\",\n    \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n    \"transactionCount\": 5\n  }\n]\n```\n\n**Get latest block:**\n\n```bash\ncurl \"http://localhost:8080/blocks/latest\"\n```\n\n```json\n{\n  \"id\": \"blk_xyz789\",\n  \"height\": 42,\n  \"hash\": \"0x1a2b3c...\",\n  \"transactionCount\": 5,\n  \"transactions\": [...]\n}\n```\n\n**Get block by height:**\n\n```bash\ncurl \"http://localhost:8080/blocks/42\"\n```\n\n**Get block by hash:**\n\n```bash\ncurl \"http://localhost:8080/blocks/hash/0x1a2b3c...\"\n```\n\n### Method Not Allowed\n\nThe following methods are not supported:\n\n<code className=\"text-green-400\">POST</code> <code className=\"text-orange-400\">PUT</code> <code className=\"text-red-400\">DELETE</code> <code className=\"text-purple-400\">PATCH</code>\n",
    "html": "<p>Query blocks on the Tana blockchain. Blocks are produced every 6 seconds and contain confirmed transactions.</p>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/blocks</b></code> <code>(list blocks)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"0\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>number</td>\n    <td>optional (default: 10)</td>\n  </tr>\n <tr>\n    <td>**offset**</td>\n    <td>number</td>\n    <td>optional (default: 0)</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"1\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[x] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[ ] Admin</li>\n</ul>\n<h3>Example</h3>\n<p><strong>Request:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"2\"></div>\n<p><strong>Response:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"3\"></div>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/blocks/latest</b></code> <code>(get latest block)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"4\"></div>\n<h3>Parameters</h3>\n<p>None</p>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"5\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"6\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[x] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/blocks/:height</b></code> <code>(get block by height)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"7\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**height**</td>\n    <td>number</td>\n    <td>required (URL param)</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"8\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"9\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"10\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[x] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/blocks/hash/:hash</b></code> <code>(get block by hash)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"11\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**hash**</td>\n    <td>string (hex)</td>\n    <td>required (URL param)</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"12\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"13\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[x] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<h3>Quick Reference</h3>\n<p><strong>List all blocks:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"14\"></div>\n<div class=\"code-block-placeholder\" data-index=\"15\"></div>\n<p><strong>Get latest block:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"16\"></div>\n<div class=\"code-block-placeholder\" data-index=\"17\"></div>\n<p><strong>Get block by height:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"18\"></div>\n<p><strong>Get block by hash:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"19\"></div>\n<h3>Method Not Allowed</h3>\n<p>The following methods are not supported:</p>\n<p><code className=\"text-green-400\">POST</code> <code className=\"text-orange-400\">PUT</code> <code className=\"text-red-400\">DELETE</code> <code className=\"text-purple-400\">PATCH</code></p>\n",
    "codeBlocks": [
      {
        "lang": "bash",
        "code": "curl \"http://localhost:8080/blocks?limit=10&offset=0\""
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"id\": \"blk_xyz789\",\n    \"height\": 42,\n    \"hash\": \"0x1a2b3c...\",\n    \"previousHash\": \"0x9z8y7x...\",\n    \"stateRoot\": \"0x4d5e6f...\",\n    \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n    \"transactionCount\": 5,\n    \"producerId\": \"usr_leader1\"\n  },\n  {\n    \"id\": \"blk_abc123\",\n    \"height\": 41,\n    \"hash\": \"0x9z8y7x...\",\n    \"previousHash\": \"0x6g5h4i...\",\n    \"stateRoot\": \"0x7j8k9l...\",\n    \"timestamp\": \"2024-11-08T12:00:00.000Z\",\n    \"transactionCount\": 3,\n    \"producerId\": \"usr_leader1\"\n  }\n]"
      },
      {
        "lang": "bash",
        "code": "curl \"http://localhost:8080/blocks?limit=2\""
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"id\": \"blk_xyz789\",\n    \"height\": 42,\n    \"hash\": \"0x1a2b3c4d5e6f...\",\n    \"previousHash\": \"0x9z8y7x6w5v...\",\n    \"stateRoot\": \"0x4d5e6f7g8h...\",\n    \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n    \"transactionCount\": 5,\n    \"producerId\": \"usr_leader1\"\n  },\n  {\n    \"id\": \"blk_abc123\",\n    \"height\": 41,\n    \"hash\": \"0x9z8y7x6w5v...\",\n    \"previousHash\": \"0x6g5h4i3j2k...\",\n    \"stateRoot\": \"0x7j8k9l0m1n...\",\n    \"timestamp\": \"2024-11-08T12:00:00.000Z\",\n    \"transactionCount\": 3,\n    \"producerId\": \"usr_leader1\"\n  }\n]"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/blocks/latest"
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"blk_xyz789\",\n  \"height\": 42,\n  \"hash\": \"0x1a2b3c...\",\n  \"previousHash\": \"0x9z8y7x...\",\n  \"stateRoot\": \"0x4d5e6f...\",\n  \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n  \"transactionCount\": 5,\n  \"producerId\": \"usr_leader1\",\n  \"transactions\": [\n    {\n      \"id\": \"tx_1a2b3c4d5e6f\",\n      \"type\": \"transfer\",\n      \"from\": \"usr_abc123\",\n      \"to\": \"usr_def456\"\n    }\n  ]\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"No blocks found\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/blocks/42"
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"blk_xyz789\",\n  \"height\": 42,\n  \"hash\": \"0x1a2b3c...\",\n  \"previousHash\": \"0x9z8y7x...\",\n  \"stateRoot\": \"0x4d5e6f...\",\n  \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n  \"transactionCount\": 5,\n  \"producerId\": \"usr_leader1\",\n  \"transactions\": [\n    {\n      \"id\": \"tx_1a2b3c4d5e6f\",\n      \"type\": \"transfer\",\n      \"from\": \"usr_abc123\",\n      \"to\": \"usr_def456\"\n    }\n  ]\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Invalid block height\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Block not found\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/blocks/hash/0x1a2b3c4d5e6f..."
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"blk_xyz789\",\n  \"height\": 42,\n  \"hash\": \"0x1a2b3c4d5e6f...\",\n  \"previousHash\": \"0x9z8y7x...\",\n  \"stateRoot\": \"0x4d5e6f...\",\n  \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n  \"transactionCount\": 5,\n  \"producerId\": \"usr_leader1\",\n  \"transactions\": [\n    {\n      \"id\": \"tx_1a2b3c4d5e6f\",\n      \"type\": \"transfer\",\n      \"from\": \"usr_abc123\",\n      \"to\": \"usr_def456\"\n    }\n  ]\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Block not found\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl \"http://localhost:8080/blocks?limit=10\""
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"id\": \"blk_xyz789\",\n    \"height\": 42,\n    \"hash\": \"0x1a2b3c...\",\n    \"timestamp\": \"2024-11-08T12:00:06.000Z\",\n    \"transactionCount\": 5\n  }\n]"
      },
      {
        "lang": "bash",
        "code": "curl \"http://localhost:8080/blocks/latest\""
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"blk_xyz789\",\n  \"height\": 42,\n  \"hash\": \"0x1a2b3c...\",\n  \"transactionCount\": 5,\n  \"transactions\": [...]\n}"
      },
      {
        "lang": "bash",
        "code": "curl \"http://localhost:8080/blocks/42\""
      },
      {
        "lang": "bash",
        "code": "curl \"http://localhost:8080/blocks/hash/0x1a2b3c...\""
      }
    ]
  },
  {
    "slug": [
      "identity",
      "index"
    ],
    "metadata": {
      "title": "/auth (Identity Service)",
      "description": "Mobile-first authentication and session management API"
    },
    "content": "\nThe Identity Service provides secure authentication for Tana applications using mobile-first QR code authentication (similar to WhatsApp Web). Private keys remain exclusively on mobile devices, while desktop/laptop computers receive session tokens only.\n\n**Base URL:** `http://localhost:8090` (development) or `https://auth.tana.network` (production)\n\n**Key Concepts:**\n- **Session-based authentication** - No private keys on desktop/laptop\n- **QR code login** - Mobile app scans QR from website\n- **Server-Sent Events (SSE)** - Real-time session status updates\n- **Ed25519 signatures** - Cryptographic proof of ownership\n- **Hardware security** - Private keys protected by mobile device secure enclave\n\n---\n\n## Authentication Flow\n\n```\n1. Website → POST /auth/session/create\n   Returns: sessionId, challenge, QR data\n\n2. Website → GET /auth/session/:id/events (SSE)\n   Streams: Real-time session status updates\n\n3. Mobile App → GET /auth/session/:id\n   Returns: Session details, marks as \"scanned\"\n\n4. User approves on mobile\n\n5. Mobile App → POST /auth/session/:id/approve\n   Body: Signed challenge with Ed25519\n\n6. SSE → \"approved\" event to website\n   Includes: sessionToken for authenticated requests\n\n7. Website uses sessionToken for subsequent API calls\n```\n\n---\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/auth/session/create</b></code> <code>(create QR login session)</code></summary>\n\n### Request\n\n```bash\ncurl -X POST http://localhost:8090/auth/session/create \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"returnUrl\": \"http://localhost:3000/dashboard\",\n    \"appName\": \"My Tana App\",\n    \"appIcon\": \"https://example.com/icon.png\"\n  }'\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**returnUrl**</td>\n    <td>string (URL)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**appName**</td>\n    <td>string</td>\n    <td>optional</td>\n  </tr>\n <tr>\n    <td>**appIcon**</td>\n    <td>string (URL)</td>\n    <td>optional</td>\n  </tr>\n</table>\n\n### Response\n\n```json\n{\n  \"sessionId\": \"sess_3ogy2lnxi0fl4rlz\",\n  \"challenge\": \"auth_chal_b92f3aed...\",\n  \"expiresAt\": 1762915859863,\n  \"expiresIn\": 300,\n  \"qrData\": \"{\\\"sessionId\\\":\\\"sess_...\\\",\\\"challenge\\\":\\\"auth_chal_...\\\",\\\"service\\\":\\\"tana-identity\\\"}\"\n}\n```\n\n**Status:** `201 Created`\n\n**Use Case:** Website initiates login flow by creating a session and displaying QR code\n\n</details>\n\n---\n\n<details>\n <summary><code className=\"text-cyan-400\">GET</code> <code><b>/auth/session/:id/events</b></code> <code>(SSE stream for real-time updates)</code></summary>\n\n### Request\n\n```bash\ncurl -N http://localhost:8090/auth/session/sess_abc123/events\n```\n\n### Server-Sent Events\n\n**Connection event:**\n```json\nevent: connected\ndata: {\"type\":\"connected\",\"sessionId\":\"sess_abc123\"}\n```\n\n**Status update event:**\n```json\nevent: status\ndata: {\"type\":\"status\",\"status\":\"waiting\",\"scannedAt\":null,\"approvedAt\":null}\n```\n\n**Scanned event:**\n```json\nevent: status\ndata: {\"type\":\"status\",\"status\":\"scanned\",\"scannedAt\":\"2025-01-11T19:00:00.000Z\",\"approvedAt\":null}\n```\n\n**Approved event (terminal):**\n```json\nevent: approved\ndata: {\n  \"type\":\"approved\",\n  \"sessionToken\":\"tana_session_abc123...\",\n  \"userId\":\"usr_alice\",\n  \"username\":\"@alice\",\n  \"returnUrl\":\"http://localhost:3000/dashboard\"\n}\n```\n\n**Rejected event (terminal):**\n```json\nevent: rejected\ndata: {\"type\":\"rejected\"}\n```\n\n**Expired event (terminal):**\n```json\nevent: expired\ndata: {\"type\":\"expired\"}\n```\n\n**Status:** `200 OK` (keeps connection open)\n\n**Use Case:** Website opens SSE connection to receive real-time status updates as user scans/approves on mobile\n\n</details>\n\n---\n\n<details>\n <summary><code className=\"text-cyan-400\">GET</code> <code><b>/auth/session/:id</b></code> <code>(get session details)</code></summary>\n\n### Request\n\n```bash\ncurl http://localhost:8090/auth/session/sess_abc123\n```\n\n### Response\n\n```json\n{\n  \"sessionId\": \"sess_abc123\",\n  \"challenge\": \"auth_chal_b92f3aed...\",\n  \"status\": \"waiting\",\n  \"appName\": \"My Tana App\",\n  \"appIcon\": \"https://example.com/icon.png\",\n  \"expiresAt\": 1762915859863\n}\n```\n\n**Status:** `200 OK`\n\n**Side Effect:** If session status is \"waiting\", automatically marks as \"scanned\"\n\n**Use Case:** Mobile app scans QR code and retrieves session details\n\n</details>\n\n---\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/auth/session/:id/approve</b></code> <code>(approve login with signature)</code></summary>\n\n### Request\n\n```bash\ncurl -X POST http://localhost:8090/auth/session/sess_abc123/approve \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"userId\": \"usr_alice\",\n    \"username\": \"@alice\",\n    \"publicKey\": \"ed25519_abc123...\",\n    \"signature\": \"0x1a2b3c...\",\n    \"message\": \"I approve this login session: auth_chal_b92f3aed...\"\n  }'\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**userId**</td>\n    <td>string (UUID)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**username**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**publicKey**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**signature**</td>\n    <td>string (hex)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**message**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n</table>\n\n### Response\n\n```json\n{\n  \"success\": true,\n  \"sessionToken\": \"tana_session_abc123...\",\n  \"returnUrl\": \"http://localhost:3000/dashboard\"\n}\n```\n\n**Status:** `200 OK`\n\n**Validation:**\n- Ed25519 signature must be valid for the provided message and public key\n- Message must contain the session challenge\n- Session must be in \"waiting\" or \"scanned\" state\n- Session must not be expired\n\n**Use Case:** User approves login on mobile app, which signs the challenge with private key\n\n</details>\n\n---\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/auth/session/:id/reject</b></code> <code>(reject login)</code></summary>\n\n### Request\n\n```bash\ncurl -X POST http://localhost:8090/auth/session/sess_abc123/reject\n```\n\n### Response\n\n```json\n{\n  \"success\": true\n}\n```\n\n**Status:** `200 OK`\n\n**Use Case:** User rejects login attempt on mobile app\n\n</details>\n\n---\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/auth/session/validate</b></code> <code>(validate session token)</code></summary>\n\n### Request\n\n```bash\ncurl -X POST http://localhost:8090/auth/session/validate \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"sessionToken\": \"tana_session_abc123...\"\n  }'\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**sessionToken**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n</table>\n\n### Response (Valid)\n\n```json\n{\n  \"valid\": true,\n  \"userId\": \"usr_alice\",\n  \"username\": \"@alice\"\n}\n```\n\n**Status:** `200 OK`\n\n### Response (Invalid)\n\n```json\n{\n  \"error\": \"Invalid or expired session token\"\n}\n```\n\n**Status:** `401 Unauthorized`\n\n**Use Case:** Backend services validate session tokens from authenticated requests\n\n</details>\n\n---\n\n## Security Model\n\n### Private Key Isolation\n\n**✅ SECURE (Mobile Device):**\n- Private keys stored in hardware-backed secure enclave (iOS) / StrongBox (Android)\n- Biometric protection (Face ID, Touch ID, fingerprint)\n- OS-level sandboxing prevents key extraction\n- Signatures generated within secure hardware\n\n**❌ INSECURE (Desktop/Laptop):**\n- No private keys - only session tokens\n- Session tokens are revocable and time-limited (30 days)\n- Tokens provide read-only blockchain access\n- Desktop computers more vulnerable to malware\n\n### Why No Browser Extensions?\n\nTana explicitly rejects the MetaMask/browser extension model:\n\n1. **Malware Risk** - Desktop computers are primary malware targets\n2. **Browser Vulnerabilities** - Extensions have broad permissions\n3. **Key Extraction** - Software-based key storage can be compromised\n4. **User Behavior** - Users install many extensions from untrusted sources\n\n### Mobile-First Advantages\n\n1. **Hardware Security** - Secure enclave protects keys at hardware level\n2. **Biometric Auth** - Face ID/Touch ID for every transaction\n3. **Smaller Attack Surface** - iOS/Android app sandboxing\n4. **User Awareness** - Mobile approval makes every action explicit\n5. **Loss Prevention** - Devices can be remotely wiped\n\n### Authentication Flow Security\n\n1. **Challenge-Response** - Random challenge prevents replay attacks\n2. **Ed25519 Signatures** - Cryptographic proof of ownership\n3. **Time Limits** - Sessions expire after 5 minutes (login) or 30 days (token)\n4. **Status Tracking** - \"waiting\" → \"scanned\" → \"approved\" state machine\n5. **SSE Updates** - Real-time feedback without polling\n\n## Session Lifecycle\n\n**Session States:**\n- `waiting` - QR code displayed, waiting for mobile scan\n- `scanned` - Mobile app has retrieved session details\n- `approved` - User approved and signature verified → token generated\n- `rejected` - User declined login attempt\n- `expired` - Session timed out (5 minutes)\n\n**Session Token Lifecycle:**\n- Generated after approval with Ed25519 signature verification\n- Expires 30 days after approval\n- Can be revoked at any time\n- Used for subsequent authenticated API requests\n\n## Error Responses\n\n**404 Not Found:**\n```json\n{\n  \"error\": \"Session not found\"\n}\n```\n\n**400 Bad Request:**\n```json\n{\n  \"error\": \"Invalid signature\"\n}\n```\n\n```json\n{\n  \"error\": \"Challenge mismatch\"\n}\n```\n\n```json\n{\n  \"error\": \"Session expired\"\n}\n```\n\n**401 Unauthorized:**\n```json\n{\n  \"error\": \"Invalid or expired session token\"\n}\n```\n\n**500 Internal Server Error:**\n```json\n{\n  \"error\": \"Failed to create session\"\n}\n```\n\n## Related Documentation\n\n- [Mobile Authentication Protocol](/docs/MOBILE_AUTH_PROTOCOL.md) - Detailed protocol specification\n- [Transaction Signing Guide](/guides/transaction-signing/) - How Ed25519 signatures work\n- [Environment Variables](/contributing/env-vars/) - Configure `IDENTITY_DB_URL` and `IDENTITY_PORT`\n- [Architecture](/contributing/architecture/) - Identity service in system design\n",
    "html": "<p>The Identity Service provides secure authentication for Tana applications using mobile-first QR code authentication (similar to WhatsApp Web). Private keys remain exclusively on mobile devices, while desktop/laptop computers receive session tokens only.</p>\n<p><strong>Base URL:</strong> <code>http://localhost:8090</code> (development) or <code>https://auth.tana.network</code> (production)</p>\n<p><strong>Key Concepts:</strong></p>\n<ul>\n<li><strong>Session-based authentication</strong> - No private keys on desktop/laptop</li>\n<li><strong>QR code login</strong> - Mobile app scans QR from website</li>\n<li><strong>Server-Sent Events (SSE)</strong> - Real-time session status updates</li>\n<li><strong>Ed25519 signatures</strong> - Cryptographic proof of ownership</li>\n<li><strong>Hardware security</strong> - Private keys protected by mobile device secure enclave</li>\n</ul>\n<hr>\n<h2>Authentication Flow</h2>\n<div class=\"code-block-placeholder\" data-index=\"0\"></div>\n<hr>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/auth/session/create</b></code> <code>(create QR login session)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"1\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**returnUrl**</td>\n    <td>string (URL)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**appName**</td>\n    <td>string</td>\n    <td>optional</td>\n  </tr>\n <tr>\n    <td>**appIcon**</td>\n    <td>string (URL)</td>\n    <td>optional</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<div class=\"code-block-placeholder\" data-index=\"2\"></div>\n<p><strong>Status:</strong> <code>201 Created</code></p>\n<p><strong>Use Case:</strong> Website initiates login flow by creating a session and displaying QR code</p>\n</details>\n<hr>\n<details>\n <summary><code className=\"text-cyan-400\">GET</code> <code><b>/auth/session/:id/events</b></code> <code>(SSE stream for real-time updates)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"3\"></div>\n<h3>Server-Sent Events</h3>\n<p><strong>Connection event:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"4\"></div>\n<p><strong>Status update event:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"5\"></div>\n<p><strong>Scanned event:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"6\"></div>\n<p><strong>Approved event (terminal):</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"7\"></div>\n<p><strong>Rejected event (terminal):</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"8\"></div>\n<p><strong>Expired event (terminal):</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"9\"></div>\n<p><strong>Status:</strong> <code>200 OK</code> (keeps connection open)</p>\n<p><strong>Use Case:</strong> Website opens SSE connection to receive real-time status updates as user scans/approves on mobile</p>\n</details>\n<hr>\n<details>\n <summary><code className=\"text-cyan-400\">GET</code> <code><b>/auth/session/:id</b></code> <code>(get session details)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"10\"></div>\n<h3>Response</h3>\n<div class=\"code-block-placeholder\" data-index=\"11\"></div>\n<p><strong>Status:</strong> <code>200 OK</code></p>\n<p><strong>Side Effect:</strong> If session status is \"waiting\", automatically marks as \"scanned\"</p>\n<p><strong>Use Case:</strong> Mobile app scans QR code and retrieves session details</p>\n</details>\n<hr>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/auth/session/:id/approve</b></code> <code>(approve login with signature)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"12\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**userId**</td>\n    <td>string (UUID)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**username**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**publicKey**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**signature**</td>\n    <td>string (hex)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**message**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<div class=\"code-block-placeholder\" data-index=\"13\"></div>\n<p><strong>Status:</strong> <code>200 OK</code></p>\n<p><strong>Validation:</strong></p>\n<ul>\n<li>Ed25519 signature must be valid for the provided message and public key</li>\n<li>Message must contain the session challenge</li>\n<li>Session must be in \"waiting\" or \"scanned\" state</li>\n<li>Session must not be expired</li>\n</ul>\n<p><strong>Use Case:</strong> User approves login on mobile app, which signs the challenge with private key</p>\n</details>\n<hr>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/auth/session/:id/reject</b></code> <code>(reject login)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"14\"></div>\n<h3>Response</h3>\n<div class=\"code-block-placeholder\" data-index=\"15\"></div>\n<p><strong>Status:</strong> <code>200 OK</code></p>\n<p><strong>Use Case:</strong> User rejects login attempt on mobile app</p>\n</details>\n<hr>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/auth/session/validate</b></code> <code>(validate session token)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"16\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**sessionToken**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n</table>\n<h3>Response (Valid)</h3>\n<div class=\"code-block-placeholder\" data-index=\"17\"></div>\n<p><strong>Status:</strong> <code>200 OK</code></p>\n<h3>Response (Invalid)</h3>\n<div class=\"code-block-placeholder\" data-index=\"18\"></div>\n<p><strong>Status:</strong> <code>401 Unauthorized</code></p>\n<p><strong>Use Case:</strong> Backend services validate session tokens from authenticated requests</p>\n</details>\n<hr>\n<h2>Security Model</h2>\n<h3>Private Key Isolation</h3>\n<p><strong>✅ SECURE (Mobile Device):</strong></p>\n<ul>\n<li>Private keys stored in hardware-backed secure enclave (iOS) / StrongBox (Android)</li>\n<li>Biometric protection (Face ID, Touch ID, fingerprint)</li>\n<li>OS-level sandboxing prevents key extraction</li>\n<li>Signatures generated within secure hardware</li>\n</ul>\n<p><strong>❌ INSECURE (Desktop/Laptop):</strong></p>\n<ul>\n<li>No private keys - only session tokens</li>\n<li>Session tokens are revocable and time-limited (30 days)</li>\n<li>Tokens provide read-only blockchain access</li>\n<li>Desktop computers more vulnerable to malware</li>\n</ul>\n<h3>Why No Browser Extensions?</h3>\n<p>Tana explicitly rejects the MetaMask/browser extension model:</p>\n<ol>\n<li><strong>Malware Risk</strong> - Desktop computers are primary malware targets</li>\n<li><strong>Browser Vulnerabilities</strong> - Extensions have broad permissions</li>\n<li><strong>Key Extraction</strong> - Software-based key storage can be compromised</li>\n<li><strong>User Behavior</strong> - Users install many extensions from untrusted sources</li>\n</ol>\n<h3>Mobile-First Advantages</h3>\n<ol>\n<li><strong>Hardware Security</strong> - Secure enclave protects keys at hardware level</li>\n<li><strong>Biometric Auth</strong> - Face ID/Touch ID for every transaction</li>\n<li><strong>Smaller Attack Surface</strong> - iOS/Android app sandboxing</li>\n<li><strong>User Awareness</strong> - Mobile approval makes every action explicit</li>\n<li><strong>Loss Prevention</strong> - Devices can be remotely wiped</li>\n</ol>\n<h3>Authentication Flow Security</h3>\n<ol>\n<li><strong>Challenge-Response</strong> - Random challenge prevents replay attacks</li>\n<li><strong>Ed25519 Signatures</strong> - Cryptographic proof of ownership</li>\n<li><strong>Time Limits</strong> - Sessions expire after 5 minutes (login) or 30 days (token)</li>\n<li><strong>Status Tracking</strong> - \"waiting\" → \"scanned\" → \"approved\" state machine</li>\n<li><strong>SSE Updates</strong> - Real-time feedback without polling</li>\n</ol>\n<h2>Session Lifecycle</h2>\n<p><strong>Session States:</strong></p>\n<ul>\n<li><code>waiting</code> - QR code displayed, waiting for mobile scan</li>\n<li><code>scanned</code> - Mobile app has retrieved session details</li>\n<li><code>approved</code> - User approved and signature verified → token generated</li>\n<li><code>rejected</code> - User declined login attempt</li>\n<li><code>expired</code> - Session timed out (5 minutes)</li>\n</ul>\n<p><strong>Session Token Lifecycle:</strong></p>\n<ul>\n<li>Generated after approval with Ed25519 signature verification</li>\n<li>Expires 30 days after approval</li>\n<li>Can be revoked at any time</li>\n<li>Used for subsequent authenticated API requests</li>\n</ul>\n<h2>Error Responses</h2>\n<p><strong>404 Not Found:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"19\"></div>\n<p><strong>400 Bad Request:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"20\"></div>\n<div class=\"code-block-placeholder\" data-index=\"21\"></div>\n<div class=\"code-block-placeholder\" data-index=\"22\"></div>\n<p><strong>401 Unauthorized:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"23\"></div>\n<p><strong>500 Internal Server Error:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"24\"></div>\n<h2>Related Documentation</h2>\n<ul>\n<li><a href=\"/docs/MOBILE_AUTH_PROTOCOL.md\">Mobile Authentication Protocol</a> - Detailed protocol specification</li>\n<li><a href=\"/guides/transaction-signing/\">Transaction Signing Guide</a> - How Ed25519 signatures work</li>\n<li><a href=\"/contributing/env-vars/\">Environment Variables</a> - Configure <code>IDENTITY_DB_URL</code> and <code>IDENTITY_PORT</code></li>\n<li><a href=\"/contributing/architecture/\">Architecture</a> - Identity service in system design</li>\n</ul>\n",
    "codeBlocks": [
      {
        "lang": "text",
        "code": "1. Website → POST /auth/session/create\n   Returns: sessionId, challenge, QR data\n\n2. Website → GET /auth/session/:id/events (SSE)\n   Streams: Real-time session status updates\n\n3. Mobile App → GET /auth/session/:id\n   Returns: Session details, marks as \"scanned\"\n\n4. User approves on mobile\n\n5. Mobile App → POST /auth/session/:id/approve\n   Body: Signed challenge with Ed25519\n\n6. SSE → \"approved\" event to website\n   Includes: sessionToken for authenticated requests\n\n7. Website uses sessionToken for subsequent API calls"
      },
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8090/auth/session/create \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"returnUrl\": \"http://localhost:3000/dashboard\",\n    \"appName\": \"My Tana App\",\n    \"appIcon\": \"https://example.com/icon.png\"\n  }'"
      },
      {
        "lang": "json",
        "code": "{\n  \"sessionId\": \"sess_3ogy2lnxi0fl4rlz\",\n  \"challenge\": \"auth_chal_b92f3aed...\",\n  \"expiresAt\": 1762915859863,\n  \"expiresIn\": 300,\n  \"qrData\": \"{\\\"sessionId\\\":\\\"sess_...\\\",\\\"challenge\\\":\\\"auth_chal_...\\\",\\\"service\\\":\\\"tana-identity\\\"}\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl -N http://localhost:8090/auth/session/sess_abc123/events"
      },
      {
        "lang": "json",
        "code": "event: connected\ndata: {\"type\":\"connected\",\"sessionId\":\"sess_abc123\"}"
      },
      {
        "lang": "json",
        "code": "event: status\ndata: {\"type\":\"status\",\"status\":\"waiting\",\"scannedAt\":null,\"approvedAt\":null}"
      },
      {
        "lang": "json",
        "code": "event: status\ndata: {\"type\":\"status\",\"status\":\"scanned\",\"scannedAt\":\"2025-01-11T19:00:00.000Z\",\"approvedAt\":null}"
      },
      {
        "lang": "json",
        "code": "event: approved\ndata: {\n  \"type\":\"approved\",\n  \"sessionToken\":\"tana_session_abc123...\",\n  \"userId\":\"usr_alice\",\n  \"username\":\"@alice\",\n  \"returnUrl\":\"http://localhost:3000/dashboard\"\n}"
      },
      {
        "lang": "json",
        "code": "event: rejected\ndata: {\"type\":\"rejected\"}"
      },
      {
        "lang": "json",
        "code": "event: expired\ndata: {\"type\":\"expired\"}"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8090/auth/session/sess_abc123"
      },
      {
        "lang": "json",
        "code": "{\n  \"sessionId\": \"sess_abc123\",\n  \"challenge\": \"auth_chal_b92f3aed...\",\n  \"status\": \"waiting\",\n  \"appName\": \"My Tana App\",\n  \"appIcon\": \"https://example.com/icon.png\",\n  \"expiresAt\": 1762915859863\n}"
      },
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8090/auth/session/sess_abc123/approve \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"userId\": \"usr_alice\",\n    \"username\": \"@alice\",\n    \"publicKey\": \"ed25519_abc123...\",\n    \"signature\": \"0x1a2b3c...\",\n    \"message\": \"I approve this login session: auth_chal_b92f3aed...\"\n  }'"
      },
      {
        "lang": "json",
        "code": "{\n  \"success\": true,\n  \"sessionToken\": \"tana_session_abc123...\",\n  \"returnUrl\": \"http://localhost:3000/dashboard\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8090/auth/session/sess_abc123/reject"
      },
      {
        "lang": "json",
        "code": "{\n  \"success\": true\n}"
      },
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8090/auth/session/validate \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"sessionToken\": \"tana_session_abc123...\"\n  }'"
      },
      {
        "lang": "json",
        "code": "{\n  \"valid\": true,\n  \"userId\": \"usr_alice\",\n  \"username\": \"@alice\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Invalid or expired session token\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Session not found\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Invalid signature\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Challenge mismatch\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Session expired\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Invalid or expired session token\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Failed to create session\"\n}"
      }
    ]
  },
  {
    "slug": [
      "contracts",
      "index"
    ],
    "metadata": {
      "title": "/contracts",
      "description": "Deploy and manage smart contracts"
    },
    "content": "\nDeploy and manage TypeScript smart contracts on the Tana blockchain. Contracts are executed in a sandboxed V8 runtime.\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/contracts/deploy</b></code> <code>(deploy contract)</code></summary>\n\n### Request\n\n```bash\ncurl -X POST http://localhost:8080/contracts/deploy \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"ownerId\": \"usr_abc123\",\n    \"name\": \"token-transfer\",\n    \"sourceCode\": \"import { console } from \\\"tana:core\\\"; ...\",\n    \"description\": \"Simple token transfer contract\",\n    \"metadata\": {\n      \"version\": \"1.0.0\",\n      \"author\": \"@alice\"\n    }\n  }'\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**ownerId**</td>\n    <td>string (UUID)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**name**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**sourceCode**</td>\n    <td>string (TypeScript)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**description**</td>\n    <td>string</td>\n    <td>optional</td>\n  </tr>\n <tr>\n    <td>**metadata**</td>\n    <td>object</td>\n    <td>optional</td>\n  </tr>\n</table>\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>201</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"cnt_xyz789\",\n  \"ownerId\": \"usr_abc123\",\n  \"name\": \"token-transfer\",\n  \"sourceCode\": \"import { console } from \\\"tana:core\\\"; ...\",\n  \"description\": \"Simple token transfer contract\",\n  \"metadata\": {\n    \"version\": \"1.0.0\",\n    \"author\": \"@alice\"\n  },\n  \"status\": \"active\",\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Missing required fields: ownerId, name, sourceCode\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [x] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/contracts</b></code> <code>(list contracts)</code></summary>\n\n### Request\n\n```bash\n# List all contracts\ncurl \"http://localhost:8080/contracts?limit=50&offset=0\"\n\n# List only active contracts\ncurl \"http://localhost:8080/contracts?active=true&limit=50&offset=0\"\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>number</td>\n    <td>optional (default: 50)</td>\n  </tr>\n <tr>\n    <td>**offset**</td>\n    <td>number</td>\n    <td>optional (default: 0)</td>\n  </tr>\n <tr>\n    <td>**active**</td>\n    <td>boolean</td>\n    <td>optional</td>\n  </tr>\n</table>\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n[\n  {\n    \"id\": \"cnt_xyz789\",\n    \"ownerId\": \"usr_abc123\",\n    \"name\": \"token-transfer\",\n    \"description\": \"Simple token transfer contract\",\n    \"status\": \"active\",\n    \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n    \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n  },\n  {\n    \"id\": \"cnt_abc123\",\n    \"ownerId\": \"usr_def456\",\n    \"name\": \"voting-system\",\n    \"description\": \"Decentralized voting contract\",\n    \"status\": \"active\",\n    \"createdAt\": \"2024-11-07T10:00:00.000Z\",\n    \"updatedAt\": \"2024-11-07T10:00:00.000Z\"\n  }\n]\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [x] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/contracts/:id</b></code> <code>(get contract by ID)</code></summary>\n\n### Request\n\n```bash\ncurl http://localhost:8080/contracts/cnt_xyz789\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>string</td>\n    <td>required (URL param)</td>\n  </tr>\n</table>\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"cnt_xyz789\",\n  \"ownerId\": \"usr_abc123\",\n  \"name\": \"token-transfer\",\n  \"sourceCode\": \"import { console } from \\\"tana:core\\\"; ...\",\n  \"description\": \"Simple token transfer contract\",\n  \"metadata\": {\n    \"version\": \"1.0.0\",\n    \"author\": \"@alice\"\n  },\n  \"status\": \"active\",\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n  \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Contract not found\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [x] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/contracts/owner/:ownerId</b></code> <code>(get contracts by owner)</code></summary>\n\n### Request\n\n```bash\ncurl \"http://localhost:8080/contracts/owner/usr_abc123?limit=50&offset=0\"\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**ownerId**</td>\n    <td>string</td>\n    <td>required (URL param)</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>number</td>\n    <td>optional (default: 50)</td>\n  </tr>\n <tr>\n    <td>**offset**</td>\n    <td>number</td>\n    <td>optional (default: 0)</td>\n  </tr>\n</table>\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n[\n  {\n    \"id\": \"cnt_xyz789\",\n    \"ownerId\": \"usr_abc123\",\n    \"name\": \"token-transfer\",\n    \"description\": \"Simple token transfer contract\",\n    \"status\": \"active\",\n    \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n    \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n  }\n]\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [x] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/contracts/:id/deactivate</b></code> <code>(deactivate contract)</code></summary>\n\n### Request\n\n```bash\ncurl -X POST http://localhost:8080/contracts/cnt_xyz789/deactivate \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"ownerId\": \"usr_abc123\"\n  }'\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>string</td>\n    <td>required (URL param)</td>\n  </tr>\n <tr>\n    <td>**ownerId**</td>\n    <td>string (UUID)</td>\n    <td>required</td>\n  </tr>\n</table>\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"cnt_xyz789\",\n  \"ownerId\": \"usr_abc123\",\n  \"name\": \"token-transfer\",\n  \"status\": \"inactive\",\n  \"deactivatedAt\": \"2024-11-08T13:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Missing ownerId\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>403</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Only contract owner can deactivate\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [ ] Public\n- [ ] Community\n- [ ] Team\n- [x] Self\n- [ ] Admin\n\n</details>\n\n### Method Not Allowed\n\nThe following methods are not supported:\n\n<code className=\"text-orange-400\">PUT</code> <code className=\"text-red-400\">DELETE</code> <code className=\"text-purple-400\">PATCH</code>\n",
    "html": "<p>Deploy and manage TypeScript smart contracts on the Tana blockchain. Contracts are executed in a sandboxed V8 runtime.</p>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/contracts/deploy</b></code> <code>(deploy contract)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"0\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**ownerId**</td>\n    <td>string (UUID)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**name**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**sourceCode**</td>\n    <td>string (TypeScript)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**description**</td>\n    <td>string</td>\n    <td>optional</td>\n  </tr>\n <tr>\n    <td>**metadata**</td>\n    <td>object</td>\n    <td>optional</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>201</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"1\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"2\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[x] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/contracts</b></code> <code>(list contracts)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"3\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>number</td>\n    <td>optional (default: 50)</td>\n  </tr>\n <tr>\n    <td>**offset**</td>\n    <td>number</td>\n    <td>optional (default: 0)</td>\n  </tr>\n <tr>\n    <td>**active**</td>\n    <td>boolean</td>\n    <td>optional</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"4\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[x] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/contracts/:id</b></code> <code>(get contract by ID)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"5\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>string</td>\n    <td>required (URL param)</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"6\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"7\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[x] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/contracts/owner/:ownerId</b></code> <code>(get contracts by owner)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"8\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**ownerId**</td>\n    <td>string</td>\n    <td>required (URL param)</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>number</td>\n    <td>optional (default: 50)</td>\n  </tr>\n <tr>\n    <td>**offset**</td>\n    <td>number</td>\n    <td>optional (default: 0)</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"9\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[x] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/contracts/:id/deactivate</b></code> <code>(deactivate contract)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"10\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>string</td>\n    <td>required (URL param)</td>\n  </tr>\n <tr>\n    <td>**ownerId**</td>\n    <td>string (UUID)</td>\n    <td>required</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"11\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"12\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>403</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"13\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[ ] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[x] Self</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<h3>Method Not Allowed</h3>\n<p>The following methods are not supported:</p>\n<p><code className=\"text-orange-400\">PUT</code> <code className=\"text-red-400\">DELETE</code> <code className=\"text-purple-400\">PATCH</code></p>\n",
    "codeBlocks": [
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8080/contracts/deploy \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"ownerId\": \"usr_abc123\",\n    \"name\": \"token-transfer\",\n    \"sourceCode\": \"import { console } from \\\"tana:core\\\"; ...\",\n    \"description\": \"Simple token transfer contract\",\n    \"metadata\": {\n      \"version\": \"1.0.0\",\n      \"author\": \"@alice\"\n    }\n  }'"
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"cnt_xyz789\",\n  \"ownerId\": \"usr_abc123\",\n  \"name\": \"token-transfer\",\n  \"sourceCode\": \"import { console } from \\\"tana:core\\\"; ...\",\n  \"description\": \"Simple token transfer contract\",\n  \"metadata\": {\n    \"version\": \"1.0.0\",\n    \"author\": \"@alice\"\n  },\n  \"status\": \"active\",\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Missing required fields: ownerId, name, sourceCode\"\n}"
      },
      {
        "lang": "bash",
        "code": "# List all contracts\ncurl \"http://localhost:8080/contracts?limit=50&offset=0\"\n\n# List only active contracts\ncurl \"http://localhost:8080/contracts?active=true&limit=50&offset=0\""
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"id\": \"cnt_xyz789\",\n    \"ownerId\": \"usr_abc123\",\n    \"name\": \"token-transfer\",\n    \"description\": \"Simple token transfer contract\",\n    \"status\": \"active\",\n    \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n    \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n  },\n  {\n    \"id\": \"cnt_abc123\",\n    \"ownerId\": \"usr_def456\",\n    \"name\": \"voting-system\",\n    \"description\": \"Decentralized voting contract\",\n    \"status\": \"active\",\n    \"createdAt\": \"2024-11-07T10:00:00.000Z\",\n    \"updatedAt\": \"2024-11-07T10:00:00.000Z\"\n  }\n]"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/contracts/cnt_xyz789"
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"cnt_xyz789\",\n  \"ownerId\": \"usr_abc123\",\n  \"name\": \"token-transfer\",\n  \"sourceCode\": \"import { console } from \\\"tana:core\\\"; ...\",\n  \"description\": \"Simple token transfer contract\",\n  \"metadata\": {\n    \"version\": \"1.0.0\",\n    \"author\": \"@alice\"\n  },\n  \"status\": \"active\",\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n  \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Contract not found\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl \"http://localhost:8080/contracts/owner/usr_abc123?limit=50&offset=0\""
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"id\": \"cnt_xyz789\",\n    \"ownerId\": \"usr_abc123\",\n    \"name\": \"token-transfer\",\n    \"description\": \"Simple token transfer contract\",\n    \"status\": \"active\",\n    \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n    \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n  }\n]"
      },
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8080/contracts/cnt_xyz789/deactivate \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"ownerId\": \"usr_abc123\"\n  }'"
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"cnt_xyz789\",\n  \"ownerId\": \"usr_abc123\",\n  \"name\": \"token-transfer\",\n  \"status\": \"inactive\",\n  \"deactivatedAt\": \"2024-11-08T13:00:00.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Missing ownerId\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Only contract owner can deactivate\"\n}"
      }
    ]
  },
  {
    "slug": [
      "intro"
    ],
    "metadata": {
      "title": "API Overview",
      "description": "REST API reference for Tana Services"
    },
    "content": "\nThis reference documents the REST APIs exposed by Tana services. As a **sovereign** running your own network, you'll use these APIs to integrate with your infrastructure, build dashboards, and create custom tooling.\n\nTana provides two main REST APIs. All endpoints return JSON responses.\n\n## Base URLs\n\n### Ledger Service (Blockchain API)\n\n```\nhttp://localhost:8080\n```\n\nHandles all blockchain operations: users, balances, transactions, blocks, and smart contracts.\n\n### Identity Service (Authentication API)\n\n```\nhttp://localhost:8090\n```\n\nHandles mobile-first QR code authentication and session management. Private keys remain exclusively on mobile devices for security.\n\nFor production deployments, replace with your server's URLs (e.g., `https://api.tana.network` and `https://auth.tana.network`).\n\n## Authentication & Signatures\n\nAll state-changing operations (POST, PATCH, DELETE) require cryptographic signatures to prove ownership.\n\n### Transaction Signatures\n\n**Required Fields:**\n\n```json\n{\n  \"type\": \"transfer\",\n  \"from\": \"usr_abc123\",\n  \"to\": \"usr_xyz789\",\n  \"timestamp\": 1699459200,\n  \"nonce\": 42,\n  \"amount\": \"100\",\n  \"currencyCode\": \"USD\",\n  \"signature\": \"ed25519_sig_...\"\n}\n```\n\n**How Signing Works:**\n\n```typescript\nimport {\n  signMessage,\n  createTransactionMessage\n} from '@tananetwork/crypto'\n\n// 1. Create canonical transaction message\nconst tx = {\n  type: 'transfer',\n  from: 'usr_abc123',\n  to: 'usr_xyz789',\n  timestamp: Date.now(),\n  nonce: 42,\n  amount: '100',\n  currencyCode: 'USD'\n}\n\n// 2. Sign with private key (SHA-256 + Ed25519)\nconst message = createTransactionMessage(tx)\nconst signature = await signMessage(message, privateKey)\n\n// 3. Send to API with signature\nPOST /transactions {\n  ...tx,\n  signature\n}\n```\n\n**Server Verification:**\n\nThe API verifies:\n1. Signature is valid for the canonical message\n2. Signature matches the public key on file for `from` user\n3. Timestamp is within acceptable range (prevents old transactions)\n4. Nonce hasn't been used before (prevents replay attacks)\n\n**Implementation Status:**\n- ✅ Ed25519 keypair generation - `@tananetwork/crypto`\n- ✅ Transaction signing - CLI and mobile\n- ✅ Signature verification - All services\n- ✅ Nonce-based replay protection\n\n## Response Format\n\nAll API responses follow this format:\n\n### Success Response\n\n```json\n{\n  \"data\": { ... },\n  \"status\": \"success\"\n}\n```\n\n### Error Response\n\n```json\n{\n  \"error\": \"Error message describing what went wrong\",\n  \"timestamp\": \"2024-11-07T00:00:00.000Z\"\n}\n```\n\n## HTTP Status Codes\n\n| Code | Meaning |\n|------|---------|\n| `200` | Success - Request completed successfully |\n| `201` | Created - Resource created successfully |\n| `400` | Bad Request - Invalid request parameters |\n| `404` | Not Found - Resource doesn't exist |\n| `500` | Internal Server Error - Something went wrong on the server |\n\n## Quick Start\n\n### Health Check\n\n```bash\ncurl http://localhost:8080/health\n```\n\n```json\n{\n  \"status\": \"ok\"\n}\n```\n\n### Get Service Info\n\n```bash\ncurl http://localhost:8080/\n```\n\n```json\n{\n  \"service\": \"tana-ledger\",\n  \"version\": \"0.1.0\",\n  \"status\": \"healthy\",\n  \"timestamp\": \"2024-11-07T00:00:00.000Z\"\n}\n```\n\n## API Categories\n\n### Identity & Authentication (Port 8090)\nMobile-first QR code authentication with hardware-backed security.\n\n- **POST /auth/session/create** - Create QR code login session\n- **GET /auth/session/:id/events** - SSE stream for real-time updates\n- **GET /auth/session/:id** - Get session details (mobile scans QR)\n- **POST /auth/session/:id/approve** - Approve login with Ed25519 signature\n- **POST /auth/session/:id/reject** - Reject login attempt\n- **POST /auth/session/validate** - Validate session token\n\n**Security Model:** Private keys ONLY on mobile devices. Desktop/laptop receives session tokens only.\n\n[View Identity API →](/tana-api/identity/)\n\n---\n\n### Users (Port 8080)\nManage user accounts on the blockchain.\n\n- **POST /users** - Create a new user\n- **GET /users** - List all users\n- **GET /users/:id** - Get user by ID\n- **GET /users/by-username/:username** - Get user by username\n\n[View Users API →](/tana-api/users/)\n\n### Balances (Port 8080)\nQuery and manage multi-currency balances.\n\n- **GET /balances** - Query balances\n- **POST /balances** - Set balance\n- **GET /balances/currencies** - List supported currencies\n- **POST /balances/currencies/seed** - Seed default currencies\n\n[View Balances API →](/tana-api/balances/)\n\n### Transactions (Port 8080)\nCreate and query blockchain transactions.\n\n- **POST /transactions** - Create transaction\n- **GET /transactions** - List transactions\n- **GET /transactions/:id** - Get transaction by ID\n\n[View Transactions API →](/tana-api/transactions/)\n\n### Blocks (Port 8080)\nQuery blockchain blocks and history.\n\n- **GET /blocks** - List blocks\n- **GET /blocks/latest** - Get latest block\n- **GET /blocks/:height** - Get block by height\n\n[View Blocks API →](/tana-api/blocks/)\n\n### Contracts (Port 8080)\nDeploy and manage smart contracts.\n\n- **POST /contracts** - Deploy contract\n- **GET /contracts** - List contracts\n- **GET /contracts/:id** - Get contract by ID\n\n[View Contracts API →](/tana-api/contracts/)\n\n## Rate Limiting\n\nCurrently, there are no rate limits on the development API. Production deployments should implement rate limiting at the reverse proxy level (e.g., Nginx).\n\n## CORS\n\nThe API supports CORS for all origins in development mode:\n\n```\nAccess-Control-Allow-Origin: *\nAccess-Control-Allow-Credentials: true\n```\n\n## Pagination\n\nList endpoints support pagination via query parameters:\n\n```bash\nGET /users?page=1&limit=20\n```\n\nDefault limit is 100 items per page.\n\n## Examples\n\n### Create User and Check Balance\n\n```bash\n# 1. Create user\ncurl -X POST http://localhost:8080/users \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"publicKey\": \"ed25519_abc123...\",\n    \"username\": \"@alice\",\n    \"displayName\": \"Alice Johnson\"\n  }'\n\n# Response:\n# {\n#   \"userId\": \"user_xyz789\",\n#   \"transactionId\": \"tx_abc123\",\n#   \"status\": \"pending\"\n# }\n\n# 2. Get balance (after block inclusion)\ncurl \"http://localhost:8080/balances?ownerId=user_xyz789&currencyCode=USD\"\n\n# Response:\n# {\n#   \"ownerId\": \"user_xyz789\",\n#   \"ownerType\": \"user\",\n#   \"currencyCode\": \"USD\",\n#   \"amount\": \"1000.00\",\n#   \"updatedAt\": \"2024-11-07T00:00:00.000Z\"\n# }\n```\n\n## Next Steps\n\n- [Identity API](/tana-api/identity/) - Mobile QR code authentication\n- [Users API](/tana-api/users/) - User account management\n- [Balances API](/tana-api/balances/) - Balance queries and updates\n- [Transactions API](/tana-api/transactions/) - Transaction creation and queries\n- [Blocks API](/tana-api/blocks/) - Blockchain queries\n- [Contracts API](/tana-api/contracts/) - Smart contract deployment\n- [CLI Reference](/tana-cli/intro/) - Command-line interface\n",
    "html": "<p>This reference documents the REST APIs exposed by Tana services. As a <strong>sovereign</strong> running your own network, you'll use these APIs to integrate with your infrastructure, build dashboards, and create custom tooling.</p>\n<p>Tana provides two main REST APIs. All endpoints return JSON responses.</p>\n<h2>Base URLs</h2>\n<h3>Ledger Service (Blockchain API)</h3>\n<div class=\"code-block-placeholder\" data-index=\"0\"></div>\n<p>Handles all blockchain operations: users, balances, transactions, blocks, and smart contracts.</p>\n<h3>Identity Service (Authentication API)</h3>\n<div class=\"code-block-placeholder\" data-index=\"1\"></div>\n<p>Handles mobile-first QR code authentication and session management. Private keys remain exclusively on mobile devices for security.</p>\n<p>For production deployments, replace with your server's URLs (e.g., <code>https://api.tana.network</code> and <code>https://auth.tana.network</code>).</p>\n<h2>Authentication &#x26; Signatures</h2>\n<p>All state-changing operations (POST, PATCH, DELETE) require cryptographic signatures to prove ownership.</p>\n<h3>Transaction Signatures</h3>\n<p><strong>Required Fields:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"2\"></div>\n<p><strong>How Signing Works:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"3\"></div>\n<p><strong>Server Verification:</strong></p>\n<p>The API verifies:</p>\n<ol>\n<li>Signature is valid for the canonical message</li>\n<li>Signature matches the public key on file for <code>from</code> user</li>\n<li>Timestamp is within acceptable range (prevents old transactions)</li>\n<li>Nonce hasn't been used before (prevents replay attacks)</li>\n</ol>\n<p><strong>Implementation Status:</strong></p>\n<ul>\n<li>✅ Ed25519 keypair generation - <code>@tananetwork/crypto</code></li>\n<li>✅ Transaction signing - CLI and mobile</li>\n<li>✅ Signature verification - All services</li>\n<li>✅ Nonce-based replay protection</li>\n</ul>\n<h2>Response Format</h2>\n<p>All API responses follow this format:</p>\n<h3>Success Response</h3>\n<div class=\"code-block-placeholder\" data-index=\"4\"></div>\n<h3>Error Response</h3>\n<div class=\"code-block-placeholder\" data-index=\"5\"></div>\n<h2>HTTP Status Codes</h2>\n<p>| Code | Meaning |\n|------|---------|\n| <code>200</code> | Success - Request completed successfully |\n| <code>201</code> | Created - Resource created successfully |\n| <code>400</code> | Bad Request - Invalid request parameters |\n| <code>404</code> | Not Found - Resource doesn't exist |\n| <code>500</code> | Internal Server Error - Something went wrong on the server |</p>\n<h2>Quick Start</h2>\n<h3>Health Check</h3>\n<div class=\"code-block-placeholder\" data-index=\"6\"></div>\n<div class=\"code-block-placeholder\" data-index=\"7\"></div>\n<h3>Get Service Info</h3>\n<div class=\"code-block-placeholder\" data-index=\"8\"></div>\n<div class=\"code-block-placeholder\" data-index=\"9\"></div>\n<h2>API Categories</h2>\n<h3>Identity &#x26; Authentication (Port 8090)</h3>\n<p>Mobile-first QR code authentication with hardware-backed security.</p>\n<ul>\n<li><strong>POST /auth/session/create</strong> - Create QR code login session</li>\n<li><strong>GET /auth/session/:id/events</strong> - SSE stream for real-time updates</li>\n<li><strong>GET /auth/session/:id</strong> - Get session details (mobile scans QR)</li>\n<li><strong>POST /auth/session/:id/approve</strong> - Approve login with Ed25519 signature</li>\n<li><strong>POST /auth/session/:id/reject</strong> - Reject login attempt</li>\n<li><strong>POST /auth/session/validate</strong> - Validate session token</li>\n</ul>\n<p><strong>Security Model:</strong> Private keys ONLY on mobile devices. Desktop/laptop receives session tokens only.</p>\n<p><a href=\"/tana-api/identity/\">View Identity API →</a></p>\n<hr>\n<h3>Users (Port 8080)</h3>\n<p>Manage user accounts on the blockchain.</p>\n<ul>\n<li><strong>POST /users</strong> - Create a new user</li>\n<li><strong>GET /users</strong> - List all users</li>\n<li><strong>GET /users/:id</strong> - Get user by ID</li>\n<li><strong>GET /users/by-username/:username</strong> - Get user by username</li>\n</ul>\n<p><a href=\"/tana-api/users/\">View Users API →</a></p>\n<h3>Balances (Port 8080)</h3>\n<p>Query and manage multi-currency balances.</p>\n<ul>\n<li><strong>GET /balances</strong> - Query balances</li>\n<li><strong>POST /balances</strong> - Set balance</li>\n<li><strong>GET /balances/currencies</strong> - List supported currencies</li>\n<li><strong>POST /balances/currencies/seed</strong> - Seed default currencies</li>\n</ul>\n<p><a href=\"/tana-api/balances/\">View Balances API →</a></p>\n<h3>Transactions (Port 8080)</h3>\n<p>Create and query blockchain transactions.</p>\n<ul>\n<li><strong>POST /transactions</strong> - Create transaction</li>\n<li><strong>GET /transactions</strong> - List transactions</li>\n<li><strong>GET /transactions/:id</strong> - Get transaction by ID</li>\n</ul>\n<p><a href=\"/tana-api/transactions/\">View Transactions API →</a></p>\n<h3>Blocks (Port 8080)</h3>\n<p>Query blockchain blocks and history.</p>\n<ul>\n<li><strong>GET /blocks</strong> - List blocks</li>\n<li><strong>GET /blocks/latest</strong> - Get latest block</li>\n<li><strong>GET /blocks/:height</strong> - Get block by height</li>\n</ul>\n<p><a href=\"/tana-api/blocks/\">View Blocks API →</a></p>\n<h3>Contracts (Port 8080)</h3>\n<p>Deploy and manage smart contracts.</p>\n<ul>\n<li><strong>POST /contracts</strong> - Deploy contract</li>\n<li><strong>GET /contracts</strong> - List contracts</li>\n<li><strong>GET /contracts/:id</strong> - Get contract by ID</li>\n</ul>\n<p><a href=\"/tana-api/contracts/\">View Contracts API →</a></p>\n<h2>Rate Limiting</h2>\n<p>Currently, there are no rate limits on the development API. Production deployments should implement rate limiting at the reverse proxy level (e.g., Nginx).</p>\n<h2>CORS</h2>\n<p>The API supports CORS for all origins in development mode:</p>\n<div class=\"code-block-placeholder\" data-index=\"10\"></div>\n<h2>Pagination</h2>\n<p>List endpoints support pagination via query parameters:</p>\n<div class=\"code-block-placeholder\" data-index=\"11\"></div>\n<p>Default limit is 100 items per page.</p>\n<h2>Examples</h2>\n<h3>Create User and Check Balance</h3>\n<div class=\"code-block-placeholder\" data-index=\"12\"></div>\n<h2>Next Steps</h2>\n<ul>\n<li><a href=\"/tana-api/identity/\">Identity API</a> - Mobile QR code authentication</li>\n<li><a href=\"/tana-api/users/\">Users API</a> - User account management</li>\n<li><a href=\"/tana-api/balances/\">Balances API</a> - Balance queries and updates</li>\n<li><a href=\"/tana-api/transactions/\">Transactions API</a> - Transaction creation and queries</li>\n<li><a href=\"/tana-api/blocks/\">Blocks API</a> - Blockchain queries</li>\n<li><a href=\"/tana-api/contracts/\">Contracts API</a> - Smart contract deployment</li>\n<li><a href=\"/tana-cli/intro/\">CLI Reference</a> - Command-line interface</li>\n</ul>\n",
    "codeBlocks": [
      {
        "lang": "text",
        "code": "http://localhost:8080"
      },
      {
        "lang": "text",
        "code": "http://localhost:8090"
      },
      {
        "lang": "json",
        "code": "{\n  \"type\": \"transfer\",\n  \"from\": \"usr_abc123\",\n  \"to\": \"usr_xyz789\",\n  \"timestamp\": 1699459200,\n  \"nonce\": 42,\n  \"amount\": \"100\",\n  \"currencyCode\": \"USD\",\n  \"signature\": \"ed25519_sig_...\"\n}"
      },
      {
        "lang": "typescript",
        "code": "import {\n  signMessage,\n  createTransactionMessage\n} from '@tananetwork/crypto'\n\n// 1. Create canonical transaction message\nconst tx = {\n  type: 'transfer',\n  from: 'usr_abc123',\n  to: 'usr_xyz789',\n  timestamp: Date.now(),\n  nonce: 42,\n  amount: '100',\n  currencyCode: 'USD'\n}\n\n// 2. Sign with private key (SHA-256 + Ed25519)\nconst message = createTransactionMessage(tx)\nconst signature = await signMessage(message, privateKey)\n\n// 3. Send to API with signature\nPOST /transactions {\n  ...tx,\n  signature\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"data\": { ... },\n  \"status\": \"success\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Error message describing what went wrong\",\n  \"timestamp\": \"2024-11-07T00:00:00.000Z\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/health"
      },
      {
        "lang": "json",
        "code": "{\n  \"status\": \"ok\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/"
      },
      {
        "lang": "json",
        "code": "{\n  \"service\": \"tana-ledger\",\n  \"version\": \"0.1.0\",\n  \"status\": \"healthy\",\n  \"timestamp\": \"2024-11-07T00:00:00.000Z\"\n}"
      },
      {
        "lang": "text",
        "code": "Access-Control-Allow-Origin: *\nAccess-Control-Allow-Credentials: true"
      },
      {
        "lang": "bash",
        "code": "GET /users?page=1&limit=20"
      },
      {
        "lang": "bash",
        "code": "# 1. Create user\ncurl -X POST http://localhost:8080/users \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"publicKey\": \"ed25519_abc123...\",\n    \"username\": \"@alice\",\n    \"displayName\": \"Alice Johnson\"\n  }'\n\n# Response:\n# {\n#   \"userId\": \"user_xyz789\",\n#   \"transactionId\": \"tx_abc123\",\n#   \"status\": \"pending\"\n# }\n\n# 2. Get balance (after block inclusion)\ncurl \"http://localhost:8080/balances?ownerId=user_xyz789&currencyCode=USD\"\n\n# Response:\n# {\n#   \"ownerId\": \"user_xyz789\",\n#   \"ownerType\": \"user\",\n#   \"currencyCode\": \"USD\",\n#   \"amount\": \"1000.00\",\n#   \"updatedAt\": \"2024-11-07T00:00:00.000Z\"\n# }"
      }
    ]
  },
  {
    "slug": [
      "rate-limit"
    ],
    "metadata": {
      "title": "rate limits",
      "description": "A reference page in my new Starlight docs site."
    },
    "content": "\nReference pages are ideal for outlining how things work in terse and clear terms.\nLess concerned with telling a story or addressing a specific use case, they should give a comprehensive outline of what you're documenting.\n",
    "html": "<p>Reference pages are ideal for outlining how things work in terse and clear terms.\nLess concerned with telling a story or addressing a specific use case, they should give a comprehensive outline of what you're documenting.</p>\n",
    "codeBlocks": []
  },
  {
    "slug": [
      "transactions",
      "index"
    ],
    "metadata": {
      "title": "/transactions",
      "description": "Manage blockchain transactions"
    },
    "content": "\nCreate and query transactions on the blockchain. Transactions remain in a pending state until included in a block.\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/transactions</b></code> <code>(get all transactions)</code></summary>\n\n### Request\n\n```bash\ncurl \"http://localhost:8080/transactions?limit=50&offset=0\"\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>number</td>\n    <td>optional (default: 100)</td>\n  </tr>\n <tr>\n    <td>**offset**</td>\n    <td>number</td>\n    <td>optional (default: 0)</td>\n  </tr>\n</table>\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n[\n  {\n    \"id\": \"tx_1a2b3c4d5e6f\",\n    \"from\": \"usr_abc123\",\n    \"to\": \"usr_def456\",\n    \"amount\": \"100.00\",\n    \"currencyCode\": \"USD\",\n    \"type\": \"transfer\",\n    \"status\": \"confirmed\",\n    \"blockId\": \"blk_xyz789\",\n    \"signature\": \"sig_...\",\n    \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n    \"confirmedAt\": \"2024-11-08T12:00:06.000Z\"\n  }\n]\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [x] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/transactions</b></code> <code>(create transaction)</code></summary>\n\n### Request\n\n```bash\ncurl -X POST http://localhost:8080/transactions \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"from\": \"usr_abc123\",\n    \"to\": \"usr_def456\",\n    \"amount\": \"100.00\",\n    \"currencyCode\": \"USD\",\n    \"type\": \"transfer\",\n    \"signature\": \"sig_...\"\n  }'\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**from**</td>\n    <td>string (UUID)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**to**</td>\n    <td>string (UUID)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**amount**</td>\n    <td>string (decimal)</td>\n    <td>optional*</td>\n  </tr>\n <tr>\n    <td>**currencyCode**</td>\n    <td>string</td>\n    <td>optional*</td>\n  </tr>\n <tr>\n    <td>**type**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**signature**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**contractId**</td>\n    <td>string (UUID)</td>\n    <td>optional</td>\n  </tr>\n <tr>\n    <td>**contractInput**</td>\n    <td>object</td>\n    <td>optional</td>\n  </tr>\n</table>\n\n**Transaction types:** `transfer`, `deposit`, `withdraw`, `contract_call`, `user_creation`, `contract_deployment`\n\n*Required for transfer/deposit/withdraw types\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>201</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"tx_1a2b3c4d5e6f\",\n  \"from\": \"usr_abc123\",\n  \"to\": \"usr_def456\",\n  \"amount\": \"100.00\",\n  \"currencyCode\": \"USD\",\n  \"type\": \"transfer\",\n  \"status\": \"pending\",\n  \"signature\": \"sig_...\",\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Insufficient balance\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [x] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/transactions/:id</b></code> <code>(get transaction)</code></summary>\n\n### Request\n\n```bash\ncurl http://localhost:8080/transactions/tx_1a2b3c4d5e6f\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>string</td>\n    <td>required (URL param)</td>\n  </tr>\n</table>\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"tx_1a2b3c4d5e6f\",\n  \"from\": \"usr_abc123\",\n  \"to\": \"usr_def456\",\n  \"amount\": \"100.00\",\n  \"currencyCode\": \"USD\",\n  \"type\": \"transfer\",\n  \"status\": \"confirmed\",\n  \"blockId\": \"blk_xyz789\",\n  \"signature\": \"sig_...\",\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n  \"confirmedAt\": \"2024-11-08T12:00:06.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Transaction not found\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [x] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/transactions/:id/confirm</b></code> <code>(confirm transaction)</code></summary>\n\n### Request\n\n```bash\ncurl -X POST http://localhost:8080/transactions/tx_1a2b3c4d5e6f/confirm \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"id\": \"tx_1a2b3c4d5e6f\",\n    \"blockId\": \"blk_xyz789\"\n  }'\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>string (UUID)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**blockId**</td>\n    <td>string (UUID)</td>\n    <td>optional</td>\n  </tr>\n</table>\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"tx_1a2b3c4d5e6f\",\n  \"from\": \"usr_abc123\",\n  \"to\": \"usr_def456\",\n  \"amount\": \"100.00\",\n  \"currencyCode\": \"USD\",\n  \"type\": \"transfer\",\n  \"status\": \"confirmed\",\n  \"blockId\": \"blk_xyz789\",\n  \"signature\": \"sig_...\",\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n  \"confirmedAt\": \"2024-11-08T12:00:06.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Transaction already confirmed\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [ ] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [x] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/transactions/pending</b></code> <code>(get pending transactions)</code></summary>\n\n### Request\n\n```bash\ncurl \"http://localhost:8080/transactions/pending?limit=100\"\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>number</td>\n    <td>optional (default: 100)</td>\n  </tr>\n</table>\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n[\n  {\n    \"id\": \"tx_1a2b3c4d5e6f\",\n    \"from\": \"usr_abc123\",\n    \"to\": \"usr_def456\",\n    \"amount\": \"100.00\",\n    \"currencyCode\": \"USD\",\n    \"type\": \"transfer\",\n    \"status\": \"pending\",\n    \"signature\": \"sig_...\",\n    \"createdAt\": \"2024-11-08T12:00:00.000Z\"\n  }\n]\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [x] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/transactions/account/:accountId</b></code> <code>(get account transactions)</code></summary>\n\n### Request\n\n```bash\ncurl \"http://localhost:8080/transactions/account/usr_abc123?limit=50&offset=0\"\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**accountId**</td>\n    <td>string</td>\n    <td>required (URL param)</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>number</td>\n    <td>optional (default: 50)</td>\n  </tr>\n <tr>\n    <td>**offset**</td>\n    <td>number</td>\n    <td>optional (default: 0)</td>\n  </tr>\n</table>\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n[\n  {\n    \"id\": \"tx_1a2b3c4d5e6f\",\n    \"from\": \"usr_abc123\",\n    \"to\": \"usr_def456\",\n    \"amount\": \"100.00\",\n    \"currencyCode\": \"USD\",\n    \"type\": \"transfer\",\n    \"status\": \"confirmed\",\n    \"blockId\": \"blk_xyz789\",\n    \"signature\": \"sig_...\",\n    \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n    \"confirmedAt\": \"2024-11-08T12:00:06.000Z\"\n  }\n]\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [x] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [ ] Admin\n\n</details>\n\n### Method Not Allowed\n\nThe following methods are not supported:\n\n<code className=\"text-orange-400\">PUT</code> <code className=\"text-red-400\">DELETE</code> <code className=\"text-purple-400\">PATCH</code>\n",
    "html": "<p>Create and query transactions on the blockchain. Transactions remain in a pending state until included in a block.</p>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/transactions</b></code> <code>(get all transactions)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"0\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>number</td>\n    <td>optional (default: 100)</td>\n  </tr>\n <tr>\n    <td>**offset**</td>\n    <td>number</td>\n    <td>optional (default: 0)</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"1\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[x] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/transactions</b></code> <code>(create transaction)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"2\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**from**</td>\n    <td>string (UUID)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**to**</td>\n    <td>string (UUID)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**amount**</td>\n    <td>string (decimal)</td>\n    <td>optional*</td>\n  </tr>\n <tr>\n    <td>**currencyCode**</td>\n    <td>string</td>\n    <td>optional*</td>\n  </tr>\n <tr>\n    <td>**type**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**signature**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**contractId**</td>\n    <td>string (UUID)</td>\n    <td>optional</td>\n  </tr>\n <tr>\n    <td>**contractInput**</td>\n    <td>object</td>\n    <td>optional</td>\n  </tr>\n</table>\n<p><strong>Transaction types:</strong> <code>transfer</code>, <code>deposit</code>, <code>withdraw</code>, <code>contract_call</code>, <code>user_creation</code>, <code>contract_deployment</code></p>\n<p>*Required for transfer/deposit/withdraw types</p>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>201</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"3\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"4\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[x] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/transactions/:id</b></code> <code>(get transaction)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"5\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>string</td>\n    <td>required (URL param)</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"6\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"7\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[x] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/transactions/:id/confirm</b></code> <code>(confirm transaction)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"8\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>string (UUID)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**blockId**</td>\n    <td>string (UUID)</td>\n    <td>optional</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"9\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"10\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[ ] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[x] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/transactions/pending</b></code> <code>(get pending transactions)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"11\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>number</td>\n    <td>optional (default: 100)</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"12\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[x] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/transactions/account/:accountId</b></code> <code>(get account transactions)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"13\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**accountId**</td>\n    <td>string</td>\n    <td>required (URL param)</td>\n  </tr>\n <tr>\n    <td>**limit**</td>\n    <td>number</td>\n    <td>optional (default: 50)</td>\n  </tr>\n <tr>\n    <td>**offset**</td>\n    <td>number</td>\n    <td>optional (default: 0)</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"14\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[x] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<h3>Method Not Allowed</h3>\n<p>The following methods are not supported:</p>\n<p><code className=\"text-orange-400\">PUT</code> <code className=\"text-red-400\">DELETE</code> <code className=\"text-purple-400\">PATCH</code></p>\n",
    "codeBlocks": [
      {
        "lang": "bash",
        "code": "curl \"http://localhost:8080/transactions?limit=50&offset=0\""
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"id\": \"tx_1a2b3c4d5e6f\",\n    \"from\": \"usr_abc123\",\n    \"to\": \"usr_def456\",\n    \"amount\": \"100.00\",\n    \"currencyCode\": \"USD\",\n    \"type\": \"transfer\",\n    \"status\": \"confirmed\",\n    \"blockId\": \"blk_xyz789\",\n    \"signature\": \"sig_...\",\n    \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n    \"confirmedAt\": \"2024-11-08T12:00:06.000Z\"\n  }\n]"
      },
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8080/transactions \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"from\": \"usr_abc123\",\n    \"to\": \"usr_def456\",\n    \"amount\": \"100.00\",\n    \"currencyCode\": \"USD\",\n    \"type\": \"transfer\",\n    \"signature\": \"sig_...\"\n  }'"
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"tx_1a2b3c4d5e6f\",\n  \"from\": \"usr_abc123\",\n  \"to\": \"usr_def456\",\n  \"amount\": \"100.00\",\n  \"currencyCode\": \"USD\",\n  \"type\": \"transfer\",\n  \"status\": \"pending\",\n  \"signature\": \"sig_...\",\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Insufficient balance\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/transactions/tx_1a2b3c4d5e6f"
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"tx_1a2b3c4d5e6f\",\n  \"from\": \"usr_abc123\",\n  \"to\": \"usr_def456\",\n  \"amount\": \"100.00\",\n  \"currencyCode\": \"USD\",\n  \"type\": \"transfer\",\n  \"status\": \"confirmed\",\n  \"blockId\": \"blk_xyz789\",\n  \"signature\": \"sig_...\",\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n  \"confirmedAt\": \"2024-11-08T12:00:06.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Transaction not found\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8080/transactions/tx_1a2b3c4d5e6f/confirm \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"id\": \"tx_1a2b3c4d5e6f\",\n    \"blockId\": \"blk_xyz789\"\n  }'"
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"tx_1a2b3c4d5e6f\",\n  \"from\": \"usr_abc123\",\n  \"to\": \"usr_def456\",\n  \"amount\": \"100.00\",\n  \"currencyCode\": \"USD\",\n  \"type\": \"transfer\",\n  \"status\": \"confirmed\",\n  \"blockId\": \"blk_xyz789\",\n  \"signature\": \"sig_...\",\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n  \"confirmedAt\": \"2024-11-08T12:00:06.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Transaction already confirmed\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl \"http://localhost:8080/transactions/pending?limit=100\""
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"id\": \"tx_1a2b3c4d5e6f\",\n    \"from\": \"usr_abc123\",\n    \"to\": \"usr_def456\",\n    \"amount\": \"100.00\",\n    \"currencyCode\": \"USD\",\n    \"type\": \"transfer\",\n    \"status\": \"pending\",\n    \"signature\": \"sig_...\",\n    \"createdAt\": \"2024-11-08T12:00:00.000Z\"\n  }\n]"
      },
      {
        "lang": "bash",
        "code": "curl \"http://localhost:8080/transactions/account/usr_abc123?limit=50&offset=0\""
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"id\": \"tx_1a2b3c4d5e6f\",\n    \"from\": \"usr_abc123\",\n    \"to\": \"usr_def456\",\n    \"amount\": \"100.00\",\n    \"currencyCode\": \"USD\",\n    \"type\": \"transfer\",\n    \"status\": \"confirmed\",\n    \"blockId\": \"blk_xyz789\",\n    \"signature\": \"sig_...\",\n    \"createdAt\": \"2024-11-08T12:00:00.000Z\",\n    \"confirmedAt\": \"2024-11-08T12:00:06.000Z\"\n  }\n]"
      }
    ]
  },
  {
    "slug": [
      "users",
      "create"
    ],
    "metadata": {
      "title": "/users",
      "description": "Create a new user on the blockchain"
    },
    "content": "\nCreate a new user account by submitting a user creation transaction. The transaction will be pending until included in a block.\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/users</b></code> <code>(create user)</code></summary>\n\n### Request\n\n```bash\ncurl -X POST http://localhost:8080/users \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"publicKey\": \"ed25519_abc123...\",\n    \"username\": \"@alice\",\n    \"displayName\": \"Alice Johnson\",\n    \"bio\": \"Software developer\"\n  }'\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**publicKey**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**username**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**displayName**</td>\n    <td>string</td>\n    <td>optional</td>\n  </tr>\n <tr>\n    <td>**bio**</td>\n    <td>string</td>\n    <td>optional</td>\n  </tr>\n</table>\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>201</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"userId\": \"usr_1a2b3c4d5e6f\",\n  \"transactionId\": \"tx_7g8h9i0j1k2l\",\n  \"status\": \"pending\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [x] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/users</b></code> <code>(list users)</code></summary>\n\n### Request\n\n```bash\ncurl http://localhost:8080/users\n```\n\n### Parameters\n\nNone\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n[\n  {\n    \"id\": \"usr_1a2b3c4d5e6f\",\n    \"username\": \"@alice\",\n    \"displayName\": \"Alice Johnson\",\n    \"publicKey\": \"ed25519_abc123...\",\n    \"bio\": \"Software developer\",\n    \"createdAt\": \"2024-11-07T12:00:00.000Z\"\n  }\n]\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [x] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/users/:id</b></code> <code>(get user by ID)</code></summary>\n\n### Request\n\n```bash\ncurl http://localhost:8080/users/usr_1a2b3c4d5e6f\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>string</td>\n    <td>required (URL param)</td>\n  </tr>\n</table>\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"usr_1a2b3c4d5e6f\",\n  \"username\": \"@alice\",\n  \"displayName\": \"Alice Johnson\",\n  \"publicKey\": \"ed25519_abc123...\",\n  \"bio\": \"Software developer\",\n  \"createdAt\": \"2024-11-07T12:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"User not found\",\n  \"timestamp\": \"2024-11-07T12:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [x] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/users/username/:username</b></code> <code>(get user by username)</code></summary>\n\n### Request\n\n```bash\ncurl http://localhost:8080/users/username/@alice\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**username**</td>\n    <td>string</td>\n    <td>required (URL param)</td>\n  </tr>\n</table>\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"usr_1a2b3c4d5e6f\",\n  \"username\": \"@alice\",\n  \"displayName\": \"Alice Johnson\",\n  \"publicKey\": \"ed25519_abc123...\",\n  \"bio\": \"Software developer\",\n  \"createdAt\": \"2024-11-07T12:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"User not found\",\n  \"timestamp\": \"2024-11-07T12:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [x] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-purple-400\">PATCH</code> <code><b>/users/:id</b></code> <code>(update user)</code></summary>\n\n### Request\n\n```bash\ncurl -X PATCH http://localhost:8080/users/usr_1a2b3c4d5e6f \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"displayName\": \"Alice Smith\",\n    \"bio\": \"Senior Software Developer\"\n  }'\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>string</td>\n    <td>required (URL param)</td>\n  </tr>\n <tr>\n    <td>**displayName**</td>\n    <td>string</td>\n    <td>optional</td>\n  </tr>\n <tr>\n    <td>**bio**</td>\n    <td>string</td>\n    <td>optional</td>\n  </tr>\n <tr>\n    <td>**avatarData**</td>\n    <td>string</td>\n    <td>optional</td>\n  </tr>\n <tr>\n    <td>**landingPageId**</td>\n    <td>string (UUID)</td>\n    <td>optional</td>\n  </tr>\n</table>\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"id\": \"usr_1a2b3c4d5e6f\",\n  \"username\": \"@alice\",\n  \"displayName\": \"Alice Smith\",\n  \"publicKey\": \"ed25519_abc123...\",\n  \"bio\": \"Senior Software Developer\",\n  \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"User not found\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [ ] Public\n- [ ] Community\n- [ ] Team\n- [x] Self\n- [x] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-red-400\">DELETE</code> <code><b>/users/:id</b></code> <code>(delete user)</code></summary>\n\n### Request\n\n```bash\ncurl -X DELETE http://localhost:8080/users/usr_1a2b3c4d5e6f\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>string</td>\n    <td>required (URL param)</td>\n  </tr>\n</table>\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"message\": \"User deleted\",\n  \"user\": {\n    \"id\": \"usr_1a2b3c4d5e6f\",\n    \"username\": \"@alice\"\n  }\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"User not found\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [ ] Public\n- [ ] Community\n- [ ] Team\n- [x] Self\n- [x] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/users/:id/balances</b></code> <code>(get user balances)</code></summary>\n\n### Request\n\n```bash\ncurl http://localhost:8080/users/usr_1a2b3c4d5e6f/balances\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>string</td>\n    <td>required (URL param)</td>\n  </tr>\n</table>\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n[\n  {\n    \"ownerId\": \"usr_1a2b3c4d5e6f\",\n    \"ownerType\": \"user\",\n    \"currencyCode\": \"USD\",\n    \"balance\": \"1000.50\"\n  },\n  {\n    \"ownerId\": \"usr_1a2b3c4d5e6f\",\n    \"ownerType\": \"user\",\n    \"currencyCode\": \"ETH\",\n    \"balance\": \"2.5\"\n  }\n]\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"User not found\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [x] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [ ] Admin\n\n</details>\n\n### Method Not Allowed\n\nThe following methods are not supported:\n\n<code className=\"text-orange-400\">PUT</code>\n",
    "html": "<p>Create a new user account by submitting a user creation transaction. The transaction will be pending until included in a block.</p>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/users</b></code> <code>(create user)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"0\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**publicKey**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**username**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**displayName**</td>\n    <td>string</td>\n    <td>optional</td>\n  </tr>\n <tr>\n    <td>**bio**</td>\n    <td>string</td>\n    <td>optional</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>201</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"1\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[x] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/users</b></code> <code>(list users)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"2\"></div>\n<h3>Parameters</h3>\n<p>None</p>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"3\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[x] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/users/:id</b></code> <code>(get user by ID)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"4\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>string</td>\n    <td>required (URL param)</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"5\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"6\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[x] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/users/username/:username</b></code> <code>(get user by username)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"7\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**username**</td>\n    <td>string</td>\n    <td>required (URL param)</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"8\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"9\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[x] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-purple-400\">PATCH</code> <code><b>/users/:id</b></code> <code>(update user)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"10\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>string</td>\n    <td>required (URL param)</td>\n  </tr>\n <tr>\n    <td>**displayName**</td>\n    <td>string</td>\n    <td>optional</td>\n  </tr>\n <tr>\n    <td>**bio**</td>\n    <td>string</td>\n    <td>optional</td>\n  </tr>\n <tr>\n    <td>**avatarData**</td>\n    <td>string</td>\n    <td>optional</td>\n  </tr>\n <tr>\n    <td>**landingPageId**</td>\n    <td>string (UUID)</td>\n    <td>optional</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"11\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"12\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[ ] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[x] Self</li>\n<li>[x] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-red-400\">DELETE</code> <code><b>/users/:id</b></code> <code>(delete user)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"13\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>string</td>\n    <td>required (URL param)</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"14\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"15\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[ ] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[x] Self</li>\n<li>[x] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/users/:id/balances</b></code> <code>(get user balances)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"16\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**id**</td>\n    <td>string</td>\n    <td>required (URL param)</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"17\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>404</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"18\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[x] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<h3>Method Not Allowed</h3>\n<p>The following methods are not supported:</p>\n<p><code className=\"text-orange-400\">PUT</code></p>\n",
    "codeBlocks": [
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8080/users \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"publicKey\": \"ed25519_abc123...\",\n    \"username\": \"@alice\",\n    \"displayName\": \"Alice Johnson\",\n    \"bio\": \"Software developer\"\n  }'"
      },
      {
        "lang": "json",
        "code": "{\n  \"userId\": \"usr_1a2b3c4d5e6f\",\n  \"transactionId\": \"tx_7g8h9i0j1k2l\",\n  \"status\": \"pending\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/users"
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"id\": \"usr_1a2b3c4d5e6f\",\n    \"username\": \"@alice\",\n    \"displayName\": \"Alice Johnson\",\n    \"publicKey\": \"ed25519_abc123...\",\n    \"bio\": \"Software developer\",\n    \"createdAt\": \"2024-11-07T12:00:00.000Z\"\n  }\n]"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/users/usr_1a2b3c4d5e6f"
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"usr_1a2b3c4d5e6f\",\n  \"username\": \"@alice\",\n  \"displayName\": \"Alice Johnson\",\n  \"publicKey\": \"ed25519_abc123...\",\n  \"bio\": \"Software developer\",\n  \"createdAt\": \"2024-11-07T12:00:00.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"User not found\",\n  \"timestamp\": \"2024-11-07T12:00:00.000Z\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/users/username/@alice"
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"usr_1a2b3c4d5e6f\",\n  \"username\": \"@alice\",\n  \"displayName\": \"Alice Johnson\",\n  \"publicKey\": \"ed25519_abc123...\",\n  \"bio\": \"Software developer\",\n  \"createdAt\": \"2024-11-07T12:00:00.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"User not found\",\n  \"timestamp\": \"2024-11-07T12:00:00.000Z\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl -X PATCH http://localhost:8080/users/usr_1a2b3c4d5e6f \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"displayName\": \"Alice Smith\",\n    \"bio\": \"Senior Software Developer\"\n  }'"
      },
      {
        "lang": "json",
        "code": "{\n  \"id\": \"usr_1a2b3c4d5e6f\",\n  \"username\": \"@alice\",\n  \"displayName\": \"Alice Smith\",\n  \"publicKey\": \"ed25519_abc123...\",\n  \"bio\": \"Senior Software Developer\",\n  \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"User not found\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl -X DELETE http://localhost:8080/users/usr_1a2b3c4d5e6f"
      },
      {
        "lang": "json",
        "code": "{\n  \"message\": \"User deleted\",\n  \"user\": {\n    \"id\": \"usr_1a2b3c4d5e6f\",\n    \"username\": \"@alice\"\n  }\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"User not found\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/users/usr_1a2b3c4d5e6f/balances"
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"ownerId\": \"usr_1a2b3c4d5e6f\",\n    \"ownerType\": \"user\",\n    \"currencyCode\": \"USD\",\n    \"balance\": \"1000.50\"\n  },\n  {\n    \"ownerId\": \"usr_1a2b3c4d5e6f\",\n    \"ownerType\": \"user\",\n    \"currencyCode\": \"ETH\",\n    \"balance\": \"2.5\"\n  }\n]"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"User not found\"\n}"
      }
    ]
  },
  {
    "slug": [
      "users",
      "signin"
    ],
    "metadata": {
      "title": "/users/signin",
      "description": "documentation for the endpoint"
    },
    "content": "\nwhen given a user identifier (username, email, or phone number) and password as input, this endpoint will return a token if the information is valid\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/users/signin</b></code> <code>(authenticate user)</code></summary>\n\n### Request\n\n```javascript\ncurl https://api.conoda.co/users/signin\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**user**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**password**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n</table>\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"conoda/addis\": \"v1.0.0\",\n  \"api\": \"v1\",\n  \"location\": \"seattle\",\n  \"server-id\": \"9x93jv35\",\n  \"rate-limit-remaining\": 1000,\n  \"rate-limit-reset\": 1684830400,\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [ ] Public\n- [ ] Community\n- [ ] Team\n- [x] Self\n- [x] Admin\n\n</details>\n\n### Method Not Allowed\n\nsending a request with the following methods to this endpoint will return an 405 error\n\n<code className=\"text-blue-400\">GET</code> <code className=\"text-orange-400\">PUT</code> <code className=\"text-red-400\">DELETE</code>\n",
    "html": "<p>when given a user identifier (username, email, or phone number) and password as input, this endpoint will return a token if the information is valid</p>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/users/signin</b></code> <code>(authenticate user)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"0\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**user**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**password**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"1\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[ ] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[x] Self</li>\n<li>[x] Admin</li>\n</ul>\n</details>\n<h3>Method Not Allowed</h3>\n<p>sending a request with the following methods to this endpoint will return an 405 error</p>\n<p><code className=\"text-blue-400\">GET</code> <code className=\"text-orange-400\">PUT</code> <code className=\"text-red-400\">DELETE</code></p>\n",
    "codeBlocks": [
      {
        "lang": "javascript",
        "code": "curl https://api.conoda.co/users/signin"
      },
      {
        "lang": "json",
        "code": "{\n  \"conoda/addis\": \"v1.0.0\",\n  \"api\": \"v1\",\n  \"location\": \"seattle\",\n  \"server-id\": \"9x93jv35\",\n  \"rate-limit-remaining\": 1000,\n  \"rate-limit-reset\": 1684830400,\n}"
      }
    ]
  },
  {
    "slug": [
      "balances",
      "index"
    ],
    "metadata": {
      "title": "/balances",
      "description": "Manage account balances and currencies"
    },
    "content": "\nManage balances for users and teams across multiple currencies. All balance amounts are stored as strings to preserve decimal precision.\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/balances</b></code> <code>(get all balances or specific balance)</code></summary>\n\n### Request\n\n**Get all balances:**\n```bash\ncurl http://localhost:8080/balances\n```\n\n**Get specific balance:**\n```bash\ncurl \"http://localhost:8080/balances?ownerId=usr_1a2b3c4d5e6f&ownerType=user&currencyCode=USD\"\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**ownerId**</td>\n    <td>string (UUID)</td>\n    <td>optional (query param)</td>\n  </tr>\n <tr>\n    <td>**ownerType**</td>\n    <td>string (user | team)</td>\n    <td>optional (query param)</td>\n  </tr>\n <tr>\n    <td>**currencyCode**</td>\n    <td>string</td>\n    <td>optional (query param)</td>\n  </tr>\n</table>\n\n**Note:** If any query parameter is provided, all three (ownerId, ownerType, currencyCode) are required.\n\n### Response\n\n**All balances (no query params):**\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n[\n  {\n    \"ownerId\": \"usr_1a2b3c4d5e6f\",\n    \"ownerType\": \"user\",\n    \"currencyCode\": \"USD\",\n    \"balance\": \"1000.50\",\n    \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n  },\n  {\n    \"ownerId\": \"usr_1a2b3c4d5e6f\",\n    \"ownerType\": \"user\",\n    \"currencyCode\": \"ETH\",\n    \"balance\": \"2.5\",\n    \"updatedAt\": \"2024-11-08T11:30:00.000Z\"\n  }\n]\n```\n\n</td>\n  </tr>\n</table>\n\n**Specific balance (with query params):**\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"ownerId\": \"usr_1a2b3c4d5e6f\",\n  \"ownerType\": \"user\",\n  \"currencyCode\": \"USD\",\n  \"balance\": \"1000.50\",\n  \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Missing required query parameters: ownerId, ownerType, currencyCode\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n**If balance doesn't exist:**\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"balance\": \"0\",\n  \"currencyCode\": \"USD\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [x] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/balances</b></code> <code>(set balance)</code></summary>\n\n### Request\n\n```bash\ncurl -X POST http://localhost:8080/balances \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"ownerId\": \"usr_1a2b3c4d5e6f\",\n    \"ownerType\": \"user\",\n    \"currencyCode\": \"USD\",\n    \"amount\": \"1500.75\"\n  }'\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**ownerId**</td>\n    <td>string (UUID)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**ownerType**</td>\n    <td>string (user | team)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**currencyCode**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**amount**</td>\n    <td>string (decimal)</td>\n    <td>required</td>\n  </tr>\n</table>\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>201</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"ownerId\": \"usr_1a2b3c4d5e6f\",\n  \"ownerType\": \"user\",\n  \"currencyCode\": \"USD\",\n  \"balance\": \"1500.75\",\n  \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Amount must be a valid decimal number\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [ ] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [x] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/balances/currencies</b></code> <code>(list all currencies)</code></summary>\n\n### Request\n\n```bash\ncurl http://localhost:8080/balances/currencies\n```\n\n### Parameters\n\nNone\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n[\n  {\n    \"code\": \"USD\",\n    \"type\": \"fiat\",\n    \"decimals\": 2,\n    \"name\": \"US Dollar\",\n    \"symbol\": \"$\",\n    \"verified\": true\n  },\n  {\n    \"code\": \"ETH\",\n    \"type\": \"crypto\",\n    \"decimals\": 18,\n    \"name\": \"Ethereum\",\n    \"symbol\": \"Ξ\",\n    \"verified\": true\n  }\n]\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [x] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [ ] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/balances/currencies</b></code> <code>(create currency)</code></summary>\n\n### Request\n\n```bash\ncurl -X POST http://localhost:8080/balances/currencies \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"code\": \"BTC\",\n    \"type\": \"crypto\",\n    \"decimals\": 8,\n    \"name\": \"Bitcoin\",\n    \"symbol\": \"₿\",\n    \"verified\": false\n  }'\n```\n\n### Parameters\n\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**code**</td>\n    <td>string (uppercase)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**type**</td>\n    <td>string (fiat | crypto)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**decimals**</td>\n    <td>number (0-18)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**name**</td>\n    <td>string</td>\n    <td>optional</td>\n  </tr>\n <tr>\n    <td>**symbol**</td>\n    <td>string</td>\n    <td>optional</td>\n  </tr>\n <tr>\n    <td>**verified**</td>\n    <td>boolean</td>\n    <td>optional</td>\n  </tr>\n</table>\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>201</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"code\": \"BTC\",\n  \"type\": \"crypto\",\n  \"decimals\": 8,\n  \"name\": \"Bitcoin\",\n  \"symbol\": \"₿\",\n  \"verified\": false,\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Currency code already exists\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [ ] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [x] Admin\n\n</details>\n\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/balances/currencies/seed</b></code> <code>(seed default currencies)</code></summary>\n\n### Request\n\n```bash\ncurl -X POST http://localhost:8080/balances/currencies/seed\n```\n\n### Parameters\n\nNone\n\n### Response\n\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"message\": \"Default currencies seeded\"\n}\n```\n\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n\n```json\n{\n  \"error\": \"Error seeding currencies\"\n}\n```\n\n</td>\n  </tr>\n</table>\n\n### Access Level\n\n- [ ] Public\n- [ ] Community\n- [ ] Team\n- [ ] Self\n- [x] Admin\n\n</details>\n\n### Method Not Allowed\n\nThe following methods are not supported:\n\n<code className=\"text-orange-400\">PUT</code> <code className=\"text-red-400\">DELETE</code> <code className=\"text-purple-400\">PATCH</code>\n",
    "html": "<p>Manage balances for users and teams across multiple currencies. All balance amounts are stored as strings to preserve decimal precision.</p>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/balances</b></code> <code>(get all balances or specific balance)</code></summary>\n<h3>Request</h3>\n<p><strong>Get all balances:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"0\"></div>\n<p><strong>Get specific balance:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"1\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**ownerId**</td>\n    <td>string (UUID)</td>\n    <td>optional (query param)</td>\n  </tr>\n <tr>\n    <td>**ownerType**</td>\n    <td>string (user | team)</td>\n    <td>optional (query param)</td>\n  </tr>\n <tr>\n    <td>**currencyCode**</td>\n    <td>string</td>\n    <td>optional (query param)</td>\n  </tr>\n</table>\n<p><strong>Note:</strong> If any query parameter is provided, all three (ownerId, ownerType, currencyCode) are required.</p>\n<h3>Response</h3>\n<p><strong>All balances (no query params):</strong></p>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"2\"></div>\n</td>\n  </tr>\n</table>\n<p><strong>Specific balance (with query params):</strong></p>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"3\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"4\"></div>\n</td>\n  </tr>\n</table>\n<p><strong>If balance doesn't exist:</strong></p>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"5\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[x] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/balances</b></code> <code>(set balance)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"6\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**ownerId**</td>\n    <td>string (UUID)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**ownerType**</td>\n    <td>string (user | team)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**currencyCode**</td>\n    <td>string</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**amount**</td>\n    <td>string (decimal)</td>\n    <td>required</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>201</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"7\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"8\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[ ] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[x] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-blue-400\">GET</code> <code><b>/balances/currencies</b></code> <code>(list all currencies)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"9\"></div>\n<h3>Parameters</h3>\n<p>None</p>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"10\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[x] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[ ] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/balances/currencies</b></code> <code>(create currency)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"11\"></div>\n<h3>Parameters</h3>\n<table>\n <tr>\n    <td>_parameter_</td>\n    <td>_type_</td>\n    <td>_necessity_</td>\n  </tr>\n <tr>\n    <td>**code**</td>\n    <td>string (uppercase)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**type**</td>\n    <td>string (fiat | crypto)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**decimals**</td>\n    <td>number (0-18)</td>\n    <td>required</td>\n  </tr>\n <tr>\n    <td>**name**</td>\n    <td>string</td>\n    <td>optional</td>\n  </tr>\n <tr>\n    <td>**symbol**</td>\n    <td>string</td>\n    <td>optional</td>\n  </tr>\n <tr>\n    <td>**verified**</td>\n    <td>boolean</td>\n    <td>optional</td>\n  </tr>\n</table>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>201</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"12\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"13\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[ ] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[x] Admin</li>\n</ul>\n</details>\n<details>\n <summary><code className=\"text-green-400\">POST</code> <code><b>/balances/currencies/seed</b></code> <code>(seed default currencies)</code></summary>\n<h3>Request</h3>\n<div class=\"code-block-placeholder\" data-index=\"14\"></div>\n<h3>Parameters</h3>\n<p>None</p>\n<h3>Response</h3>\n<table>\n <tr>\n    <td>http code</td>\n    <td>content-type</td>\n    <td>body</td>\n  </tr>\n  <tr>\n    <td>200</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"15\"></div>\n</td>\n  </tr>\n  <tr>\n    <td>400</td>\n    <td>application/json</td>\n<td>\n<div class=\"code-block-placeholder\" data-index=\"16\"></div>\n</td>\n  </tr>\n</table>\n<h3>Access Level</h3>\n<ul>\n<li>[ ] Public</li>\n<li>[ ] Community</li>\n<li>[ ] Team</li>\n<li>[ ] Self</li>\n<li>[x] Admin</li>\n</ul>\n</details>\n<h3>Method Not Allowed</h3>\n<p>The following methods are not supported:</p>\n<p><code className=\"text-orange-400\">PUT</code> <code className=\"text-red-400\">DELETE</code> <code className=\"text-purple-400\">PATCH</code></p>\n",
    "codeBlocks": [
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/balances"
      },
      {
        "lang": "bash",
        "code": "curl \"http://localhost:8080/balances?ownerId=usr_1a2b3c4d5e6f&ownerType=user&currencyCode=USD\""
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"ownerId\": \"usr_1a2b3c4d5e6f\",\n    \"ownerType\": \"user\",\n    \"currencyCode\": \"USD\",\n    \"balance\": \"1000.50\",\n    \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n  },\n  {\n    \"ownerId\": \"usr_1a2b3c4d5e6f\",\n    \"ownerType\": \"user\",\n    \"currencyCode\": \"ETH\",\n    \"balance\": \"2.5\",\n    \"updatedAt\": \"2024-11-08T11:30:00.000Z\"\n  }\n]"
      },
      {
        "lang": "json",
        "code": "{\n  \"ownerId\": \"usr_1a2b3c4d5e6f\",\n  \"ownerType\": \"user\",\n  \"currencyCode\": \"USD\",\n  \"balance\": \"1000.50\",\n  \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Missing required query parameters: ownerId, ownerType, currencyCode\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"balance\": \"0\",\n  \"currencyCode\": \"USD\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8080/balances \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"ownerId\": \"usr_1a2b3c4d5e6f\",\n    \"ownerType\": \"user\",\n    \"currencyCode\": \"USD\",\n    \"amount\": \"1500.75\"\n  }'"
      },
      {
        "lang": "json",
        "code": "{\n  \"ownerId\": \"usr_1a2b3c4d5e6f\",\n  \"ownerType\": \"user\",\n  \"currencyCode\": \"USD\",\n  \"balance\": \"1500.75\",\n  \"updatedAt\": \"2024-11-08T12:00:00.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Amount must be a valid decimal number\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl http://localhost:8080/balances/currencies"
      },
      {
        "lang": "json",
        "code": "[\n  {\n    \"code\": \"USD\",\n    \"type\": \"fiat\",\n    \"decimals\": 2,\n    \"name\": \"US Dollar\",\n    \"symbol\": \"$\",\n    \"verified\": true\n  },\n  {\n    \"code\": \"ETH\",\n    \"type\": \"crypto\",\n    \"decimals\": 18,\n    \"name\": \"Ethereum\",\n    \"symbol\": \"Ξ\",\n    \"verified\": true\n  }\n]"
      },
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8080/balances/currencies \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"code\": \"BTC\",\n    \"type\": \"crypto\",\n    \"decimals\": 8,\n    \"name\": \"Bitcoin\",\n    \"symbol\": \"₿\",\n    \"verified\": false\n  }'"
      },
      {
        "lang": "json",
        "code": "{\n  \"code\": \"BTC\",\n  \"type\": \"crypto\",\n  \"decimals\": 8,\n  \"name\": \"Bitcoin\",\n  \"symbol\": \"₿\",\n  \"verified\": false,\n  \"createdAt\": \"2024-11-08T12:00:00.000Z\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Currency code already exists\"\n}"
      },
      {
        "lang": "bash",
        "code": "curl -X POST http://localhost:8080/balances/currencies/seed"
      },
      {
        "lang": "json",
        "code": "{\n  \"message\": \"Default currencies seeded\"\n}"
      },
      {
        "lang": "json",
        "code": "{\n  \"error\": \"Error seeding currencies\"\n}"
      }
    ]
  },
  {
    "slug": [
      "keys",
      "id"
    ],
    "metadata": {
      "title": "/keys/{:id}",
      "description": "A reference page in my new Starlight docs site."
    },
    "content": "\nReference pages are ideal for outlining how things work in terse and clear terms.\nLess concerned with telling a story or addressing a specific use case, they should give a comprehensive outline of what you're documenting.\n\n## Further reading\n\n- Read [about reference](https://diataxis.fr/reference/) in the Diátaxis framework\n",
    "html": "<p>Reference pages are ideal for outlining how things work in terse and clear terms.\nLess concerned with telling a story or addressing a specific use case, they should give a comprehensive outline of what you're documenting.</p>\n<h2>Further reading</h2>\n<ul>\n<li>Read <a href=\"https://diataxis.fr/reference/\">about reference</a> in the Diátaxis framework</li>\n</ul>\n",
    "codeBlocks": []
  },
  {
    "slug": [
      "keys",
      "index"
    ],
    "metadata": {
      "title": "/keys",
      "description": "A reference page in my new Starlight docs site."
    },
    "content": "\nReference pages are ideal for outlining how things work in terse and clear terms.\nLess concerned with telling a story or addressing a specific use case, they should give a comprehensive outline of what you're documenting.",
    "html": "<p>Reference pages are ideal for outlining how things work in terse and clear terms.\nLess concerned with telling a story or addressing a specific use case, they should give a comprehensive outline of what you're documenting.</p>\n",
    "codeBlocks": []
  },
  {
    "slug": [
      "modules",
      "kv"
    ],
    "metadata": {
      "title": "tana/kv Module",
      "description": "KV Storage API Reference"
    },
    "content": "\nCloudflare Workers-compatible key-value storage for smart contracts.\n\n## Import\n\n```typescript\nimport { kv } from 'tana/kv'\n```\n\n## Methods\n\n### kv.get()\n\nRetrieve a value from storage.\n\n```typescript\nkv.get(key: string, options?: KVGetOptions): Promise<string | object | null>\n```\n\n**Parameters:**\n\n| Name | Type | Required | Description |\n|------|------|----------|-------------|\n| `key` | string | Yes | Storage key (max 512 bytes) |\n| `options.type` | 'text' \\| 'json' | No | Return type (default: 'text') |\n\n**Returns:** `Promise<string | object | null>`\n\n- Returns `null` if key doesn't exist\n- Returns string when `type: 'text'` (default)\n- Returns parsed object when `type: 'json'`\n\n**Examples:**\n\n```typescript\n// Get as text (default)\nconst username = await kv.get('username')\nconsole.log(username) // \"alice\"\n\n// Get as JSON\nconst user = await kv.get('user', { type: 'json' })\nconsole.log(user) // { name: \"alice\", balance: 1000 }\n\n// Handle missing key\nconst missing = await kv.get('nonexistent')\nif (missing === null) {\n  console.log('Key not found')\n}\n```\n\n---\n\n### kv.put()\n\nStore a value.\n\n```typescript\nkv.put(key: string, value: string | object, options?: KVPutOptions): Promise<void>\n```\n\n**Parameters:**\n\n| Name | Type | Required | Description |\n|------|------|----------|-------------|\n| `key` | string | Yes | Storage key (max 512 bytes) |\n| `value` | string \\| object | Yes | Value to store (max 25 MB) |\n| `options` | KVPutOptions | No | Reserved for future features |\n\n**Returns:** `Promise<void>`\n\n**Serialization:**\n- Strings: Stored as-is\n- Objects: Automatically JSON-serialized\n\n**Throws:**\n- \"KV key too long\" - Key exceeds 512 bytes\n- \"KV value too large\" - Value exceeds 25 MB\n\n**Examples:**\n\n```typescript\n// Store string\nawait kv.put('username', 'alice')\n\n// Store object (auto-serialized)\nawait kv.put('user', {\n  name: 'alice',\n  balance: 1000,\n  roles: ['admin', 'user']\n})\n\n// Overwrite existing key\nawait kv.put('username', 'bob') // Previous value replaced\n```\n\n---\n\n### kv.delete()\n\nDelete a key from storage.\n\n```typescript\nkv.delete(key: string): Promise<void>\n```\n\n**Parameters:**\n\n| Name | Type | Required | Description |\n|------|------|----------|-------------|\n| `key` | string | Yes | Key to delete |\n\n**Returns:** `Promise<void>`\n\n**Notes:**\n- No error if key doesn't exist\n- Idempotent operation\n\n**Examples:**\n\n```typescript\n// Delete existing key\nawait kv.delete('username')\n\n// Delete non-existent key (no error)\nawait kv.delete('nonexistent') // Succeeds silently\n```\n\n---\n\n### kv.list()\n\nList keys in storage with optional filtering.\n\n```typescript\nkv.list(options?: KVListOptions): Promise<KVListResult>\n```\n\n**Parameters:**\n\n| Name | Type | Required | Description |\n|------|------|----------|-------------|\n| `options.prefix` | string | No | Filter keys by prefix |\n| `options.limit` | number | No | Max keys to return (default: 1000) |\n\n**Returns:** `Promise<KVListResult>`\n\n```typescript\ninterface KVListResult {\n  keys: Array<{ name: string }>\n  list_complete: boolean\n  cursor: string | null\n}\n```\n\n**Result Fields:**\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `keys` | Array<{ name: string }> | Array of matching keys |\n| `list_complete` | boolean | Whether all results returned (always `true` currently) |\n| `cursor` | string \\| null | Pagination cursor (always `null` currently, reserved for future) |\n\n**Examples:**\n\n```typescript\n// List all keys\nconst all = await kv.list()\nconsole.log(all.keys) // [{ name: \"user\" }, { name: \"config\" }]\n\n// List with prefix\nawait kv.put('user:1', { name: 'alice' })\nawait kv.put('user:2', { name: 'bob' })\nawait kv.put('config', { theme: 'dark' })\n\nconst users = await kv.list({ prefix: 'user:' })\nconsole.log(users.keys) // [{ name: \"user:1\" }, { name: \"user:2\" }]\n\n// Limit results\nconst first10 = await kv.list({ limit: 10 })\nconsole.log(first10.keys.length) // 10 or fewer\n\n// Check if more results available\nif (!first10.list_complete) {\n  // Use cursor for next page (future feature)\n  const next = await kv.list({ cursor: first10.cursor })\n}\n```\n\n---\n\n## Type Definitions\n\n### KVGetOptions\n\n```typescript\ninterface KVGetOptions {\n  type?: 'text' | 'json' | 'arrayBuffer' | 'stream'\n}\n```\n\n**Supported types:**\n- ✅ `'text'` - Return as string (default)\n- ✅ `'json'` - Parse and return as object\n- ❌ `'arrayBuffer'` - Future feature\n- ❌ `'stream'` - Future feature\n\n---\n\n### KVPutOptions\n\n```typescript\ninterface KVPutOptions {\n  metadata?: Record<string, any>\n  expirationTtl?: number\n  expiration?: number\n}\n```\n\n**Reserved for future features:**\n- `metadata` - Custom metadata for the key\n- `expirationTtl` - TTL in seconds\n- `expiration` - Absolute expiration timestamp\n\nCurrently these options are accepted but have no effect.\n\n---\n\n### KVListOptions\n\n```typescript\ninterface KVListOptions {\n  prefix?: string\n  limit?: number\n  cursor?: string\n}\n```\n\n**Fields:**\n- `prefix` - Filter keys starting with prefix (default: none)\n- `limit` - Max keys to return (default: 1000, max: 1000)\n- `cursor` - Pagination cursor (future feature)\n\n---\n\n### KVListResult\n\n```typescript\ninterface KVListResult {\n  keys: KVListResultKey[]\n  list_complete: boolean\n  cursor: string | null\n}\n```\n\n---\n\n### KVListResultKey\n\n```typescript\ninterface KVListResultKey {\n  name: string\n  expiration?: number\n  metadata?: Record<string, any>\n}\n```\n\n**Fields:**\n- `name` - The key name\n- `expiration` - Future feature (always undefined)\n- `metadata` - Future feature (always undefined)\n\n---\n\n## Constraints & Limits\n\n| Constraint | Limit | Error Message |\n|------------|-------|---------------|\n| Key length | 512 bytes | \"KV key too long: X bytes (max 512)\" |\n| Value size | 25 MB | \"KV value too large: X bytes (max 25 MB)\" |\n| Keys per list() | 1000 | Silently limited to 1000 |\n| Keys per contract | Unlimited | Subject to storage backend limits |\n\n---\n\n## Namespace Isolation\n\nKV storage is automatically isolated per-contract:\n\n```typescript\n// Contract A\nawait kv.put('username', 'alice')\n\n// Contract B\nawait kv.get('username') // Returns null, not \"alice\"\n```\n\nEach contract has its own isolated namespace. Keys are internally prefixed with the contract name to prevent conflicts.\n\n---\n\n## Cloudflare Workers Compatibility\n\nThe API is designed to match Cloudflare Workers KV:\n\n**Matching Features:**\n- ✅ `get()` / `put()` / `delete()` / `list()` methods\n- ✅ Type options ('text', 'json')\n- ✅ Prefix filtering\n- ✅ Limit parameter\n- ✅ Same return types\n\n**Differences:**\n- ❌ No `getWithMetadata()` yet\n- ❌ No TTL/expiration yet\n- ❌ No pagination cursors yet\n- ❌ No `'arrayBuffer'` / `'stream'` types yet\n\nThis allows contracts written for Tana to be easily adapted for Cloudflare Workers and vice versa.\n\n---\n\n## Examples\n\n### Counter\n\n```typescript\nimport { kv } from 'tana/kv'\n\nexport async function contract() {\n  const current = await kv.get('counter', { type: 'json' })\n  const count = (current?.count || 0) + 1\n\n  await kv.put('counter', { count, lastUpdated: Date.now() })\n\n  return { count }\n}\n```\n\n### Session Management\n\n```typescript\nimport { kv } from 'tana/kv'\nimport { context } from 'tana/context'\n\nexport async function contract() {\n  const input = context.input()\n\n  if (input.action === 'create') {\n    const session = {\n      userId: input.userId,\n      createdAt: Date.now()\n    }\n    await kv.put(`session:${input.sessionId}`, session)\n    return { success: true }\n  }\n\n  if (input.action === 'get') {\n    const session = await kv.get(`session:${input.sessionId}`, { type: 'json' })\n    return session || { error: 'Session not found' }\n  }\n\n  if (input.action === 'delete') {\n    await kv.delete(`session:${input.sessionId}`)\n    return { success: true }\n  }\n}\n```\n\n### User Preferences\n\n```typescript\nimport { kv } from 'tana/kv'\nimport { context } from 'tana/context'\n\nexport async function get(req: Request) {\n  const caller = req.tana.caller\n  if (!caller) return { error: 'Login required' }\n\n  const prefs = await kv.get(`prefs:${caller.id}`, { type: 'json' })\n\n  return prefs || {\n    theme: 'dark',\n    notifications: true,\n    language: 'en'\n  }\n}\n\nexport async function post(req: Request) {\n  const caller = req.tana.caller\n  if (!caller) return { error: 'Login required' }\n\n  const prefs = req.body\n\n  await kv.put(`prefs:${caller.id}`, prefs)\n\n  return { success: true }\n}\n```\n\n### Cache with Prefix\n\n```typescript\nimport { kv } from 'tana/kv'\n\nexport async function contract() {\n  // Cache multiple items\n  await kv.put('cache:api:users', [{ id: 1 }, { id: 2 }])\n  await kv.put('cache:api:posts', [{ id: 1 }])\n  await kv.put('cache:db:config', { host: 'localhost' })\n\n  // List only cache:api: items\n  const apiCache = await kv.list({ prefix: 'cache:api:' })\n  console.log(apiCache.keys)\n  // [{ name: \"cache:api:posts\" }, { name: \"cache:api:users\" }]\n\n  // Clear all api cache\n  for (const key of apiCache.keys) {\n    await kv.delete(key.name)\n  }\n\n  return { cleared: apiCache.keys.length }\n}\n```\n\n---\n\n## See Also\n\n- [KV Storage Guide](/guides/kv-storage) - Usage guide with patterns\n- [KV Implementation](/contributing/runtime/modules/kv) - Technical details\n- [Smart Contracts](/guides/smart-contracts) - Contract development guide\n",
    "html": "<p>Cloudflare Workers-compatible key-value storage for smart contracts.</p>\n<h2>Import</h2>\n<div class=\"code-block-placeholder\" data-index=\"0\"></div>\n<h2>Methods</h2>\n<h3>kv.get()</h3>\n<p>Retrieve a value from storage.</p>\n<div class=\"code-block-placeholder\" data-index=\"1\"></div>\n<p><strong>Parameters:</strong></p>\n<p>| Name | Type | Required | Description |\n|------|------|----------|-------------|\n| <code>key</code> | string | Yes | Storage key (max 512 bytes) |\n| <code>options.type</code> | 'text' | 'json' | No | Return type (default: 'text') |</p>\n<p><strong>Returns:</strong> <code>Promise&#x3C;string | object | null></code></p>\n<ul>\n<li>Returns <code>null</code> if key doesn't exist</li>\n<li>Returns string when <code>type: 'text'</code> (default)</li>\n<li>Returns parsed object when <code>type: 'json'</code></li>\n</ul>\n<p><strong>Examples:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"2\"></div>\n<hr>\n<h3>kv.put()</h3>\n<p>Store a value.</p>\n<div class=\"code-block-placeholder\" data-index=\"3\"></div>\n<p><strong>Parameters:</strong></p>\n<p>| Name | Type | Required | Description |\n|------|------|----------|-------------|\n| <code>key</code> | string | Yes | Storage key (max 512 bytes) |\n| <code>value</code> | string | object | Yes | Value to store (max 25 MB) |\n| <code>options</code> | KVPutOptions | No | Reserved for future features |</p>\n<p><strong>Returns:</strong> <code>Promise&#x3C;void></code></p>\n<p><strong>Serialization:</strong></p>\n<ul>\n<li>Strings: Stored as-is</li>\n<li>Objects: Automatically JSON-serialized</li>\n</ul>\n<p><strong>Throws:</strong></p>\n<ul>\n<li>\"KV key too long\" - Key exceeds 512 bytes</li>\n<li>\"KV value too large\" - Value exceeds 25 MB</li>\n</ul>\n<p><strong>Examples:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"4\"></div>\n<hr>\n<h3>kv.delete()</h3>\n<p>Delete a key from storage.</p>\n<div class=\"code-block-placeholder\" data-index=\"5\"></div>\n<p><strong>Parameters:</strong></p>\n<p>| Name | Type | Required | Description |\n|------|------|----------|-------------|\n| <code>key</code> | string | Yes | Key to delete |</p>\n<p><strong>Returns:</strong> <code>Promise&#x3C;void></code></p>\n<p><strong>Notes:</strong></p>\n<ul>\n<li>No error if key doesn't exist</li>\n<li>Idempotent operation</li>\n</ul>\n<p><strong>Examples:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"6\"></div>\n<hr>\n<h3>kv.list()</h3>\n<p>List keys in storage with optional filtering.</p>\n<div class=\"code-block-placeholder\" data-index=\"7\"></div>\n<p><strong>Parameters:</strong></p>\n<p>| Name | Type | Required | Description |\n|------|------|----------|-------------|\n| <code>options.prefix</code> | string | No | Filter keys by prefix |\n| <code>options.limit</code> | number | No | Max keys to return (default: 1000) |</p>\n<p><strong>Returns:</strong> <code>Promise&#x3C;KVListResult></code></p>\n<div class=\"code-block-placeholder\" data-index=\"8\"></div>\n<p><strong>Result Fields:</strong></p>\n<p>| Field | Type | Description |\n|-------|------|-------------|\n| <code>keys</code> | Array&#x3C;{ name: string }> | Array of matching keys |\n| <code>list_complete</code> | boolean | Whether all results returned (always <code>true</code> currently) |\n| <code>cursor</code> | string | null | Pagination cursor (always <code>null</code> currently, reserved for future) |</p>\n<p><strong>Examples:</strong></p>\n<div class=\"code-block-placeholder\" data-index=\"9\"></div>\n<hr>\n<h2>Type Definitions</h2>\n<h3>KVGetOptions</h3>\n<div class=\"code-block-placeholder\" data-index=\"10\"></div>\n<p><strong>Supported types:</strong></p>\n<ul>\n<li>✅ <code>'text'</code> - Return as string (default)</li>\n<li>✅ <code>'json'</code> - Parse and return as object</li>\n<li>❌ <code>'arrayBuffer'</code> - Future feature</li>\n<li>❌ <code>'stream'</code> - Future feature</li>\n</ul>\n<hr>\n<h3>KVPutOptions</h3>\n<div class=\"code-block-placeholder\" data-index=\"11\"></div>\n<p><strong>Reserved for future features:</strong></p>\n<ul>\n<li><code>metadata</code> - Custom metadata for the key</li>\n<li><code>expirationTtl</code> - TTL in seconds</li>\n<li><code>expiration</code> - Absolute expiration timestamp</li>\n</ul>\n<p>Currently these options are accepted but have no effect.</p>\n<hr>\n<h3>KVListOptions</h3>\n<div class=\"code-block-placeholder\" data-index=\"12\"></div>\n<p><strong>Fields:</strong></p>\n<ul>\n<li><code>prefix</code> - Filter keys starting with prefix (default: none)</li>\n<li><code>limit</code> - Max keys to return (default: 1000, max: 1000)</li>\n<li><code>cursor</code> - Pagination cursor (future feature)</li>\n</ul>\n<hr>\n<h3>KVListResult</h3>\n<div class=\"code-block-placeholder\" data-index=\"13\"></div>\n<hr>\n<h3>KVListResultKey</h3>\n<div class=\"code-block-placeholder\" data-index=\"14\"></div>\n<p><strong>Fields:</strong></p>\n<ul>\n<li><code>name</code> - The key name</li>\n<li><code>expiration</code> - Future feature (always undefined)</li>\n<li><code>metadata</code> - Future feature (always undefined)</li>\n</ul>\n<hr>\n<h2>Constraints &#x26; Limits</h2>\n<p>| Constraint | Limit | Error Message |\n|------------|-------|---------------|\n| Key length | 512 bytes | \"KV key too long: X bytes (max 512)\" |\n| Value size | 25 MB | \"KV value too large: X bytes (max 25 MB)\" |\n| Keys per list() | 1000 | Silently limited to 1000 |\n| Keys per contract | Unlimited | Subject to storage backend limits |</p>\n<hr>\n<h2>Namespace Isolation</h2>\n<p>KV storage is automatically isolated per-contract:</p>\n<div class=\"code-block-placeholder\" data-index=\"15\"></div>\n<p>Each contract has its own isolated namespace. Keys are internally prefixed with the contract name to prevent conflicts.</p>\n<hr>\n<h2>Cloudflare Workers Compatibility</h2>\n<p>The API is designed to match Cloudflare Workers KV:</p>\n<p><strong>Matching Features:</strong></p>\n<ul>\n<li>✅ <code>get()</code> / <code>put()</code> / <code>delete()</code> / <code>list()</code> methods</li>\n<li>✅ Type options ('text', 'json')</li>\n<li>✅ Prefix filtering</li>\n<li>✅ Limit parameter</li>\n<li>✅ Same return types</li>\n</ul>\n<p><strong>Differences:</strong></p>\n<ul>\n<li>❌ No <code>getWithMetadata()</code> yet</li>\n<li>❌ No TTL/expiration yet</li>\n<li>❌ No pagination cursors yet</li>\n<li>❌ No <code>'arrayBuffer'</code> / <code>'stream'</code> types yet</li>\n</ul>\n<p>This allows contracts written for Tana to be easily adapted for Cloudflare Workers and vice versa.</p>\n<hr>\n<h2>Examples</h2>\n<h3>Counter</h3>\n<div class=\"code-block-placeholder\" data-index=\"16\"></div>\n<h3>Session Management</h3>\n<div class=\"code-block-placeholder\" data-index=\"17\"></div>\n<h3>User Preferences</h3>\n<div class=\"code-block-placeholder\" data-index=\"18\"></div>\n<h3>Cache with Prefix</h3>\n<div class=\"code-block-placeholder\" data-index=\"19\"></div>\n<hr>\n<h2>See Also</h2>\n<ul>\n<li><a href=\"/guides/kv-storage\">KV Storage Guide</a> - Usage guide with patterns</li>\n<li><a href=\"/contributing/runtime/modules/kv\">KV Implementation</a> - Technical details</li>\n<li><a href=\"/guides/smart-contracts\">Smart Contracts</a> - Contract development guide</li>\n</ul>\n",
    "codeBlocks": [
      {
        "lang": "typescript",
        "code": "import { kv } from 'tana/kv'"
      },
      {
        "lang": "typescript",
        "code": "kv.get(key: string, options?: KVGetOptions): Promise<string | object | null>"
      },
      {
        "lang": "typescript",
        "code": "// Get as text (default)\nconst username = await kv.get('username')\nconsole.log(username) // \"alice\"\n\n// Get as JSON\nconst user = await kv.get('user', { type: 'json' })\nconsole.log(user) // { name: \"alice\", balance: 1000 }\n\n// Handle missing key\nconst missing = await kv.get('nonexistent')\nif (missing === null) {\n  console.log('Key not found')\n}"
      },
      {
        "lang": "typescript",
        "code": "kv.put(key: string, value: string | object, options?: KVPutOptions): Promise<void>"
      },
      {
        "lang": "typescript",
        "code": "// Store string\nawait kv.put('username', 'alice')\n\n// Store object (auto-serialized)\nawait kv.put('user', {\n  name: 'alice',\n  balance: 1000,\n  roles: ['admin', 'user']\n})\n\n// Overwrite existing key\nawait kv.put('username', 'bob') // Previous value replaced"
      },
      {
        "lang": "typescript",
        "code": "kv.delete(key: string): Promise<void>"
      },
      {
        "lang": "typescript",
        "code": "// Delete existing key\nawait kv.delete('username')\n\n// Delete non-existent key (no error)\nawait kv.delete('nonexistent') // Succeeds silently"
      },
      {
        "lang": "typescript",
        "code": "kv.list(options?: KVListOptions): Promise<KVListResult>"
      },
      {
        "lang": "typescript",
        "code": "interface KVListResult {\n  keys: Array<{ name: string }>\n  list_complete: boolean\n  cursor: string | null\n}"
      },
      {
        "lang": "typescript",
        "code": "// List all keys\nconst all = await kv.list()\nconsole.log(all.keys) // [{ name: \"user\" }, { name: \"config\" }]\n\n// List with prefix\nawait kv.put('user:1', { name: 'alice' })\nawait kv.put('user:2', { name: 'bob' })\nawait kv.put('config', { theme: 'dark' })\n\nconst users = await kv.list({ prefix: 'user:' })\nconsole.log(users.keys) // [{ name: \"user:1\" }, { name: \"user:2\" }]\n\n// Limit results\nconst first10 = await kv.list({ limit: 10 })\nconsole.log(first10.keys.length) // 10 or fewer\n\n// Check if more results available\nif (!first10.list_complete) {\n  // Use cursor for next page (future feature)\n  const next = await kv.list({ cursor: first10.cursor })\n}"
      },
      {
        "lang": "typescript",
        "code": "interface KVGetOptions {\n  type?: 'text' | 'json' | 'arrayBuffer' | 'stream'\n}"
      },
      {
        "lang": "typescript",
        "code": "interface KVPutOptions {\n  metadata?: Record<string, any>\n  expirationTtl?: number\n  expiration?: number\n}"
      },
      {
        "lang": "typescript",
        "code": "interface KVListOptions {\n  prefix?: string\n  limit?: number\n  cursor?: string\n}"
      },
      {
        "lang": "typescript",
        "code": "interface KVListResult {\n  keys: KVListResultKey[]\n  list_complete: boolean\n  cursor: string | null\n}"
      },
      {
        "lang": "typescript",
        "code": "interface KVListResultKey {\n  name: string\n  expiration?: number\n  metadata?: Record<string, any>\n}"
      },
      {
        "lang": "typescript",
        "code": "// Contract A\nawait kv.put('username', 'alice')\n\n// Contract B\nawait kv.get('username') // Returns null, not \"alice\""
      },
      {
        "lang": "typescript",
        "code": "import { kv } from 'tana/kv'\n\nexport async function contract() {\n  const current = await kv.get('counter', { type: 'json' })\n  const count = (current?.count || 0) + 1\n\n  await kv.put('counter', { count, lastUpdated: Date.now() })\n\n  return { count }\n}"
      },
      {
        "lang": "typescript",
        "code": "import { kv } from 'tana/kv'\nimport { context } from 'tana/context'\n\nexport async function contract() {\n  const input = context.input()\n\n  if (input.action === 'create') {\n    const session = {\n      userId: input.userId,\n      createdAt: Date.now()\n    }\n    await kv.put(`session:${input.sessionId}`, session)\n    return { success: true }\n  }\n\n  if (input.action === 'get') {\n    const session = await kv.get(`session:${input.sessionId}`, { type: 'json' })\n    return session || { error: 'Session not found' }\n  }\n\n  if (input.action === 'delete') {\n    await kv.delete(`session:${input.sessionId}`)\n    return { success: true }\n  }\n}"
      },
      {
        "lang": "typescript",
        "code": "import { kv } from 'tana/kv'\nimport { context } from 'tana/context'\n\nexport async function get(req: Request) {\n  const caller = req.tana.caller\n  if (!caller) return { error: 'Login required' }\n\n  const prefs = await kv.get(`prefs:${caller.id}`, { type: 'json' })\n\n  return prefs || {\n    theme: 'dark',\n    notifications: true,\n    language: 'en'\n  }\n}\n\nexport async function post(req: Request) {\n  const caller = req.tana.caller\n  if (!caller) return { error: 'Login required' }\n\n  const prefs = req.body\n\n  await kv.put(`prefs:${caller.id}`, prefs)\n\n  return { success: true }\n}"
      },
      {
        "lang": "typescript",
        "code": "import { kv } from 'tana/kv'\n\nexport async function contract() {\n  // Cache multiple items\n  await kv.put('cache:api:users', [{ id: 1 }, { id: 2 }])\n  await kv.put('cache:api:posts', [{ id: 1 }])\n  await kv.put('cache:db:config', { host: 'localhost' })\n\n  // List only cache:api: items\n  const apiCache = await kv.list({ prefix: 'cache:api:' })\n  console.log(apiCache.keys)\n  // [{ name: \"cache:api:posts\" }, { name: \"cache:api:users\" }]\n\n  // Clear all api cache\n  for (const key of apiCache.keys) {\n    await kv.delete(key.name)\n  }\n\n  return { cleared: apiCache.keys.length }\n}"
      }
    ]
  }
]