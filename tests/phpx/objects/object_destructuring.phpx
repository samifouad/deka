/*
TEST: Object destructuring
Covers: assignment object patterns, function param destructuring, foreach object patterns.
*/

$pkg = { id: 42, meta: { slug: "hello" } }
({ id: $id, meta: { slug: $slug } } = $pkg)
echo $id . "\n"
echo $slug . "\n"

function fullName({ first: $first, last: $last = "Smith" }: Object<{ first: string, last?: string }>) {
  return $first . " " . $last
}

echo fullName({ first: "Sam" }) . "\n"

$rows = [
  { name: "A", count: 1 },
  { name: "B", count: 2 },
]

foreach ($rows as { name: $name, count: $count }) {
  echo $name . ":" . $count . "\n"
}
