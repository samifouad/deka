/*
TEST: Struct composition with use
Covers: embedded struct fields/methods, promotion, dot access, method calls.
*/

struct Cat {
    $name: string;

    function sound(): string {
        return "meow";
    }
}

struct Animal {
    use Cat;

    function greet(): string {
        return "hi " . $this.name;
    }
}

$pet = Animal { $Cat: Cat { $name: "Milo" } };

echo $pet.name . "\n";
echo $pet->sound() . "\n";
echo $pet->greet() . "\n";
