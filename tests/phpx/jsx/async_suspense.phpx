/*
TEST: Async component rendering with Suspense
Covers: sync fallback path and async resolved render path.
*/

import { jsx, jsxs, Suspense } from 'component/core'
import { renderToString, renderToStringAsync } from 'component/dom'

async function AsyncTitle($props): Promise<mixed> {
  return <h1>{$props.title}</h1>
}

$sync = renderToString(
  <Suspense fallback={<p>Loading</p>}>
    <AsyncTitle title="Hello" />
  </Suspense>
)
echo $sync . "\n"

$async = await renderToStringAsync(
  <Suspense fallback={<p>Loading</p>}>
    <AsyncTitle title="Hello" />
  </Suspense>
)
echo $async . "\n"
